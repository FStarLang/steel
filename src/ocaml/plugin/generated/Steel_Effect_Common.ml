open Prims
type true_p = unit
type ('a, 'hp) selector' = unit
type ('a, 'hp, 'sel) sel_depends_only_on = unit
type ('a, 'hp, 'sel) sel_depends_only_on_core = unit
type ('a, 'hp) selector = unit
let (normal_steps : FStar_Pervasives.norm_step Prims.list) =
  [FStar_Pervasives.delta_attr
     ["Steel.Effect.Common.__steel_reduce__";
     "Steel.Effect.Common.__inner_steel_reduce__"];
  FStar_Pervasives.delta_only
    ["Steel.Effect.Common.__proj__Mkvprop'__item__t";
    "Steel.Effect.Common.__proj__Mkvprop'__item__hp";
    "Steel.Effect.Common.__proj__Mkvprop'__item__sel";
    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit"];
  FStar_Pervasives.delta_qualifier ["unfold"];
  FStar_Pervasives.iota;
  FStar_Pervasives.zeta;
  FStar_Pervasives.primops;
  FStar_Pervasives.simplify]
let normal : 'a . 'a -> 'a = fun x -> x
type 'p t_of = Obj.t
type pre_t = unit
type 'a post_t = unit
type ('p, 'q) can_be_split = unit
type ('a, 'p, 'q) can_be_split_forall = unit
type ('p, 't1, 't2) can_be_split_dep = unit
type ('a, 'p, 't1, 't2) can_be_split_forall_dep = unit
type ('p1, 'p2) prop_and = unit
type ('a, 't1, 't2) equiv_forall = unit
type ('a, 'b, 't1, 't2) can_be_split_post = unit
type ('p, 'q) equiv = unit
type 'pre rmem' = unit
type ('frame, 'h) valid_rmem = unit
type 'pre rmem = unit
type 'pre req_t = unit
type ('pre, 'a, 'post) ens_t = unit
type ('framed, 'frame) maybe_emp = Obj.t
type ('a, 'framed, 'frame) maybe_emp_dep = Obj.t


type ('frame, 'h0, 'h1) frame_equalities' = Obj.t
let (frame_vc_norm : unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    FStarC_Tactics_V2_Builtins.with_compat_pre_core Prims.int_zero
      (fun uu___1 ->
         let uu___2 =
           FStarC_Tactics_V2_Builtins.norm
             [FStar_Pervasives.delta_attr
                ["Steel.Effect.Common.__steel_reduce__"];
             FStar_Pervasives.delta_only
               ["Steel.Effect.Common.__proj__Mkvprop'__item__t";
               "Steel.Effect.Common.__proj__Mkvprop'__item__hp";
               "Steel.Effect.Common.__proj__Mkvprop'__item__sel";
               "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
               "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit"];
             FStar_Pervasives.delta_qualifier ["unfold"];
             FStar_Pervasives.iota;
             FStar_Pervasives.zeta;
             FStar_Pervasives.primops;
             FStar_Pervasives.simplify] in
         FStar_Tactics_Effect.tac_bind
           (FStar_Sealed.seal
              (Obj.magic
                 (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                    (Prims.of_int (420)) (Prims.of_int (2))
                    (Prims.of_int (425)) (Prims.of_int (32)))))
           (FStar_Sealed.seal
              (Obj.magic
                 (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                    (Prims.of_int (432)) (Prims.of_int (2))
                    (Prims.of_int (456)) (Prims.of_int (10)))))
           (Obj.magic uu___2)
           (fun uu___3 ->
              (fun uu___3 ->
                 let uu___4 =
                   let uu___5 =
                     FStar_Tactics_V2_Derived.repeat
                       (fun uu___6 ->
                          let uu___7 =
                            FStar_Tactics_V2_Derived.apply_lemma
                              (FStarC_Reflection_V2_Builtins.pack_ln
                                 (FStarC_Reflection_V2_Data.Tv_FVar
                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                       ["Steel";
                                       "Effect";
                                       "Common";
                                       "elim_conjunction"]))) in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (434)) (Prims.of_int (4))
                                     (Prims.of_int (434)) (Prims.of_int (35)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (436)) (Prims.of_int (4))
                                     (Prims.of_int (446)) (Prims.of_int (12)))))
                            (Obj.magic uu___7)
                            (fun uu___8 ->
                               (fun uu___8 ->
                                  let uu___9 =
                                    FStar_Tactics_V2_Derived.dismiss () in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (436))
                                                (Prims.of_int (4))
                                                (Prims.of_int (436))
                                                (Prims.of_int (14)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (437))
                                                (Prims.of_int (4))
                                                (Prims.of_int (446))
                                                (Prims.of_int (12)))))
                                       (Obj.magic uu___9)
                                       (fun uu___10 ->
                                          (fun uu___10 ->
                                             let uu___11 =
                                               FStar_Tactics_V2_Derived.dismiss
                                                 () in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (437))
                                                           (Prims.of_int (4))
                                                           (Prims.of_int (437))
                                                           (Prims.of_int (14)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (439))
                                                           (Prims.of_int (4))
                                                           (Prims.of_int (446))
                                                           (Prims.of_int (12)))))
                                                  (Obj.magic uu___11)
                                                  (fun uu___12 ->
                                                     (fun uu___12 ->
                                                        let uu___13 =
                                                          FStar_Tactics_V2_Logic.split
                                                            () in
                                                        Obj.magic
                                                          (FStar_Tactics_Effect.tac_bind
                                                             (FStar_Sealed.seal
                                                                (Obj.magic
                                                                   (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (439))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (439))
                                                                    (Prims.of_int (12)))))
                                                             (FStar_Sealed.seal
                                                                (Obj.magic
                                                                   (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (446))
                                                                    (Prims.of_int (12)))))
                                                             (Obj.magic
                                                                uu___13)
                                                             (fun uu___14 ->
                                                                (fun uu___14
                                                                   ->
                                                                   let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "lemma_frame_emp"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (52)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (54))
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (63)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.dismiss
                                                                    ()))
                                                                    uu___18))
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___17
                                                                    -> ())))
                                                                    uu___16) in
                                                                   Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (441))
                                                                    (Prims.of_int (78)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (446))
                                                                    (Prims.of_int (12)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    let uu___19
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "lemma_frame_equalities"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (59)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (61))
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (71)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.dismiss
                                                                    ()))
                                                                    uu___20))
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    -> ())))
                                                                    uu___18) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (443))
                                                                    (Prims.of_int (86)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (444))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (446))
                                                                    (Prims.of_int (12)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    let uu___19
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__steel_reduce__";
                                                                    "Steel.Effect.Common.__inner_steel_reduce__"];
                                                                    FStar_Pervasives.delta_only
                                                                    ["Steel.Effect.Common.__proj__Mkvprop'__item__t";
                                                                    "Steel.Effect.Common.__proj__Mkvprop'__item__hp";
                                                                    "Steel.Effect.Common.__proj__Mkvprop'__item__sel";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit"];
                                                                    FStar_Pervasives.delta_qualifier
                                                                    ["unfold"];
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta;
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.simplify] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (444))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (444))
                                                                    (Prims.of_int (21)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (446))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (446))
                                                                    (Prims.of_int (12)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.trefl
                                                                    ()))
                                                                    uu___20)))
                                                                    uu___18)))
                                                                    uu___16)))
                                                                  uu___14)))
                                                       uu___12))) uu___10)))
                                 uu___8)) in
                   FStar_Tactics_Effect.tac_bind
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (432)) (Prims.of_int (9))
                              (Prims.of_int (447)) (Prims.of_int (4)))))
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (432)) (Prims.of_int (2))
                              (Prims.of_int (447)) (Prims.of_int (4)))))
                     (Obj.magic uu___5)
                     (fun uu___6 ->
                        FStar_Tactics_Effect.lift_div_tac (fun uu___7 -> ())) in
                 Obj.magic
                   (FStar_Tactics_Effect.tac_bind
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (432)) (Prims.of_int (2))
                               (Prims.of_int (447)) (Prims.of_int (4)))))
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (450)) (Prims.of_int (2))
                               (Prims.of_int (456)) (Prims.of_int (10)))))
                      (Obj.magic uu___4)
                      (fun uu___5 ->
                         (fun uu___5 ->
                            let uu___6 =
                              FStar_Tactics_V2_Derived.or_else
                                (fun uu___7 ->
                                   let uu___8 =
                                     FStar_Tactics_V2_Derived.apply_lemma
                                       (FStarC_Reflection_V2_Builtins.pack_ln
                                          (FStarC_Reflection_V2_Data.Tv_FVar
                                             (FStarC_Reflection_V2_Builtins.pack_fv
                                                ["Steel";
                                                "Effect";
                                                "Common";
                                                "lemma_frame_emp"]))) in
                                   FStar_Tactics_Effect.tac_bind
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (450))
                                              (Prims.of_int (20))
                                              (Prims.of_int (450))
                                              (Prims.of_int (50)))))
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (450))
                                              (Prims.of_int (52))
                                              (Prims.of_int (450))
                                              (Prims.of_int (61)))))
                                     (Obj.magic uu___8)
                                     (fun uu___9 ->
                                        (fun uu___9 ->
                                           Obj.magic
                                             (FStar_Tactics_V2_Derived.dismiss
                                                ())) uu___9))
                                (fun uu___7 ->
                                   (fun uu___7 ->
                                      Obj.magic
                                        (FStar_Tactics_Effect.lift_div_tac
                                           (fun uu___8 -> ()))) uu___7) in
                            Obj.magic
                              (FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (450))
                                          (Prims.of_int (2))
                                          (Prims.of_int (450))
                                          (Prims.of_int (76)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (454))
                                          (Prims.of_int (2))
                                          (Prims.of_int (456))
                                          (Prims.of_int (10)))))
                                 (Obj.magic uu___6)
                                 (fun uu___7 ->
                                    (fun uu___7 ->
                                       let uu___8 =
                                         FStar_Tactics_V2_Derived.or_else
                                           (fun uu___9 ->
                                              let uu___10 =
                                                FStar_Tactics_V2_Derived.apply_lemma
                                                  (FStarC_Reflection_V2_Builtins.pack_ln
                                                     (FStarC_Reflection_V2_Data.Tv_FVar
                                                        (FStarC_Reflection_V2_Builtins.pack_fv
                                                           ["Steel";
                                                           "Effect";
                                                           "Common";
                                                           "lemma_frame_equalities"]))) in
                                              FStar_Tactics_Effect.tac_bind
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (454))
                                                         (Prims.of_int (20))
                                                         (Prims.of_int (454))
                                                         (Prims.of_int (57)))))
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (454))
                                                         (Prims.of_int (59))
                                                         (Prims.of_int (454))
                                                         (Prims.of_int (69)))))
                                                (Obj.magic uu___10)
                                                (fun uu___11 ->
                                                   (fun uu___11 ->
                                                      Obj.magic
                                                        (FStar_Tactics_V2_Derived.dismiss
                                                           ())) uu___11))
                                           (fun uu___9 ->
                                              (fun uu___9 ->
                                                 Obj.magic
                                                   (FStar_Tactics_Effect.lift_div_tac
                                                      (fun uu___10 -> ())))
                                                uu___9) in
                                       Obj.magic
                                         (FStar_Tactics_Effect.tac_bind
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (454))
                                                     (Prims.of_int (2))
                                                     (Prims.of_int (454))
                                                     (Prims.of_int (84)))))
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (455))
                                                     (Prims.of_int (2))
                                                     (Prims.of_int (456))
                                                     (Prims.of_int (10)))))
                                            (Obj.magic uu___8)
                                            (fun uu___9 ->
                                               (fun uu___9 ->
                                                  let uu___10 =
                                                    FStarC_Tactics_V2_Builtins.norm
                                                      [FStar_Pervasives.delta_attr
                                                         ["Steel.Effect.Common.__steel_reduce__";
                                                         "Steel.Effect.Common.__inner_steel_reduce__"];
                                                      FStar_Pervasives.delta_only
                                                        ["Steel.Effect.Common.__proj__Mkvprop'__item__t";
                                                        "Steel.Effect.Common.__proj__Mkvprop'__item__hp";
                                                        "Steel.Effect.Common.__proj__Mkvprop'__item__sel";
                                                        "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                        "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit"];
                                                      FStar_Pervasives.delta_qualifier
                                                        ["unfold"];
                                                      FStar_Pervasives.iota;
                                                      FStar_Pervasives.zeta;
                                                      FStar_Pervasives.primops;
                                                      FStar_Pervasives.simplify] in
                                                  Obj.magic
                                                    (FStar_Tactics_Effect.tac_bind
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (455))
                                                                (Prims.of_int (2))
                                                                (Prims.of_int (455))
                                                                (Prims.of_int (19)))))
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (456))
                                                                (Prims.of_int (2))
                                                                (Prims.of_int (456))
                                                                (Prims.of_int (10)))))
                                                       (Obj.magic uu___10)
                                                       (fun uu___11 ->
                                                          (fun uu___11 ->
                                                             Obj.magic
                                                               (FStar_Tactics_V2_Derived.trefl
                                                                  ()))
                                                            uu___11))) uu___9)))
                                      uu___7))) uu___5))) uu___3))
let _ =
  FStarC_Tactics_Native.register_tactic "Steel.Effect.Common.frame_vc_norm"
    (Prims.of_int (2))
    (fun psc ->
       fun ncb ->
         fun us ->
           fun args ->
             FStarC_Tactics_InterpFuns.mk_tactic_interpretation_1
               "Steel.Effect.Common.frame_vc_norm (plugin)"
               (FStarC_Tactics_Native.from_tactic_1 frame_vc_norm)
               FStarC_Syntax_Embeddings.e_unit
               FStarC_Syntax_Embeddings.e_unit psc ncb us args)
type ('frame, 'h0, 'h1) frame_equalities = Obj.t
type ('v, 'p) vrefine_am = 'p
type ('v, 'p) vrefine_t = Obj.t


type ('v, 'p, 'x) vdep_payload = Obj.t
type ('v, 'p) vdep_t = (Obj.t, Obj.t) Prims.dtuple2



exception Appears 
let (uu___is_Appears : Prims.exn -> Prims.bool) =
  fun projectee -> match projectee with | Appears -> true | uu___ -> false
let (on_sort_binder :
  (FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
    ->
    FStar_Tactics_NamedView.binder ->
      (unit, unit) FStar_Tactics_Effect.tac_repr)
  = fun f -> fun b -> f b.FStar_Tactics_NamedView.sort
let rec (visit_tm :
  (FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
    ->
    FStar_Tactics_NamedView.term ->
      (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun ff ->
    fun t ->
      let uu___ = FStar_Tactics_NamedView.inspect t in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (656)) (Prims.of_int (11))
                 (Prims.of_int (656)) (Prims.of_int (20)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (657)) (Prims.of_int (2)) (Prims.of_int (699))
                 (Prims.of_int (9))))) (Obj.magic uu___)
        (fun uu___1 ->
           (fun tv ->
              let uu___1 =
                match tv with
                | FStar_Tactics_NamedView.Tv_FVar uu___2 ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___3 -> ())))
                | FStar_Tactics_NamedView.Tv_UInst (uu___2, uu___3) ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___4 -> ())))
                | FStar_Tactics_NamedView.Tv_Var uu___2 ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___3 -> ())))
                | FStar_Tactics_NamedView.Tv_BVar uu___2 ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___3 -> ())))
                | FStar_Tactics_NamedView.Tv_Type uu___2 ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___3 -> ())))
                | FStar_Tactics_NamedView.Tv_Const c ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___2 -> ())))
                | FStar_Tactics_NamedView.Tv_Uvar (i, u) ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___2 -> ())))
                | FStar_Tactics_NamedView.Tv_Unsupp ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___2 -> ())))
                | FStar_Tactics_NamedView.Tv_Unknown ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___2 -> ())))
                | FStar_Tactics_NamedView.Tv_Arrow (b, c) ->
                    Obj.magic
                      (Obj.repr
                         (let uu___2 = on_sort_binder ff b in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (669)) (Prims.of_int (6))
                                     (Prims.of_int (669)) (Prims.of_int (25)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (670)) (Prims.of_int (6))
                                     (Prims.of_int (670)) (Prims.of_int (21)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               (fun uu___3 -> Obj.magic (visit_comp ff c))
                                 uu___3)))
                | FStar_Tactics_NamedView.Tv_Abs (b, t1) ->
                    Obj.magic
                      (Obj.repr
                         (let uu___2 = on_sort_binder (visit_tm ff) b in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (672)) (Prims.of_int (14))
                                     (Prims.of_int (672)) (Prims.of_int (44)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (673)) (Prims.of_int (6))
                                     (Prims.of_int (673)) (Prims.of_int (19)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               (fun b1 -> Obj.magic (visit_tm ff t1)) uu___3)))
                | FStar_Tactics_NamedView.Tv_App (l, (r, q)) ->
                    Obj.magic
                      (Obj.repr
                         (let uu___2 = visit_tm ff l in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (676)) (Prims.of_int (7))
                                     (Prims.of_int (676)) (Prims.of_int (20)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (677)) (Prims.of_int (7))
                                     (Prims.of_int (677)) (Prims.of_int (20)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               (fun uu___3 -> Obj.magic (visit_tm ff r))
                                 uu___3)))
                | FStar_Tactics_NamedView.Tv_Refine (b, r) ->
                    Obj.magic
                      (Obj.repr
                         (let uu___2 = on_sort_binder ff b in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (680)) (Prims.of_int (6))
                                     (Prims.of_int (680)) (Prims.of_int (25)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (681)) (Prims.of_int (6))
                                     (Prims.of_int (681)) (Prims.of_int (19)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               (fun uu___3 -> Obj.magic (visit_tm ff r))
                                 uu___3)))
                | FStar_Tactics_NamedView.Tv_Let (r, attrs, b, def, t1) ->
                    Obj.magic
                      (Obj.repr
                         (let uu___2 = on_sort_binder ff b in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (684)) (Prims.of_int (6))
                                     (Prims.of_int (684)) (Prims.of_int (25)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (685)) (Prims.of_int (6))
                                     (Prims.of_int (686)) (Prims.of_int (19)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               (fun uu___3 ->
                                  let uu___4 = visit_tm ff def in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (685))
                                                (Prims.of_int (6))
                                                (Prims.of_int (685))
                                                (Prims.of_int (21)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (686))
                                                (Prims.of_int (6))
                                                (Prims.of_int (686))
                                                (Prims.of_int (19)))))
                                       (Obj.magic uu___4)
                                       (fun uu___5 ->
                                          (fun uu___5 ->
                                             Obj.magic (visit_tm ff t1))
                                            uu___5))) uu___3)))
                | FStar_Tactics_NamedView.Tv_Match (sc, uu___2, brs) ->
                    Obj.magic
                      (Obj.repr
                         (let uu___3 = visit_tm ff sc in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (689)) (Prims.of_int (6))
                                     (Prims.of_int (689)) (Prims.of_int (20)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (690)) (Prims.of_int (6))
                                     (Prims.of_int (690)) (Prims.of_int (28)))))
                            (Obj.magic uu___3)
                            (fun uu___4 ->
                               (fun uu___4 ->
                                  Obj.magic
                                    (FStar_Tactics_Util.iter (visit_br ff)
                                       brs)) uu___4)))
                | FStar_Tactics_NamedView.Tv_AscribedT (e, t1, topt, uu___2)
                    ->
                    Obj.magic
                      (Obj.repr
                         (let uu___3 = visit_tm ff e in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (693)) (Prims.of_int (6))
                                     (Prims.of_int (693)) (Prims.of_int (19)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (694)) (Prims.of_int (6))
                                     (Prims.of_int (694)) (Prims.of_int (19)))))
                            (Obj.magic uu___3)
                            (fun uu___4 ->
                               (fun uu___4 -> Obj.magic (visit_tm ff t1))
                                 uu___4)))
                | FStar_Tactics_NamedView.Tv_AscribedC (e, c, topt, uu___2)
                    -> Obj.magic (Obj.repr (visit_tm ff e)) in
              Obj.magic
                (FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (657)) (Prims.of_int (2))
                            (Prims.of_int (699)) (Prims.of_int (3)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (699)) (Prims.of_int (5))
                            (Prims.of_int (699)) (Prims.of_int (9)))))
                   (Obj.magic uu___1)
                   (fun uu___2 -> (fun uu___2 -> Obj.magic (ff t)) uu___2)))
             uu___1)
and (visit_br :
  (FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
    ->
    FStar_Tactics_NamedView.branch ->
      (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun ff ->
    fun b ->
      let uu___ =
        Obj.magic (FStar_Tactics_Effect.lift_div_tac (fun uu___1 -> b)) in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (702)) (Prims.of_int (15))
                 (Prims.of_int (702)) (Prims.of_int (16)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (701)) (Prims.of_int (60))
                 (Prims.of_int (703)) (Prims.of_int (15)))))
        (Obj.magic uu___)
        (fun uu___1 ->
           (fun uu___1 ->
              match uu___1 with | (p, t) -> Obj.magic (visit_tm ff t)) uu___1)
and (visit_comp :
  (FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
    ->
    FStar_Tactics_NamedView.comp ->
      (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun ff ->
    fun c ->
      let uu___ =
        Obj.magic
          (FStar_Tactics_Effect.lift_div_tac
             (fun uu___1 -> FStar_Tactics_NamedView.inspect_comp c)) in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (706)) (Prims.of_int (11))
                 (Prims.of_int (706)) (Prims.of_int (25)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (707)) (Prims.of_int (2)) (Prims.of_int (719))
                 (Prims.of_int (30))))) (Obj.magic uu___)
        (fun uu___1 ->
           (fun cv ->
              match cv with
              | FStarC_Reflection_V2_Data.C_Total ret ->
                  Obj.magic (visit_tm ff ret)
              | FStarC_Reflection_V2_Data.C_GTotal ret ->
                  Obj.magic (visit_tm ff ret)
              | FStarC_Reflection_V2_Data.C_Lemma (pre, post, pats) ->
                  let uu___1 = visit_tm ff pre in
                  Obj.magic
                    (FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (712)) (Prims.of_int (6))
                                (Prims.of_int (712)) (Prims.of_int (21)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (713)) (Prims.of_int (6))
                                (Prims.of_int (714)) (Prims.of_int (22)))))
                       (Obj.magic uu___1)
                       (fun uu___2 ->
                          (fun uu___2 ->
                             let uu___3 = visit_tm ff post in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (713))
                                           (Prims.of_int (6))
                                           (Prims.of_int (713))
                                           (Prims.of_int (22)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (714))
                                           (Prims.of_int (6))
                                           (Prims.of_int (714))
                                           (Prims.of_int (22)))))
                                  (Obj.magic uu___3)
                                  (fun uu___4 ->
                                     (fun uu___4 ->
                                        Obj.magic (visit_tm ff pats)) uu___4)))
                            uu___2))
              | FStarC_Reflection_V2_Data.C_Eff (us, eff, res, args, decrs)
                  ->
                  let uu___1 = visit_tm ff res in
                  Obj.magic
                    (FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (717)) (Prims.of_int (6))
                                (Prims.of_int (717)) (Prims.of_int (21)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (718)) (Prims.of_int (6))
                                (Prims.of_int (719)) (Prims.of_int (30)))))
                       (Obj.magic uu___1)
                       (fun uu___2 ->
                          (fun uu___2 ->
                             let uu___3 =
                               FStar_Tactics_Util.iter
                                 (fun uu___4 ->
                                    match uu___4 with
                                    | (a, q) -> visit_tm ff a) args in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (718))
                                           (Prims.of_int (6))
                                           (Prims.of_int (718))
                                           (Prims.of_int (45)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (719))
                                           (Prims.of_int (6))
                                           (Prims.of_int (719))
                                           (Prims.of_int (30)))))
                                  (Obj.magic uu___3)
                                  (fun uu___4 ->
                                     (fun uu___4 ->
                                        Obj.magic
                                          (FStar_Tactics_Util.iter
                                             (visit_tm ff) decrs)) uu___4)))
                            uu___2))) uu___1)
let (name_appears_in :
  FStarC_Reflection_Types.name ->
    FStar_Tactics_NamedView.term ->
      (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun nm ->
    fun t ->
      let uu___ =
        Obj.magic
          (FStar_Tactics_Effect.lift_div_tac
             (fun uu___1 ->
                fun t1 ->
                  let uu___2 = FStar_Tactics_NamedView.inspect t1 in
                  FStar_Tactics_Effect.tac_bind
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (725)) (Prims.of_int (10))
                             (Prims.of_int (725)) (Prims.of_int (19)))))
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (725)) (Prims.of_int (4))
                             (Prims.of_int (727)) (Prims.of_int (13)))))
                    (Obj.magic uu___2)
                    (fun uu___3 ->
                       match uu___3 with
                       | FStar_Tactics_NamedView.Tv_FVar fv ->
                           if
                             (FStarC_Reflection_V2_Builtins.inspect_fv fv) =
                               nm
                           then FStar_Tactics_Effect.raise Appears
                           else
                             FStar_Tactics_Effect.lift_div_tac
                               (fun uu___5 -> ())
                       | t2 ->
                           FStar_Tactics_Effect.lift_div_tac
                             (fun uu___4 -> ())))) in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (725)) (Prims.of_int (4)) (Prims.of_int (727))
                 (Prims.of_int (13)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (729)) (Prims.of_int (2)) (Prims.of_int (731))
                 (Prims.of_int (16))))) (Obj.magic uu___)
        (fun uu___1 ->
           (fun ff ->
              Obj.magic
                (FStar_Tactics_V2_Derived.try_with
                   (fun uu___1 ->
                      match () with
                      | () ->
                          let uu___2 =
                            let uu___3 = visit_tm ff t in
                            FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (729))
                                       (Prims.of_int (13))
                                       (Prims.of_int (729))
                                       (Prims.of_int (28)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (729))
                                       (Prims.of_int (6))
                                       (Prims.of_int (729))
                                       (Prims.of_int (28)))))
                              (Obj.magic uu___3)
                              (fun uu___4 ->
                                 FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___5 -> ())) in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (729)) (Prims.of_int (6))
                                     (Prims.of_int (729)) (Prims.of_int (28)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (729)) (Prims.of_int (30))
                                     (Prims.of_int (729)) (Prims.of_int (35)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               FStar_Tactics_Effect.lift_div_tac
                                 (fun uu___4 -> false)))
                   (fun uu___1 ->
                      (fun uu___1 ->
                         match uu___1 with
                         | Appears ->
                             Obj.magic
                               (FStar_Tactics_Effect.lift_div_tac
                                  (fun uu___2 -> true))
                         | e -> Obj.magic (FStar_Tactics_Effect.raise e))
                        uu___1))) uu___1)
let (term_appears_in :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term ->
      (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    fun i ->
      let uu___ =
        let uu___1 = FStarC_Tactics_V2_Builtins.term_to_string t in
        FStar_Tactics_Effect.tac_bind
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (735)) (Prims.of_int (30))
                   (Prims.of_int (735)) (Prims.of_int (48)))))
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (735)) (Prims.of_int (18))
                   (Prims.of_int (735)) (Prims.of_int (49)))))
          (Obj.magic uu___1)
          (fun uu___2 ->
             FStar_Tactics_Effect.lift_div_tac
               (fun uu___3 -> FStarC_Reflection_V2_Builtins.explode_qn uu___2)) in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (735)) (Prims.of_int (18))
                 (Prims.of_int (735)) (Prims.of_int (49)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (735)) (Prims.of_int (2)) (Prims.of_int (735))
                 (Prims.of_int (51))))) (Obj.magic uu___)
        (fun uu___1 ->
           (fun uu___1 -> Obj.magic (name_appears_in uu___1 i)) uu___1)
type atom = Prims.int
let rec (atoms_to_string : atom Prims.list -> Prims.string) =
  fun l ->
    match l with
    | [] -> ""
    | hd::tl ->
        Prims.strcat (Prims.string_of_int hd)
          (Prims.strcat " " (atoms_to_string tl))
type exp =
  | Unit 
  | Mult of exp * exp 
  | Atom of atom 
let (uu___is_Unit : exp -> Prims.bool) =
  fun projectee -> match projectee with | Unit -> true | uu___ -> false
let (uu___is_Mult : exp -> Prims.bool) =
  fun projectee ->
    match projectee with | Mult (_0, _1) -> true | uu___ -> false
let (__proj__Mult__item___0 : exp -> exp) =
  fun projectee -> match projectee with | Mult (_0, _1) -> _0
let (__proj__Mult__item___1 : exp -> exp) =
  fun projectee -> match projectee with | Mult (_0, _1) -> _1
let (uu___is_Atom : exp -> Prims.bool) =
  fun projectee -> match projectee with | Atom _0 -> true | uu___ -> false
let (__proj__Atom__item___0 : exp -> atom) =
  fun projectee -> match projectee with | Atom _0 -> _0
type 'a amap = ((atom * 'a) Prims.list * 'a)
let const : 'a . 'a -> 'a amap = fun xa -> ([], xa)
let rec my_assoc :
  'key 'value .
    'key ->
      ('key * 'value) Prims.list -> 'value FStar_Pervasives_Native.option
  =
  fun k ->
    fun dict ->
      match dict with
      | [] -> FStar_Pervasives_Native.None
      | (k', v')::q ->
          if k = k' then FStar_Pervasives_Native.Some v' else my_assoc k q
let select : 'a . atom -> 'a amap -> 'a =
  fun x ->
    fun am ->
      match my_assoc x (FStar_Pervasives_Native.fst am) with
      | FStar_Pervasives_Native.Some a1 -> a1
      | uu___ -> FStar_Pervasives_Native.snd am
let update : 'a . atom -> 'a -> 'a amap -> 'a amap =
  fun x ->
    fun xa ->
      fun am ->
        (((x, xa) :: (FStar_Pervasives_Native.fst am)),
          (FStar_Pervasives_Native.snd am))
let (is_uvar :
  FStar_Tactics_NamedView.term ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Tactics_NamedView.inspect t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (788)) (Prims.of_int (40)) (Prims.of_int (788))
               (Prims.of_int (49)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (788)) (Prims.of_int (34)) (Prims.of_int (793))
               (Prims.of_int (14))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | FStar_Tactics_NamedView.Tv_Uvar (uu___2, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___4 -> true)))
            | FStar_Tactics_NamedView.Tv_App (uu___2, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (let uu___4 =
                        FStar_Tactics_V2_SyntaxHelpers.collect_app t in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (791)) (Prims.of_int (21))
                                 (Prims.of_int (791)) (Prims.of_int (34)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (790)) (Prims.of_int (17))
                                 (Prims.of_int (792)) (Prims.of_int (27)))))
                        (Obj.magic uu___4)
                        (fun uu___5 ->
                           (fun uu___5 ->
                              match uu___5 with
                              | (hd, args) ->
                                  let uu___6 =
                                    FStar_Tactics_NamedView.inspect hd in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (792))
                                                (Prims.of_int (15))
                                                (Prims.of_int (792))
                                                (Prims.of_int (27)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (792))
                                                (Prims.of_int (6))
                                                (Prims.of_int (792))
                                                (Prims.of_int (27)))))
                                       (Obj.magic uu___6)
                                       (fun uu___7 ->
                                          FStar_Tactics_Effect.lift_div_tac
                                            (fun uu___8 ->
                                               FStar_Tactics_NamedView.uu___is_Tv_Uvar
                                                 uu___7)))) uu___5)))
            | uu___2 ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> false))))
           uu___1)
let rec (get_candidates :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term Prims.list ->
      (FStar_Tactics_NamedView.term Prims.list, unit)
        FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    fun l ->
      let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app t in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (797)) (Prims.of_int (16))
                 (Prims.of_int (797)) (Prims.of_int (29)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (796)) (Prims.of_int (65))
                 (Prims.of_int (804)) (Prims.of_int (32)))))
        (Obj.magic uu___)
        (fun uu___1 ->
           (fun uu___1 ->
              match uu___1 with
              | (name, uu___2) ->
                  (match l with
                   | [] ->
                       Obj.magic
                         (Obj.repr
                            (FStar_Tactics_Effect.lift_div_tac
                               (fun uu___3 -> [])))
                   | hd::tl ->
                       Obj.magic
                         (Obj.repr
                            (let uu___3 =
                               FStar_Tactics_V2_SyntaxHelpers.collect_app hd in
                             FStar_Tactics_Effect.tac_bind
                               (FStar_Sealed.seal
                                  (Obj.magic
                                     (FStar_Range.mk_range
                                        "Steel.Effect.Common.fsti"
                                        (Prims.of_int (801))
                                        (Prims.of_int (17))
                                        (Prims.of_int (801))
                                        (Prims.of_int (31)))))
                               (FStar_Sealed.seal
                                  (Obj.magic
                                     (FStar_Range.mk_range
                                        "Steel.Effect.Common.fsti"
                                        (Prims.of_int (800))
                                        (Prims.of_int (13))
                                        (Prims.of_int (804))
                                        (Prims.of_int (32)))))
                               (Obj.magic uu___3)
                               (fun uu___4 ->
                                  (fun uu___4 ->
                                     match uu___4 with
                                     | (n, uu___5) ->
                                         let uu___6 =
                                           FStarC_Tactics_V2_Builtins.term_eq_old
                                             n name in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (802))
                                                       (Prims.of_int (9))
                                                       (Prims.of_int (802))
                                                       (Prims.of_int (27)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (802))
                                                       (Prims.of_int (6))
                                                       (Prims.of_int (804))
                                                       (Prims.of_int (32)))))
                                              (Obj.magic uu___6)
                                              (fun uu___7 ->
                                                 (fun uu___7 ->
                                                    if uu___7
                                                    then
                                                      let uu___8 =
                                                        get_candidates t tl in
                                                      Obj.magic
                                                        (FStar_Tactics_Effect.tac_bind
                                                           (FStar_Sealed.seal
                                                              (Obj.magic
                                                                 (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (803))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (803))
                                                                    (Prims.of_int (33)))))
                                                           (FStar_Sealed.seal
                                                              (Obj.magic
                                                                 (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (802))
                                                                    (Prims.of_int (33))
                                                                    (Prims.of_int (804))
                                                                    (Prims.of_int (7)))))
                                                           (Obj.magic uu___8)
                                                           (fun uu___9 ->
                                                              FStar_Tactics_Effect.lift_div_tac
                                                                (fun uu___10
                                                                   -> hd ::
                                                                   uu___9)))
                                                    else
                                                      Obj.magic
                                                        (get_candidates t tl))
                                                   uu___7))) uu___4)))))
             uu___1)
let rec (trivial_cancel :
  atom -> atom Prims.list -> (Prims.bool * atom Prims.list)) =
  fun t ->
    fun l ->
      match l with
      | [] -> (false, l)
      | hd::tl ->
          if hd = t
          then (true, tl)
          else
            (let uu___1 = trivial_cancel t tl in
             match uu___1 with | (b, res) -> (b, (hd :: res)))
let rec (trivial_cancels :
  atom Prims.list ->
    atom Prims.list ->
      FStar_Tactics_NamedView.term amap ->
        ((atom Prims.list * atom Prims.list * atom Prims.list * atom
           Prims.list),
          unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun l1 ->
           fun l2 ->
             fun am ->
               match l1 with
               | [] ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_Effect.lift_div_tac
                           (fun uu___ -> ([], l2, [], []))))
               | hd::tl ->
                   Obj.magic
                     (Obj.repr
                        (let uu___ =
                           Obj.magic
                             (FStar_Tactics_Effect.lift_div_tac
                                (fun uu___1 -> trivial_cancel hd l2)) in
                         FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (825)) (Prims.of_int (21))
                                    (Prims.of_int (825)) (Prims.of_int (41)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (824)) (Prims.of_int (13))
                                    (Prims.of_int (828)) (Prims.of_int (76)))))
                           (Obj.magic uu___)
                           (fun uu___1 ->
                              (fun uu___1 ->
                                 match uu___1 with
                                 | (b, l2') ->
                                     let uu___2 = trivial_cancels tl l2' am in
                                     Obj.magic
                                       (FStar_Tactics_Effect.tac_bind
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (826))
                                                   (Prims.of_int (37))
                                                   (Prims.of_int (826))
                                                   (Prims.of_int (62)))))
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (825))
                                                   (Prims.of_int (44))
                                                   (Prims.of_int (828))
                                                   (Prims.of_int (76)))))
                                          (Obj.magic uu___2)
                                          (fun uu___3 ->
                                             FStar_Tactics_Effect.lift_div_tac
                                               (fun uu___4 ->
                                                  match uu___3 with
                                                  | (l1', l2'1, l1_del,
                                                     l2_del) ->
                                                      ((if b
                                                        then l1'
                                                        else hd :: l1'),
                                                        l2'1,
                                                        (if b
                                                         then hd :: l1_del
                                                         else l1_del),
                                                        (if b
                                                         then hd :: l2_del
                                                         else l2_del))))))
                                uu___1)))) uu___2 uu___1 uu___
exception Failed 
let (uu___is_Failed : Prims.exn -> Prims.bool) =
  fun projectee -> match projectee with | Failed -> true | uu___ -> false
exception Success 
let (uu___is_Success : Prims.exn -> Prims.bool) =
  fun projectee -> match projectee with | Success -> true | uu___ -> false
let rec (print_atoms :
  atom Prims.list ->
    FStar_Tactics_NamedView.term amap ->
      (Prims.string, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun l ->
         fun am ->
           match l with
           | [] ->
               Obj.magic
                 (Obj.repr
                    (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> "")))
           | hd::[] ->
               Obj.magic
                 (Obj.repr
                    (FStarC_Tactics_V2_Builtins.term_to_string (select hd am)))
           | hd::tl ->
               Obj.magic
                 (Obj.repr
                    (let uu___ =
                       FStarC_Tactics_V2_Builtins.term_to_string
                         (select hd am) in
                     FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (838)) (Prims.of_int (14))
                                (Prims.of_int (838)) (Prims.of_int (43)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (838)) (Prims.of_int (14))
                                (Prims.of_int (838)) (Prims.of_int (71)))))
                       (Obj.magic uu___)
                       (fun uu___1 ->
                          (fun uu___1 ->
                             let uu___2 =
                               let uu___3 = print_atoms tl am in
                               FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (838))
                                          (Prims.of_int (54))
                                          (Prims.of_int (838))
                                          (Prims.of_int (71)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range "Prims.fst"
                                          (Prims.of_int (611))
                                          (Prims.of_int (19))
                                          (Prims.of_int (611))
                                          (Prims.of_int (31)))))
                                 (Obj.magic uu___3)
                                 (fun uu___4 ->
                                    FStar_Tactics_Effect.lift_div_tac
                                      (fun uu___5 ->
                                         Prims.strcat " * " uu___4)) in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (838))
                                           (Prims.of_int (46))
                                           (Prims.of_int (838))
                                           (Prims.of_int (71)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range "Prims.fst"
                                           (Prims.of_int (611))
                                           (Prims.of_int (19))
                                           (Prims.of_int (611))
                                           (Prims.of_int (31)))))
                                  (Obj.magic uu___2)
                                  (fun uu___3 ->
                                     FStar_Tactics_Effect.lift_div_tac
                                       (fun uu___4 ->
                                          Prims.strcat uu___1 uu___3))))
                            uu___1)))) uu___1 uu___
let rec (try_candidates :
  atom ->
    atom Prims.list ->
      FStar_Tactics_NamedView.term amap ->
        ((atom * Prims.int), unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun t ->
           fun l ->
             fun am ->
               match l with
               | [] ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_Effect.lift_div_tac
                           (fun uu___ -> (t, Prims.int_zero))))
               | hd::tl ->
                   Obj.magic
                     (Obj.repr
                        (let uu___ = is_uvar (select hd am) in
                         FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (848)) (Prims.of_int (9))
                                    (Prims.of_int (848)) (Prims.of_int (31)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (848)) (Prims.of_int (6))
                                    (Prims.of_int (854)) (Prims.of_int (55)))))
                           (Obj.magic uu___)
                           (fun uu___1 ->
                              (fun uu___1 ->
                                 if uu___1
                                 then Obj.magic (try_candidates t tl am)
                                 else
                                   (let uu___3 =
                                      FStar_Tactics_V2_Derived.try_with
                                        (fun uu___4 ->
                                           match () with
                                           | () ->
                                               let uu___5 =
                                                 FStar_Tactics_V2_Derived.unify
                                                   (select t am)
                                                   (select hd am) in
                                               FStar_Tactics_Effect.tac_bind
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (851))
                                                          (Prims.of_int (25))
                                                          (Prims.of_int (851))
                                                          (Prims.of_int (59)))))
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (851))
                                                          (Prims.of_int (22))
                                                          (Prims.of_int (851))
                                                          (Prims.of_int (96)))))
                                                 (Obj.magic uu___5)
                                                 (fun uu___6 ->
                                                    if uu___6
                                                    then
                                                      FStar_Tactics_Effect.raise
                                                        Success
                                                    else
                                                      FStar_Tactics_Effect.raise
                                                        Failed))
                                        (fun uu___4 ->
                                           (fun uu___4 ->
                                              Obj.magic
                                                (FStar_Tactics_Effect.lift_div_tac
                                                   (fun uu___5 ->
                                                      match uu___4 with
                                                      | Success -> true
                                                      | uu___6 -> false)))
                                             uu___4) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (851))
                                                  (Prims.of_int (18))
                                                  (Prims.of_int (852))
                                                  (Prims.of_int (53)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (852))
                                                  (Prims.of_int (56))
                                                  (Prims.of_int (854))
                                                  (Prims.of_int (55)))))
                                         (Obj.magic uu___3)
                                         (fun uu___4 ->
                                            (fun res ->
                                               let uu___4 =
                                                 try_candidates t tl am in
                                               Obj.magic
                                                 (FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (853))
                                                             (Prims.of_int (21))
                                                             (Prims.of_int (853))
                                                             (Prims.of_int (43)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (852))
                                                             (Prims.of_int (56))
                                                             (Prims.of_int (854))
                                                             (Prims.of_int (55)))))
                                                    (Obj.magic uu___4)
                                                    (fun uu___5 ->
                                                       FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___6 ->
                                                            match uu___5 with
                                                            | (t', n') ->
                                                                if
                                                                  res &&
                                                                    (
                                                                    hd <> t')
                                                                then
                                                                  (hd,
                                                                    (
                                                                    Prims.int_one
                                                                    + n'))
                                                                else (t', n')))))
                                              uu___4)))) uu___1)))) uu___2
          uu___1 uu___
let rec (remove_from_list :
  atom ->
    atom Prims.list -> (atom Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun t ->
         fun l ->
           match l with
           | [] ->
               Obj.magic
                 (Obj.repr
                    (let uu___ =
                       Obj.magic
                         (FStar_Tactics_V2_Derived.fail
                            "atom in remove_from_list not found: should not happen") in
                     FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (860)) (Prims.of_int (10))
                                (Prims.of_int (860)) (Prims.of_int (70)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (860)) (Prims.of_int (72))
                                (Prims.of_int (860)) (Prims.of_int (74)))))
                       (Obj.magic uu___)
                       (fun uu___1 ->
                          FStar_Tactics_Effect.lift_div_tac
                            (fun uu___2 -> []))))
           | hd::tl ->
               Obj.magic
                 (Obj.repr
                    (if t = hd
                     then
                       Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> tl))
                     else
                       Obj.repr
                         (let uu___1 = remove_from_list t tl in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (861)) (Prims.of_int (41))
                                     (Prims.of_int (861)) (Prims.of_int (62)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (861)) (Prims.of_int (37))
                                     (Prims.of_int (861)) (Prims.of_int (62)))))
                            (Obj.magic uu___1)
                            (fun uu___2 ->
                               FStar_Tactics_Effect.lift_div_tac
                                 (fun uu___3 -> hd :: uu___2)))))) uu___1
        uu___
let rec (equivalent_lists_once :
  atom Prims.list ->
    atom Prims.list ->
      atom Prims.list ->
        atom Prims.list ->
          FStar_Tactics_NamedView.term amap ->
            ((atom Prims.list * atom Prims.list * atom Prims.list * atom
               Prims.list),
              unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___4 ->
    fun uu___3 ->
      fun uu___2 ->
        fun uu___1 ->
          fun uu___ ->
            (fun l1 ->
               fun l2 ->
                 fun l1_del ->
                   fun l2_del ->
                     fun am ->
                       match l1 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___ -> ([], l2, l1_del, l2_del))))
                       | hd::tl ->
                           Obj.magic
                             (Obj.repr
                                (let uu___ = try_candidates hd l2 am in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (872))
                                            (Prims.of_int (15))
                                            (Prims.of_int (872))
                                            (Prims.of_int (38)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (871))
                                            (Prims.of_int (13))
                                            (Prims.of_int (880))
                                            (Prims.of_int (5)))))
                                   (Obj.magic uu___)
                                   (fun uu___1 ->
                                      (fun uu___1 ->
                                         match uu___1 with
                                         | (t, n) ->
                                             if n = Prims.int_one
                                             then
                                               let uu___2 =
                                                 remove_from_list t l2 in
                                               Obj.magic
                                                 (FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (874))
                                                             (Prims.of_int (15))
                                                             (Prims.of_int (874))
                                                             (Prims.of_int (36)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (875))
                                                             (Prims.of_int (6))
                                                             (Prims.of_int (875))
                                                             (Prims.of_int (61)))))
                                                    (Obj.magic uu___2)
                                                    (fun uu___3 ->
                                                       (fun l21 ->
                                                          Obj.magic
                                                            (equivalent_lists_once
                                                               tl l21 (hd ::
                                                               l1_del) (t ::
                                                               l2_del) am))
                                                         uu___3))
                                             else
                                               (let uu___3 =
                                                  equivalent_lists_once tl l2
                                                    l1_del l2_del am in
                                                Obj.magic
                                                  (FStar_Tactics_Effect.tac_bind
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (878))
                                                              (Prims.of_int (41))
                                                              (Prims.of_int (878))
                                                              (Prims.of_int (85)))))
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (876))
                                                              (Prims.of_int (11))
                                                              (Prims.of_int (880))
                                                              (Prims.of_int (5)))))
                                                     (Obj.magic uu___3)
                                                     (fun uu___4 ->
                                                        FStar_Tactics_Effect.lift_div_tac
                                                          (fun uu___5 ->
                                                             match uu___4
                                                             with
                                                             | (rem1, rem2,
                                                                l1'_del,
                                                                l2'_del) ->
                                                                 ((hd ::
                                                                   rem1),
                                                                   rem2,
                                                                   l1'_del,
                                                                   l2'_del))))))
                                        uu___1)))) uu___4 uu___3 uu___2
              uu___1 uu___
let rec (equivalent_lists_once_l2 :
  atom Prims.list ->
    atom Prims.list ->
      atom Prims.list ->
        atom Prims.list ->
          FStar_Tactics_NamedView.term amap ->
            ((atom Prims.list * atom Prims.list * atom Prims.list * atom
               Prims.list),
              unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___4 ->
    fun uu___3 ->
      fun uu___2 ->
        fun uu___1 ->
          fun uu___ ->
            (fun l1 ->
               fun l2 ->
                 fun l1_del ->
                   fun l2_del ->
                     fun am ->
                       match l2 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___ -> (l1, [], l1_del, l2_del))))
                       | hd::tl ->
                           Obj.magic
                             (Obj.repr
                                (let uu___ = is_uvar (select hd am) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (893))
                                            (Prims.of_int (7))
                                            (Prims.of_int (893))
                                            (Prims.of_int (29)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (893))
                                            (Prims.of_int (4))
                                            (Prims.of_int (907))
                                            (Prims.of_int (5)))))
                                   (Obj.magic uu___)
                                   (fun uu___1 ->
                                      (fun uu___1 ->
                                         if uu___1
                                         then
                                           let uu___2 =
                                             equivalent_lists_once_l2 l1 tl
                                               l1_del l2_del am in
                                           Obj.magic
                                             (FStar_Tactics_Effect.tac_bind
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (895))
                                                         (Prims.of_int (41))
                                                         (Prims.of_int (895))
                                                         (Prims.of_int (88)))))
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (893))
                                                         (Prims.of_int (34))
                                                         (Prims.of_int (896))
                                                         (Prims.of_int (38)))))
                                                (Obj.magic uu___2)
                                                (fun uu___3 ->
                                                   FStar_Tactics_Effect.lift_div_tac
                                                     (fun uu___4 ->
                                                        match uu___3 with
                                                        | (rem1, rem2,
                                                           l1'_del, l2'_del)
                                                            ->
                                                            (rem1, (hd ::
                                                              rem2), l1'_del,
                                                              l2'_del))))
                                         else
                                           (let uu___3 =
                                              try_candidates hd l1 am in
                                            Obj.magic
                                              (FStar_Tactics_Effect.tac_bind
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (898))
                                                          (Prims.of_int (17))
                                                          (Prims.of_int (898))
                                                          (Prims.of_int (40)))))
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (897))
                                                          (Prims.of_int (9))
                                                          (Prims.of_int (907))
                                                          (Prims.of_int (5)))))
                                                 (Obj.magic uu___3)
                                                 (fun uu___4 ->
                                                    (fun uu___4 ->
                                                       match uu___4 with
                                                       | (t, n) ->
                                                           if
                                                             n =
                                                               Prims.int_one
                                                           then
                                                             let uu___5 =
                                                               remove_from_list
                                                                 t l1 in
                                                             Obj.magic
                                                               (FStar_Tactics_Effect.tac_bind
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (900))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (900))
                                                                    (Prims.of_int (38)))))
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (901))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (901))
                                                                    (Prims.of_int (66)))))
                                                                  (Obj.magic
                                                                    uu___5)
                                                                  (fun uu___6
                                                                    ->
                                                                    (fun l11
                                                                    ->
                                                                    Obj.magic
                                                                    (equivalent_lists_once_l2
                                                                    l11 tl (t
                                                                    ::
                                                                    l1_del)
                                                                    (hd ::
                                                                    l2_del)
                                                                    am))
                                                                    uu___6))
                                                           else
                                                             (let uu___6 =
                                                                equivalent_lists_once_l2
                                                                  l1 tl
                                                                  l1_del
                                                                  l2_del am in
                                                              Obj.magic
                                                                (FStar_Tactics_Effect.tac_bind
                                                                   (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (904))
                                                                    (Prims.of_int (43))
                                                                    (Prims.of_int (904))
                                                                    (Prims.of_int (90)))))
                                                                   (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (902))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (906))
                                                                    (Prims.of_int (7)))))
                                                                   (Obj.magic
                                                                    uu___6)
                                                                   (fun
                                                                    uu___7 ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___8 ->
                                                                    match uu___7
                                                                    with
                                                                    | 
                                                                    (rem1,
                                                                    rem2,
                                                                    l1'_del,
                                                                    l2'_del)
                                                                    ->
                                                                    (rem1,
                                                                    (hd ::
                                                                    rem2),
                                                                    l1'_del,
                                                                    l2'_del))))))
                                                      uu___4)))) uu___1))))
              uu___4 uu___3 uu___2 uu___1 uu___
let (get_head :
  atom Prims.list ->
    FStar_Tactics_NamedView.term amap -> FStar_Tactics_NamedView.term)
  =
  fun l ->
    fun am ->
      match l with
      | [] ->
          FStarC_Reflection_V2_Builtins.pack_ln
            (FStarC_Reflection_V2_Data.Tv_Const
               FStarC_Reflection_V2_Data.C_Unit)
      | hd::uu___ -> select hd am
let (is_only_uvar :
  atom Prims.list ->
    FStar_Tactics_NamedView.term amap ->
      (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun l ->
         fun am ->
           if (FStar_List_Tot_Base.length l) = Prims.int_one
           then
             Obj.magic
               (Obj.repr (is_uvar (select (FStar_List_Tot_Base.hd l) am)))
           else
             Obj.magic
               (Obj.repr
                  (FStar_Tactics_Effect.lift_div_tac (fun uu___1 -> false))))
        uu___1 uu___
let rec (try_unifying_remaining :
  atom Prims.list ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term amap ->
        (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun l ->
           fun u ->
             fun am ->
               match l with
               | [] ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ())))
               | hd::tl ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_V2_Derived.try_with
                           (fun uu___ ->
                              match () with
                              | () ->
                                  let uu___1 =
                                    FStar_Tactics_V2_Derived.unify u
                                      (select hd am) in
                                  FStar_Tactics_Effect.tac_bind
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (925))
                                             (Prims.of_int (13))
                                             (Prims.of_int (925))
                                             (Prims.of_int (35)))))
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (925))
                                             (Prims.of_int (10))
                                             (Prims.of_int (925))
                                             (Prims.of_int (72)))))
                                    (Obj.magic uu___1)
                                    (fun uu___2 ->
                                       if uu___2
                                       then
                                         FStar_Tactics_Effect.raise Success
                                       else FStar_Tactics_Effect.raise Failed))
                           (fun uu___ ->
                              match uu___ with
                              | Success -> try_unifying_remaining tl u am
                              | uu___1 ->
                                  let uu___2 =
                                    let uu___3 =
                                      FStarC_Tactics_V2_Builtins.term_to_string
                                        (select hd am) in
                                    FStar_Tactics_Effect.tac_bind
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (927))
                                               (Prims.of_int (63))
                                               (Prims.of_int (927))
                                               (Prims.of_int (92)))))
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range "Prims.fst"
                                               (Prims.of_int (611))
                                               (Prims.of_int (19))
                                               (Prims.of_int (611))
                                               (Prims.of_int (31)))))
                                      (Obj.magic uu___3)
                                      (fun uu___4 ->
                                         FStar_Tactics_Effect.lift_div_tac
                                           (fun uu___5 ->
                                              Prims.strcat
                                                "could not find candidate for scrutinee "
                                                uu___4)) in
                                  FStar_Tactics_Effect.tac_bind
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (927))
                                             (Prims.of_int (18))
                                             (Prims.of_int (927))
                                             (Prims.of_int (93)))))
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (927))
                                             (Prims.of_int (13))
                                             (Prims.of_int (927))
                                             (Prims.of_int (93)))))
                                    (Obj.magic uu___2)
                                    (fun uu___3 ->
                                       FStar_Tactics_V2_Derived.fail uu___3)))))
          uu___2 uu___1 uu___
let (is_smt_binder :
  FStar_Tactics_NamedView.binder ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun b ->
    let uu___ =
      Obj.magic
        (FStar_Tactics_Effect.lift_div_tac
           (fun uu___1 -> b.FStar_Tactics_NamedView.attrs)) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (931)) (Prims.of_int (10)) (Prims.of_int (931))
               (Prims.of_int (17)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (932)) (Prims.of_int (2)) (Prims.of_int (932))
               (Prims.of_int (73))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun l ->
            let uu___1 =
              let uu___2 =
                FStar_Tactics_Util.filter
                  (fun uu___3 ->
                     (fun t ->
                        Obj.magic
                          (FStar_Tactics_Effect.lift_div_tac
                             (fun uu___3 ->
                                FStar_Reflection_V2_Derived.is_fvar t
                                  "Steel.Effect.Common.smt_fallback")))
                       uu___3) l in
              FStar_Tactics_Effect.tac_bind
                (FStar_Sealed.seal
                   (Obj.magic
                      (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                         (Prims.of_int (932)) (Prims.of_int (24))
                         (Prims.of_int (932)) (Prims.of_int (72)))))
                (FStar_Sealed.seal
                   (Obj.magic
                      (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                         (Prims.of_int (932)) (Prims.of_int (6))
                         (Prims.of_int (932)) (Prims.of_int (73)))))
                (Obj.magic uu___2)
                (fun uu___3 ->
                   FStar_Tactics_Effect.lift_div_tac
                     (fun uu___4 -> FStar_List_Tot_Base.isEmpty uu___3)) in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (932)) (Prims.of_int (6))
                          (Prims.of_int (932)) (Prims.of_int (73)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (932)) (Prims.of_int (2))
                          (Prims.of_int (932)) (Prims.of_int (73)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    FStar_Tactics_Effect.lift_div_tac
                      (fun uu___3 -> Prims.op_Negation uu___2)))) uu___1)
let rec (new_args_for_smt_attrs :
  FStarC_Reflection_Types.env ->
    FStarC_Reflection_V2_Data.argv Prims.list ->
      FStarC_Reflection_Types.typ ->
        ((FStarC_Reflection_V2_Data.argv Prims.list *
           FStar_Tactics_NamedView.term Prims.list),
          unit) FStar_Tactics_Effect.tac_repr)
  =
  fun env ->
    fun l ->
      fun ty ->
        let uu___ =
          Obj.magic
            (FStar_Tactics_Effect.lift_div_tac
               (fun uu___1 ->
                  fun ty1 ->
                    let uu___2 = FStar_Tactics_V2_Derived.cur_env () in
                    FStar_Tactics_Effect.tac_bind
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (938)) (Prims.of_int (12))
                               (Prims.of_int (938)) (Prims.of_int (22)))))
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (939)) (Prims.of_int (4))
                               (Prims.of_int (939)) (Prims.of_int (23)))))
                      (Obj.magic uu___2)
                      (fun uu___3 ->
                         (fun e ->
                            Obj.magic
                              (FStarC_Tactics_V2_Builtins.ghost_uvar_env e
                                 ty1)) uu___3))) in
        FStar_Tactics_Effect.tac_bind
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (937)) (Prims.of_int (27))
                   (Prims.of_int (939)) (Prims.of_int (23)))))
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (941)) (Prims.of_int (2))
                   (Prims.of_int (967)) (Prims.of_int (66)))))
          (Obj.magic uu___)
          (fun uu___1 ->
             (fun fresh_ghost_uvar ->
                let uu___1 =
                  let uu___2 =
                    FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe ty in
                  FStar_Tactics_Effect.tac_bind
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (941)) (Prims.of_int (11))
                             (Prims.of_int (941)) (Prims.of_int (31)))))
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (941)) (Prims.of_int (8))
                             (Prims.of_int (941)) (Prims.of_int (31)))))
                    (Obj.magic uu___2)
                    (fun uu___3 ->
                       FStar_Tactics_Effect.lift_div_tac
                         (fun uu___4 -> (l, uu___3))) in
                Obj.magic
                  (FStar_Tactics_Effect.tac_bind
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (941)) (Prims.of_int (8))
                              (Prims.of_int (941)) (Prims.of_int (31)))))
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (941)) (Prims.of_int (2))
                              (Prims.of_int (967)) (Prims.of_int (66)))))
                     (Obj.magic uu___1)
                     (fun uu___2 ->
                        (fun uu___2 ->
                           match uu___2 with
                           | ((arg, aqualv)::tl,
                              FStar_Tactics_NamedView.Tv_Arrow
                              (binder, comp)) ->
                               Obj.magic
                                 (Obj.repr
                                    (let uu___3 = is_smt_binder binder in
                                     FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (943))
                                                (Prims.of_int (20))
                                                (Prims.of_int (943))
                                                (Prims.of_int (40)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (943))
                                                (Prims.of_int (43))
                                                (Prims.of_int (965))
                                                (Prims.of_int (7)))))
                                       (Obj.magic uu___3)
                                       (fun uu___4 ->
                                          (fun needs_smt ->
                                             let uu___4 =
                                               if needs_smt
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (let uu___5 =
                                                         FStarC_Tactics_V2_Builtins.tc
                                                           env arg in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (946))
                                                                  (Prims.of_int (21))
                                                                  (Prims.of_int (946))
                                                                  (Prims.of_int (31)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (946))
                                                                  (Prims.of_int (34))
                                                                  (Prims.of_int (950))
                                                                  (Prims.of_int (22)))))
                                                         (Obj.magic uu___5)
                                                         (fun uu___6 ->
                                                            (fun arg_ty ->
                                                               let uu___6 =
                                                                 fresh_ghost_uvar
                                                                   arg_ty in
                                                               Obj.magic
                                                                 (FStar_Tactics_Effect.tac_bind
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (947))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (947))
                                                                    (Prims.of_int (42)))))
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (948))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (950))
                                                                    (Prims.of_int (22)))))
                                                                    (
                                                                    Obj.magic
                                                                    uu___6)
                                                                    (
                                                                    fun
                                                                    uu___7 ->
                                                                    (fun uvar
                                                                    ->
                                                                    let uu___7
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.unshelve
                                                                    uvar in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (948))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (948))
                                                                    (Prims.of_int (21)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (949))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (950))
                                                                    (Prims.of_int (22)))))
                                                                    (Obj.magic
                                                                    uu___7)
                                                                    (fun
                                                                    uu___8 ->
                                                                    (fun
                                                                    uu___8 ->
                                                                    let uu___9
                                                                    =
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (949))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (949))
                                                                    (Prims.of_int (15)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (950))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (950))
                                                                    (Prims.of_int (22)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    (uvar,
                                                                    aqualv)))))
                                                                    uu___8)))
                                                                    uu___7)))
                                                              uu___6)))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___6 ->
                                                            (arg, aqualv)))) in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (945))
                                                           (Prims.of_int (6))
                                                           (Prims.of_int (951))
                                                           (Prims.of_int (26)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (953))
                                                           (Prims.of_int (9))
                                                           (Prims.of_int (964))
                                                           (Prims.of_int (68)))))
                                                  (Obj.magic uu___4)
                                                  (fun uu___5 ->
                                                     (fun new_hd ->
                                                        let uu___5 =
                                                          match FStar_Tactics_NamedView.inspect_comp
                                                                  comp
                                                          with
                                                          | FStarC_Reflection_V2_Data.C_Total
                                                              ty2 ->
                                                              Obj.magic
                                                                (FStar_Tactics_Effect.lift_div_tac
                                                                   (fun
                                                                    uu___6 ->
                                                                    ty2))
                                                          | FStarC_Reflection_V2_Data.C_Eff
                                                              (uu___6,
                                                               eff_name, ty2,
                                                               uu___7,
                                                               uu___8)
                                                              ->
                                                              if
                                                                eff_name =
                                                                  ["Prims";
                                                                  "Tot"]
                                                              then
                                                                Obj.magic
                                                                  (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___9 ->
                                                                    ty2))
                                                              else
                                                                Obj.magic
                                                                  (FStar_Tactics_V2_Derived.fail
                                                                    "computation type not supported in definition of slprops")
                                                          | uu___6 ->
                                                              Obj.magic
                                                                (FStar_Tactics_V2_Derived.fail
                                                                   "computation type not supported in definition of slprops") in
                                                        Obj.magic
                                                          (FStar_Tactics_Effect.tac_bind
                                                             (FStar_Sealed.seal
                                                                (Obj.magic
                                                                   (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (955))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (961))
                                                                    (Prims.of_int (75)))))
                                                             (FStar_Sealed.seal
                                                                (Obj.magic
                                                                   (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (961))
                                                                    (Prims.of_int (78))
                                                                    (Prims.of_int (964))
                                                                    (Prims.of_int (68)))))
                                                             (Obj.magic
                                                                uu___5)
                                                             (fun uu___6 ->
                                                                (fun ty2 ->
                                                                   let uu___6
                                                                    =
                                                                    new_args_for_smt_attrs
                                                                    env tl
                                                                    ty2 in
                                                                   Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (963))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (963))
                                                                    (Prims.of_int (61)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (961))
                                                                    (Prims.of_int (78))
                                                                    (Prims.of_int (964))
                                                                    (Prims.of_int (68)))))
                                                                    (Obj.magic
                                                                    uu___6)
                                                                    (fun
                                                                    uu___7 ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___8 ->
                                                                    match uu___7
                                                                    with
                                                                    | 
                                                                    (tl_argv,
                                                                    tl_terms)
                                                                    ->
                                                                    ((new_hd
                                                                    ::
                                                                    tl_argv),
                                                                    (if
                                                                    needs_smt
                                                                    then arg
                                                                    ::
                                                                    tl_terms
                                                                    else
                                                                    tl_terms))))))
                                                                  uu___6)))
                                                       uu___5))) uu___4)))
                           | ([], FStar_Tactics_NamedView.Tv_FVar fv) ->
                               Obj.magic
                                 (Obj.repr
                                    (FStar_Tactics_Effect.lift_div_tac
                                       (fun uu___3 -> ([], []))))
                           | uu___3 ->
                               Obj.magic
                                 (Obj.repr
                                    (FStar_Tactics_V2_Derived.fail
                                       "should not happen. Is an slprop partially applied?")))
                          uu___2))) uu___1)
let (rewrite_term_for_smt :
  FStarC_Reflection_Types.env ->
    (FStar_Tactics_NamedView.term amap * FStar_Tactics_NamedView.term
      Prims.list) ->
      atom ->
        ((FStar_Tactics_NamedView.term amap * FStar_Tactics_NamedView.term
           Prims.list),
          unit) FStar_Tactics_Effect.tac_repr)
  =
  fun env ->
    fun am ->
      fun a ->
        let uu___ =
          Obj.magic (FStar_Tactics_Effect.lift_div_tac (fun uu___1 -> am)) in
        FStar_Tactics_Effect.tac_bind
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (971)) (Prims.of_int (30))
                   (Prims.of_int (971)) (Prims.of_int (32)))))
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (971)) (Prims.of_int (3))
                   (Prims.of_int (977)) (Prims.of_int (68)))))
          (Obj.magic uu___)
          (fun uu___1 ->
             (fun uu___1 ->
                match uu___1 with
                | (am1, prev_uvar_terms) ->
                    let uu___2 =
                      Obj.magic
                        (FStar_Tactics_Effect.lift_div_tac
                           (fun uu___3 -> select a am1)) in
                    Obj.magic
                      (FStar_Tactics_Effect.tac_bind
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (972)) (Prims.of_int (15))
                                  (Prims.of_int (972)) (Prims.of_int (26)))))
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (972)) (Prims.of_int (29))
                                  (Prims.of_int (977)) (Prims.of_int (68)))))
                         (Obj.magic uu___2)
                         (fun uu___3 ->
                            (fun term ->
                               let uu___3 =
                                 FStar_Tactics_V2_SyntaxHelpers.collect_app
                                   term in
                               Obj.magic
                                 (FStar_Tactics_Effect.tac_bind
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (973))
                                             (Prims.of_int (19))
                                             (Prims.of_int (973))
                                             (Prims.of_int (35)))))
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (972))
                                             (Prims.of_int (29))
                                             (Prims.of_int (977))
                                             (Prims.of_int (68)))))
                                    (Obj.magic uu___3)
                                    (fun uu___4 ->
                                       (fun uu___4 ->
                                          match uu___4 with
                                          | (hd, args) ->
                                              let uu___5 =
                                                FStarC_Tactics_V2_Builtins.tc
                                                  env hd in
                                              Obj.magic
                                                (FStar_Tactics_Effect.tac_bind
                                                   (FStar_Sealed.seal
                                                      (Obj.magic
                                                         (FStar_Range.mk_range
                                                            "Steel.Effect.Common.fsti"
                                                            (Prims.of_int (974))
                                                            (Prims.of_int (12))
                                                            (Prims.of_int (974))
                                                            (Prims.of_int (21)))))
                                                   (FStar_Sealed.seal
                                                      (Obj.magic
                                                         (FStar_Range.mk_range
                                                            "Steel.Effect.Common.fsti"
                                                            (Prims.of_int (974))
                                                            (Prims.of_int (24))
                                                            (Prims.of_int (977))
                                                            (Prims.of_int (68)))))
                                                   (Obj.magic uu___5)
                                                   (fun uu___6 ->
                                                      (fun t ->
                                                         let uu___6 =
                                                           new_args_for_smt_attrs
                                                             env args t in
                                                         Obj.magic
                                                           (FStar_Tactics_Effect.tac_bind
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (975))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (975))
                                                                    (Prims.of_int (64)))))
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (974))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (977))
                                                                    (Prims.of_int (68)))))
                                                              (Obj.magic
                                                                 uu___6)
                                                              (fun uu___7 ->
                                                                 FStar_Tactics_Effect.lift_div_tac
                                                                   (fun
                                                                    uu___8 ->
                                                                    match uu___7
                                                                    with
                                                                    | 
                                                                    (new_args,
                                                                    uvar_terms)
                                                                    ->
                                                                    ((update
                                                                    a
                                                                    (FStar_Reflection_V2_Derived.mk_app
                                                                    hd
                                                                    new_args)
                                                                    am1),
                                                                    (FStar_List_Tot_Base.append
                                                                    uvar_terms
                                                                    prev_uvar_terms))))))
                                                        uu___6))) uu___4)))
                              uu___3))) uu___1)
let fail_atoms :
  'a .
    atom Prims.list ->
      atom Prims.list ->
        FStar_Tactics_NamedView.term amap ->
          ('a, unit) FStar_Tactics_Effect.tac_repr
  =
  fun l1 ->
    fun l2 ->
      fun am ->
        let uu___ =
          let uu___1 =
            let uu___2 = print_atoms l1 am in
            FStar_Tactics_Effect.tac_bind
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (981)) (Prims.of_int (55))
                       (Prims.of_int (981)) (Prims.of_int (72)))))
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (981)) (Prims.of_int (55))
                       (Prims.of_int (981)) (Prims.of_int (104)))))
              (Obj.magic uu___2)
              (fun uu___3 ->
                 (fun uu___3 ->
                    let uu___4 =
                      let uu___5 = print_atoms l2 am in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (981)) (Prims.of_int (87))
                                 (Prims.of_int (981)) (Prims.of_int (104)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range "Prims.fst"
                                 (Prims.of_int (611)) (Prims.of_int (19))
                                 (Prims.of_int (611)) (Prims.of_int (31)))))
                        (Obj.magic uu___5)
                        (fun uu___6 ->
                           FStar_Tactics_Effect.lift_div_tac
                             (fun uu___7 -> Prims.strcat "\nand\n" uu___6)) in
                    Obj.magic
                      (FStar_Tactics_Effect.tac_bind
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (981)) (Prims.of_int (75))
                                  (Prims.of_int (981)) (Prims.of_int (104)))))
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range "Prims.fst"
                                  (Prims.of_int (611)) (Prims.of_int (19))
                                  (Prims.of_int (611)) (Prims.of_int (31)))))
                         (Obj.magic uu___4)
                         (fun uu___5 ->
                            FStar_Tactics_Effect.lift_div_tac
                              (fun uu___6 -> Prims.strcat uu___3 uu___5))))
                   uu___3) in
          FStar_Tactics_Effect.tac_bind
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (981)) (Prims.of_int (55))
                     (Prims.of_int (981)) (Prims.of_int (104)))))
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Prims.fst" (Prims.of_int (611))
                     (Prims.of_int (19)) (Prims.of_int (611))
                     (Prims.of_int (31))))) (Obj.magic uu___1)
            (fun uu___2 ->
               FStar_Tactics_Effect.lift_div_tac
                 (fun uu___3 ->
                    Prims.strcat "could not find a solution for unifying\n"
                      uu___2)) in
        FStar_Tactics_Effect.tac_bind
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (981)) (Prims.of_int (9))
                   (Prims.of_int (981)) (Prims.of_int (105)))))
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (981)) (Prims.of_int (4))
                   (Prims.of_int (981)) (Prims.of_int (105)))))
          (Obj.magic uu___)
          (fun uu___1 -> FStar_Tactics_V2_Derived.fail uu___1)
let rec (equivalent_lists_fallback :
  Prims.nat ->
    atom Prims.list ->
      atom Prims.list ->
        atom Prims.list ->
          atom Prims.list ->
            FStar_Tactics_NamedView.term amap ->
              ((atom Prims.list * atom Prims.list * Prims.bool), unit)
                FStar_Tactics_Effect.tac_repr)
  =
  fun uu___5 ->
    fun uu___4 ->
      fun uu___3 ->
        fun uu___2 ->
          fun uu___1 ->
            fun uu___ ->
              (fun n ->
                 fun l1 ->
                   fun l2 ->
                     fun l1_del ->
                       fun l2_del ->
                         fun am ->
                           match l1 with
                           | [] ->
                               Obj.magic
                                 (Obj.repr
                                    (match l2 with
                                     | [] ->
                                         Obj.repr
                                           (FStar_Tactics_Effect.lift_div_tac
                                              (fun uu___ ->
                                                 (l1_del, l2_del, false)))
                                     | hd::[] ->
                                         Obj.repr
                                           (let uu___ =
                                              is_uvar (select hd am) in
                                            FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (994))
                                                       (Prims.of_int (9))
                                                       (Prims.of_int (994))
                                                       (Prims.of_int (31)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (994))
                                                       (Prims.of_int (6))
                                                       (Prims.of_int (998))
                                                       (Prims.of_int (84)))))
                                              (Obj.magic uu___)
                                              (fun uu___1 ->
                                                 (fun uu___1 ->
                                                    if uu___1
                                                    then
                                                      Obj.magic
                                                        (Obj.repr
                                                           (FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___2 ->
                                                                 (l1_del, (hd
                                                                   ::
                                                                   l2_del),
                                                                   true))))
                                                    else
                                                      Obj.magic
                                                        (Obj.repr
                                                           (let uu___3 =
                                                              let uu___4 =
                                                                FStarC_Tactics_V2_Builtins.term_to_string
                                                                  (get_head
                                                                    l2 am) in
                                                              FStar_Tactics_Effect.tac_bind
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (998))
                                                                    (Prims.of_int (52))
                                                                    (Prims.of_int (998))
                                                                    (Prims.of_int (83)))))
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Prims.fst"
                                                                    (Prims.of_int (611))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (611))
                                                                    (Prims.of_int (31)))))
                                                                (Obj.magic
                                                                   uu___4)
                                                                (fun uu___5
                                                                   ->
                                                                   FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___6 ->
                                                                    Prims.strcat
                                                                    "could not find candidates for "
                                                                    uu___5)) in
                                                            FStar_Tactics_Effect.tac_bind
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (998))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (998))
                                                                    (Prims.of_int (84)))))
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (998))
                                                                    (Prims.of_int (11))
                                                                    (Prims.of_int (998))
                                                                    (Prims.of_int (84)))))
                                                              (Obj.magic
                                                                 uu___3)
                                                              (fun uu___4 ->
                                                                 FStar_Tactics_V2_Derived.fail
                                                                   uu___4))))
                                                   uu___1))
                                     | uu___ ->
                                         Obj.repr
                                           (let uu___1 =
                                              let uu___2 =
                                                FStarC_Tactics_V2_Builtins.term_to_string
                                                  (get_head l2 am) in
                                              FStar_Tactics_Effect.tac_bind
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (999))
                                                         (Prims.of_int (52))
                                                         (Prims.of_int (999))
                                                         (Prims.of_int (83)))))
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Prims.fst"
                                                         (Prims.of_int (611))
                                                         (Prims.of_int (19))
                                                         (Prims.of_int (611))
                                                         (Prims.of_int (31)))))
                                                (Obj.magic uu___2)
                                                (fun uu___3 ->
                                                   FStar_Tactics_Effect.lift_div_tac
                                                     (fun uu___4 ->
                                                        Prims.strcat
                                                          "could not find candidates for "
                                                          uu___3)) in
                                            FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (999))
                                                       (Prims.of_int (16))
                                                       (Prims.of_int (999))
                                                       (Prims.of_int (84)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (999))
                                                       (Prims.of_int (11))
                                                       (Prims.of_int (999))
                                                       (Prims.of_int (84)))))
                                              (Obj.magic uu___1)
                                              (fun uu___2 ->
                                                 FStar_Tactics_V2_Derived.fail
                                                   uu___2))))
                           | uu___ ->
                               Obj.magic
                                 (Obj.repr
                                    (let uu___1 = is_only_uvar l2 am in
                                     FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (1002))
                                                (Prims.of_int (7))
                                                (Prims.of_int (1002))
                                                (Prims.of_int (25)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (1002))
                                                (Prims.of_int (4))
                                                (Prims.of_int (1015))
                                                (Prims.of_int (68)))))
                                       (Obj.magic uu___1)
                                       (fun uu___2 ->
                                          (fun uu___2 ->
                                             if uu___2
                                             then
                                               let uu___3 =
                                                 try_unifying_remaining l1
                                                   (get_head l2 am) am in
                                               Obj.magic
                                                 (FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (1006))
                                                             (Prims.of_int (6))
                                                             (Prims.of_int (1006))
                                                             (Prims.of_int (51)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (1007))
                                                             (Prims.of_int (6))
                                                             (Prims.of_int (1007))
                                                             (Prims.of_int (69)))))
                                                    (Obj.magic uu___3)
                                                    (fun uu___4 ->
                                                       FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___5 ->
                                                            ((FStar_List_Tot_Base.append
                                                                l1_del l1),
                                                              (FStar_List_Tot_Base.append
                                                                 l2_del l2),
                                                              false))))
                                             else
                                               (let uu___4 =
                                                  equivalent_lists_once l1 l2
                                                    l1_del l2_del am in
                                                Obj.magic
                                                  (FStar_Tactics_Effect.tac_bind
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (1009))
                                                              (Prims.of_int (41))
                                                              (Prims.of_int (1009))
                                                              (Prims.of_int (85)))))
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (1008))
                                                              (Prims.of_int (10))
                                                              (Prims.of_int (1015))
                                                              (Prims.of_int (68)))))
                                                     (Obj.magic uu___4)
                                                     (fun uu___5 ->
                                                        (fun uu___5 ->
                                                           match uu___5 with
                                                           | (rem1, rem2,
                                                              l1_del',
                                                              l2_del') ->
                                                               let uu___6 =
                                                                 Obj.magic
                                                                   (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___7 ->
                                                                    FStar_List_Tot_Base.length
                                                                    rem1)) in
                                                               Obj.magic
                                                                 (FStar_Tactics_Effect.tac_bind
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1010))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (1010))
                                                                    (Prims.of_int (35)))))
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1011))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (1015))
                                                                    (Prims.of_int (68)))))
                                                                    (
                                                                    Obj.magic
                                                                    uu___6)
                                                                    (
                                                                    fun
                                                                    uu___7 ->
                                                                    (fun n'
                                                                    ->
                                                                    if
                                                                    n' >= n
                                                                    then
                                                                    Obj.magic
                                                                    (fail_atoms
                                                                    rem1 rem2
                                                                    am)
                                                                    else
                                                                    Obj.magic
                                                                    (equivalent_lists_fallback
                                                                    n' rem1
                                                                    rem2
                                                                    l1_del'
                                                                    l2_del'
                                                                    am))
                                                                    uu___7)))
                                                          uu___5)))) uu___2))))
                uu___5 uu___4 uu___3 uu___2 uu___1 uu___
let (replace_smt_uvars :
  atom Prims.list ->
    atom Prims.list ->
      FStar_Tactics_NamedView.term amap ->
        ((FStar_Tactics_NamedView.term amap * FStar_Tactics_NamedView.term
           Prims.list),
          unit) FStar_Tactics_Effect.tac_repr)
  =
  fun l1 ->
    fun l2 ->
      fun am ->
        let uu___ = FStar_Tactics_V2_Derived.cur_env () in
        FStar_Tactics_Effect.tac_bind
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (1019)) (Prims.of_int (14))
                   (Prims.of_int (1019)) (Prims.of_int (24)))))
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (1020)) (Prims.of_int (4))
                   (Prims.of_int (1020)) (Prims.of_int (52)))))
          (Obj.magic uu___)
          (fun uu___1 ->
             (fun env ->
                Obj.magic
                  (FStar_Tactics_Util.fold_left (rewrite_term_for_smt env)
                     (am, []) l2)) uu___1)
let rec (equivalent_lists' :
  Prims.nat ->
    Prims.bool ->
      atom Prims.list ->
        atom Prims.list ->
          atom Prims.list ->
            atom Prims.list ->
              FStar_Tactics_NamedView.term amap ->
                ((atom Prims.list * atom Prims.list * Prims.bool *
                   FStar_Tactics_NamedView.term Prims.list),
                  unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___6 ->
    fun uu___5 ->
      fun uu___4 ->
        fun uu___3 ->
          fun uu___2 ->
            fun uu___1 ->
              fun uu___ ->
                (fun n ->
                   fun use_smt ->
                     fun l1 ->
                       fun l2 ->
                         fun l1_del ->
                           fun l2_del ->
                             fun am ->
                               match l1 with
                               | [] ->
                                   Obj.magic
                                     (Obj.repr
                                        (match l2 with
                                         | [] ->
                                             Obj.repr
                                               (FStar_Tactics_Effect.lift_div_tac
                                                  (fun uu___ ->
                                                     (l1_del, l2_del, false,
                                                       [])))
                                         | hd::[] ->
                                             Obj.repr
                                               (let uu___ =
                                                  is_uvar (select hd am) in
                                                FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (1036))
                                                           (Prims.of_int (9))
                                                           (Prims.of_int (1036))
                                                           (Prims.of_int (31)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (1036))
                                                           (Prims.of_int (6))
                                                           (Prims.of_int (1040))
                                                           (Prims.of_int (84)))))
                                                  (Obj.magic uu___)
                                                  (fun uu___1 ->
                                                     (fun uu___1 ->
                                                        if uu___1
                                                        then
                                                          Obj.magic
                                                            (Obj.repr
                                                               (FStar_Tactics_Effect.lift_div_tac
                                                                  (fun uu___2
                                                                    ->
                                                                    (l1_del,
                                                                    (hd ::
                                                                    l2_del),
                                                                    true, []))))
                                                        else
                                                          Obj.magic
                                                            (Obj.repr
                                                               (let uu___3 =
                                                                  let uu___4
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.term_to_string
                                                                    (get_head
                                                                    l2 am) in
                                                                  FStar_Tactics_Effect.tac_bind
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1040))
                                                                    (Prims.of_int (52))
                                                                    (Prims.of_int (1040))
                                                                    (Prims.of_int (83)))))
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Prims.fst"
                                                                    (Prims.of_int (611))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (611))
                                                                    (Prims.of_int (31)))))
                                                                    (
                                                                    Obj.magic
                                                                    uu___4)
                                                                    (
                                                                    fun
                                                                    uu___5 ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___6 ->
                                                                    Prims.strcat
                                                                    "could not find candidates for "
                                                                    uu___5)) in
                                                                FStar_Tactics_Effect.tac_bind
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1040))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (1040))
                                                                    (Prims.of_int (84)))))
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1040))
                                                                    (Prims.of_int (11))
                                                                    (Prims.of_int (1040))
                                                                    (Prims.of_int (84)))))
                                                                  (Obj.magic
                                                                    uu___3)
                                                                  (fun uu___4
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.fail
                                                                    uu___4))))
                                                       uu___1))
                                         | uu___ ->
                                             Obj.repr
                                               (let uu___1 =
                                                  let uu___2 =
                                                    FStarC_Tactics_V2_Builtins.term_to_string
                                                      (get_head l2 am) in
                                                  FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (1041))
                                                             (Prims.of_int (52))
                                                             (Prims.of_int (1041))
                                                             (Prims.of_int (83)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Prims.fst"
                                                             (Prims.of_int (611))
                                                             (Prims.of_int (19))
                                                             (Prims.of_int (611))
                                                             (Prims.of_int (31)))))
                                                    (Obj.magic uu___2)
                                                    (fun uu___3 ->
                                                       FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___4 ->
                                                            Prims.strcat
                                                              "could not find candidates for "
                                                              uu___3)) in
                                                FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (1041))
                                                           (Prims.of_int (16))
                                                           (Prims.of_int (1041))
                                                           (Prims.of_int (84)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (1041))
                                                           (Prims.of_int (11))
                                                           (Prims.of_int (1041))
                                                           (Prims.of_int (84)))))
                                                  (Obj.magic uu___1)
                                                  (fun uu___2 ->
                                                     FStar_Tactics_V2_Derived.fail
                                                       uu___2))))
                               | uu___ ->
                                   Obj.magic
                                     (Obj.repr
                                        (let uu___1 = is_only_uvar l2 am in
                                         FStar_Tactics_Effect.tac_bind
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (1044))
                                                    (Prims.of_int (7))
                                                    (Prims.of_int (1044))
                                                    (Prims.of_int (25)))))
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (1044))
                                                    (Prims.of_int (4))
                                                    (Prims.of_int (1067))
                                                    (Prims.of_int (70)))))
                                           (Obj.magic uu___1)
                                           (fun uu___2 ->
                                              (fun uu___2 ->
                                                 if uu___2
                                                 then
                                                   let uu___3 =
                                                     try_unifying_remaining
                                                       l1 (get_head l2 am) am in
                                                   Obj.magic
                                                     (FStar_Tactics_Effect.tac_bind
                                                        (FStar_Sealed.seal
                                                           (Obj.magic
                                                              (FStar_Range.mk_range
                                                                 "Steel.Effect.Common.fsti"
                                                                 (Prims.of_int (1048))
                                                                 (Prims.of_int (6))
                                                                 (Prims.of_int (1048))
                                                                 (Prims.of_int (51)))))
                                                        (FStar_Sealed.seal
                                                           (Obj.magic
                                                              (FStar_Range.mk_range
                                                                 "Steel.Effect.Common.fsti"
                                                                 (Prims.of_int (1049))
                                                                 (Prims.of_int (6))
                                                                 (Prims.of_int (1049))
                                                                 (Prims.of_int (73)))))
                                                        (Obj.magic uu___3)
                                                        (fun uu___4 ->
                                                           FStar_Tactics_Effect.lift_div_tac
                                                             (fun uu___5 ->
                                                                ((FStar_List_Tot_Base.append
                                                                    l1_del l1),
                                                                  (FStar_List_Tot_Base.append
                                                                    l2_del l2),
                                                                  false, []))))
                                                 else
                                                   (let uu___4 =
                                                      equivalent_lists_once
                                                        l1 l2 l1_del l2_del
                                                        am in
                                                    Obj.magic
                                                      (FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (1051))
                                                                  (Prims.of_int (41))
                                                                  (Prims.of_int (1051))
                                                                  (Prims.of_int (85)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (1050))
                                                                  (Prims.of_int (10))
                                                                  (Prims.of_int (1067))
                                                                  (Prims.of_int (70)))))
                                                         (Obj.magic uu___4)
                                                         (fun uu___5 ->
                                                            (fun uu___5 ->
                                                               match uu___5
                                                               with
                                                               | (rem1, rem2,
                                                                  l1_del',
                                                                  l2_del') ->
                                                                   let uu___6
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___7 ->
                                                                    FStar_List_Tot_Base.length
                                                                    rem1)) in
                                                                   Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1052))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (1052))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1053))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (1067))
                                                                    (Prims.of_int (70)))))
                                                                    (Obj.magic
                                                                    uu___6)
                                                                    (fun
                                                                    uu___7 ->
                                                                    (fun n'
                                                                    ->
                                                                    if
                                                                    n' >= n
                                                                    then
                                                                    let uu___7
                                                                    =
                                                                    equivalent_lists_once_l2
                                                                    rem1 rem2
                                                                    l1_del'
                                                                    l2_del'
                                                                    am in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1055))
                                                                    (Prims.of_int (43))
                                                                    (Prims.of_int (1055))
                                                                    (Prims.of_int (96)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1053))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (1067))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___7)
                                                                    (fun
                                                                    uu___8 ->
                                                                    (fun
                                                                    uu___8 ->
                                                                    match uu___8
                                                                    with
                                                                    | 
                                                                    (rem11,
                                                                    rem21,
                                                                    l1_del'1,
                                                                    l2_del'1)
                                                                    ->
                                                                    let uu___9
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    FStar_List_Tot_Base.length
                                                                    rem11)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1056))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (1056))
                                                                    (Prims.of_int (37)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1057))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (1066))
                                                                    (Prims.of_int (72)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun n'1
                                                                    ->
                                                                    if
                                                                    n'1 >= n
                                                                    then
                                                                    (if
                                                                    use_smt
                                                                    then
                                                                    let uu___10
                                                                    =
                                                                    replace_smt_uvars
                                                                    rem11
                                                                    rem21 am in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1062))
                                                                    (Prims.of_int (38))
                                                                    (Prims.of_int (1062))
                                                                    (Prims.of_int (68)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1060))
                                                                    (Prims.of_int (25))
                                                                    (Prims.of_int (1064))
                                                                    (Prims.of_int (37)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    match uu___11
                                                                    with
                                                                    | 
                                                                    (new_am,
                                                                    uvar_terms)
                                                                    ->
                                                                    let uu___12
                                                                    =
                                                                    equivalent_lists_fallback
                                                                    n'1 rem11
                                                                    rem21
                                                                    l1_del'1
                                                                    l2_del'1
                                                                    new_am in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1063))
                                                                    (Prims.of_int (32))
                                                                    (Prims.of_int (1063))
                                                                    (Prims.of_int (93)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1062))
                                                                    (Prims.of_int (71))
                                                                    (Prims.of_int (1064))
                                                                    (Prims.of_int (37)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    match uu___13
                                                                    with
                                                                    | 
                                                                    (l1_f,
                                                                    l2_f, b)
                                                                    ->
                                                                    (l1_f,
                                                                    l2_f, b,
                                                                    uvar_terms)))))
                                                                    uu___11))
                                                                    else
                                                                    Obj.magic
                                                                    (fail_atoms
                                                                    rem11
                                                                    rem21 am))
                                                                    else
                                                                    Obj.magic
                                                                    (equivalent_lists'
                                                                    n'1
                                                                    use_smt
                                                                    rem11
                                                                    rem21
                                                                    l1_del'1
                                                                    l2_del'1
                                                                    am))
                                                                    uu___10)))
                                                                    uu___8))
                                                                    else
                                                                    Obj.magic
                                                                    (equivalent_lists'
                                                                    n'
                                                                    use_smt
                                                                    rem1 rem2
                                                                    l1_del'
                                                                    l2_del'
                                                                    am))
                                                                    uu___7)))
                                                              uu___5))))
                                                uu___2)))) uu___6 uu___5
                  uu___4 uu___3 uu___2 uu___1 uu___
let rec (unifies_with_all_uvars :
  FStar_Tactics_NamedView.term ->
    atom Prims.list ->
      FStar_Tactics_NamedView.term amap ->
        (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun t ->
           fun l ->
             fun am ->
               match l with
               | [] ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_Effect.lift_div_tac
                           (fun uu___ -> true)))
               | hd::tl ->
                   Obj.magic
                     (Obj.repr
                        (let uu___ = unifies_with_all_uvars t tl am in
                         FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1074)) (Prims.of_int (9))
                                    (Prims.of_int (1074)) (Prims.of_int (39)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1074)) (Prims.of_int (6))
                                    (Prims.of_int (1082)) (Prims.of_int (18)))))
                           (Obj.magic uu___)
                           (fun uu___1 ->
                              (fun uu___1 ->
                                 if uu___1
                                 then
                                   Obj.magic
                                     (Obj.repr
                                        (let uu___2 =
                                           Obj.magic
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___3 -> select hd am)) in
                                         FStar_Tactics_Effect.tac_bind
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (1076))
                                                    (Prims.of_int (19))
                                                    (Prims.of_int (1076))
                                                    (Prims.of_int (31)))))
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (1077))
                                                    (Prims.of_int (8))
                                                    (Prims.of_int (1081))
                                                    (Prims.of_int (19)))))
                                           (Obj.magic uu___2)
                                           (fun uu___3 ->
                                              (fun hd_t ->
                                                 let uu___3 = is_uvar hd_t in
                                                 Obj.magic
                                                   (FStar_Tactics_Effect.tac_bind
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (1077))
                                                               (Prims.of_int (11))
                                                               (Prims.of_int (1077))
                                                               (Prims.of_int (23)))))
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (1077))
                                                               (Prims.of_int (8))
                                                               (Prims.of_int (1081))
                                                               (Prims.of_int (19)))))
                                                      (Obj.magic uu___3)
                                                      (fun uu___4 ->
                                                         (fun uu___4 ->
                                                            if uu___4
                                                            then
                                                              Obj.magic
                                                                (Obj.repr
                                                                   (FStar_Tactics_V2_Derived.try_with
                                                                    (fun
                                                                    uu___5 ->
                                                                    match ()
                                                                    with
                                                                    | 
                                                                    () ->
                                                                    let uu___6
                                                                    =
                                                                    FStar_Tactics_V2_Derived.unify
                                                                    t hd_t in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1079))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (1079))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1079))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (1079))
                                                                    (Prims.of_int (66)))))
                                                                    (Obj.magic
                                                                    uu___6)
                                                                    (fun
                                                                    uu___7 ->
                                                                    if uu___7
                                                                    then
                                                                    FStar_Tactics_Effect.raise
                                                                    Success
                                                                    else
                                                                    FStar_Tactics_Effect.raise
                                                                    Failed))
                                                                    (fun
                                                                    uu___5 ->
                                                                    (fun
                                                                    uu___5 ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___6 ->
                                                                    match uu___5
                                                                    with
                                                                    | 
                                                                    Success
                                                                    -> true
                                                                    | 
                                                                    uu___7 ->
                                                                    false)))
                                                                    uu___5)))
                                                            else
                                                              Obj.magic
                                                                (Obj.repr
                                                                   (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___6 ->
                                                                    true))))
                                                           uu___4))) uu___3)))
                                 else
                                   Obj.magic
                                     (Obj.repr
                                        (FStar_Tactics_Effect.lift_div_tac
                                           (fun uu___3 -> false)))) uu___1))))
          uu___2 uu___1 uu___
let rec (most_restricted_at_top :
  atom Prims.list ->
    atom Prims.list ->
      FStar_Tactics_NamedView.term amap ->
        (atom Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun l1 ->
           fun l2 ->
             fun am ->
               match l1 with
               | [] ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> [])))
               | hd::tl ->
                   Obj.magic
                     (Obj.repr
                        (let uu___ =
                           unifies_with_all_uvars (select hd am) l2 am in
                         FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1090)) (Prims.of_int (7))
                                    (Prims.of_int (1090)) (Prims.of_int (50)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1090)) (Prims.of_int (4))
                                    (Prims.of_int (1091)) (Prims.of_int (46)))))
                           (Obj.magic uu___)
                           (fun uu___1 ->
                              (fun uu___1 ->
                                 if uu___1
                                 then
                                   let uu___2 =
                                     most_restricted_at_top tl l2 am in
                                   Obj.magic
                                     (FStar_Tactics_Effect.tac_bind
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (1090))
                                                 (Prims.of_int (56))
                                                 (Prims.of_int (1090))
                                                 (Prims.of_int (89)))))
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (1090))
                                                 (Prims.of_int (56))
                                                 (Prims.of_int (1090))
                                                 (Prims.of_int (112)))))
                                        (Obj.magic uu___2)
                                        (fun uu___3 ->
                                           FStar_Tactics_Effect.lift_div_tac
                                             (fun uu___4 ->
                                                FStar_List_Tot_Base.append
                                                  uu___3 [hd])))
                                 else
                                   (let uu___3 =
                                      most_restricted_at_top tl l2 am in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (1091))
                                                  (Prims.of_int (13))
                                                  (Prims.of_int (1091))
                                                  (Prims.of_int (46)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (1091))
                                                  (Prims.of_int (9))
                                                  (Prims.of_int (1091))
                                                  (Prims.of_int (46)))))
                                         (Obj.magic uu___3)
                                         (fun uu___4 ->
                                            FStar_Tactics_Effect.lift_div_tac
                                              (fun uu___5 -> hd :: uu___4)))))
                                uu___1)))) uu___2 uu___1 uu___
let (equivalent_lists :
  Prims.bool ->
    atom Prims.list ->
      atom Prims.list ->
        FStar_Tactics_NamedView.term amap ->
          ((atom Prims.list * atom Prims.list * Prims.bool *
             FStar_Tactics_NamedView.term Prims.list),
            unit) FStar_Tactics_Effect.tac_repr)
  =
  fun use_smt ->
    fun l1 ->
      fun l2 ->
        fun am ->
          let uu___ = trivial_cancels l1 l2 am in
          FStar_Tactics_Effect.tac_bind
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (1100)) (Prims.of_int (31))
                     (Prims.of_int (1100)) (Prims.of_int (55)))))
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (1100)) Prims.int_one
                     (Prims.of_int (1104)) (Prims.of_int (39)))))
            (Obj.magic uu___)
            (fun uu___1 ->
               (fun uu___1 ->
                  match uu___1 with
                  | (l11, l21, l1_del, l2_del) ->
                      let uu___2 = most_restricted_at_top l11 l21 am in
                      Obj.magic
                        (FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1101)) (Prims.of_int (11))
                                    (Prims.of_int (1101)) (Prims.of_int (42)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1101)) (Prims.of_int (45))
                                    (Prims.of_int (1104)) (Prims.of_int (39)))))
                           (Obj.magic uu___2)
                           (fun uu___3 ->
                              (fun l12 ->
                                 let uu___3 =
                                   Obj.magic
                                     (FStar_Tactics_Effect.lift_div_tac
                                        (fun uu___4 ->
                                           FStar_List_Tot_Base.length l12)) in
                                 Obj.magic
                                   (FStar_Tactics_Effect.tac_bind
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (1102))
                                               (Prims.of_int (10))
                                               (Prims.of_int (1102))
                                               (Prims.of_int (28)))))
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (1102))
                                               (Prims.of_int (31))
                                               (Prims.of_int (1104))
                                               (Prims.of_int (39)))))
                                      (Obj.magic uu___3)
                                      (fun uu___4 ->
                                         (fun n ->
                                            let uu___4 =
                                              equivalent_lists' n use_smt l12
                                                l21 l1_del l2_del am in
                                            Obj.magic
                                              (FStar_Tactics_Effect.tac_bind
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (1103))
                                                          (Prims.of_int (46))
                                                          (Prims.of_int (1103))
                                                          (Prims.of_int (96)))))
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (1102))
                                                          (Prims.of_int (31))
                                                          (Prims.of_int (1104))
                                                          (Prims.of_int (39)))))
                                                 (Obj.magic uu___4)
                                                 (fun uu___5 ->
                                                    FStar_Tactics_Effect.lift_div_tac
                                                      (fun uu___6 ->
                                                         match uu___5 with
                                                         | (l1_del1, l2_del1,
                                                            emp_frame,
                                                            uvar_terms) ->
                                                             (l1_del1,
                                                               l2_del1,
                                                               emp_frame,
                                                               uvar_terms)))))
                                           uu___4))) uu___3))) uu___1)
let rec (list_to_string :
  FStar_Tactics_NamedView.term Prims.list ->
    (Prims.string, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun l ->
       match l with
       | [] ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> "end")))
       | hd::tl ->
           Obj.magic
             (Obj.repr
                (let uu___ = FStarC_Tactics_V2_Builtins.term_to_string hd in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (1113)) (Prims.of_int (14))
                            (Prims.of_int (1113)) (Prims.of_int (31)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (1113)) (Prims.of_int (14))
                            (Prims.of_int (1113)) (Prims.of_int (57)))))
                   (Obj.magic uu___)
                   (fun uu___1 ->
                      (fun uu___1 ->
                         let uu___2 =
                           let uu___3 = list_to_string tl in
                           FStar_Tactics_Effect.tac_bind
                             (FStar_Sealed.seal
                                (Obj.magic
                                   (FStar_Range.mk_range
                                      "Steel.Effect.Common.fsti"
                                      (Prims.of_int (1113))
                                      (Prims.of_int (40))
                                      (Prims.of_int (1113))
                                      (Prims.of_int (57)))))
                             (FStar_Sealed.seal
                                (Obj.magic
                                   (FStar_Range.mk_range "Prims.fst"
                                      (Prims.of_int (611))
                                      (Prims.of_int (19))
                                      (Prims.of_int (611))
                                      (Prims.of_int (31)))))
                             (Obj.magic uu___3)
                             (fun uu___4 ->
                                FStar_Tactics_Effect.lift_div_tac
                                  (fun uu___5 -> Prims.strcat " " uu___4)) in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (1113))
                                       (Prims.of_int (34))
                                       (Prims.of_int (1113))
                                       (Prims.of_int (57)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range "Prims.fst"
                                       (Prims.of_int (611))
                                       (Prims.of_int (19))
                                       (Prims.of_int (611))
                                       (Prims.of_int (31)))))
                              (Obj.magic uu___2)
                              (fun uu___3 ->
                                 FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___4 -> Prims.strcat uu___1 uu___3))))
                        uu___1)))) uu___
let rec mdenote_gen : 'a . 'a -> ('a -> 'a -> 'a) -> 'a amap -> exp -> 'a =
  fun unit ->
    fun mult ->
      fun am ->
        fun e ->
          match e with
          | Unit -> unit
          | Atom x -> select x am
          | Mult (e1, e2) ->
              mult (mdenote_gen unit mult am e1)
                (mdenote_gen unit mult am e2)
let rec xsdenote_gen :
  'a . 'a -> ('a -> 'a -> 'a) -> 'a amap -> atom Prims.list -> 'a =
  fun unit ->
    fun mult ->
      fun am ->
        fun xs ->
          match xs with
          | [] -> unit
          | x::[] -> select x am
          | x::xs' -> mult (select x am) (xsdenote_gen unit mult am xs')
let mdenote :
  'a .
    'a FStar_Algebra_CommMonoid_Equiv.equiv ->
      ('a, unit) FStar_Algebra_CommMonoid_Equiv.cm -> 'a amap -> exp -> 'a
  =
  fun eq ->
    fun m ->
      fun am ->
        fun e ->
          mdenote_gen
            (FStar_Algebra_CommMonoid_Equiv.__proj__CM__item__unit eq m)
            (FStar_Algebra_CommMonoid_Equiv.__proj__CM__item__mult eq m) am e
let xsdenote :
  'a .
    'a FStar_Algebra_CommMonoid_Equiv.equiv ->
      ('a, unit) FStar_Algebra_CommMonoid_Equiv.cm ->
        'a amap -> atom Prims.list -> 'a
  =
  fun eq ->
    fun m ->
      fun am ->
        fun xs ->
          xsdenote_gen
            (FStar_Algebra_CommMonoid_Equiv.__proj__CM__item__unit eq m)
            (FStar_Algebra_CommMonoid_Equiv.__proj__CM__item__mult eq m) am
            xs
let rec my_append : 't . 't Prims.list -> 't Prims.list -> 't Prims.list =
  fun l1 ->
    fun l2 -> match l1 with | [] -> l2 | a::q -> a :: (my_append q l2)
let rec (flatten : exp -> atom Prims.list) =
  fun e ->
    match e with
    | Unit -> []
    | Atom x -> [x]
    | Mult (e1, e2) -> my_append (flatten e1) (flatten e2)
let rec my_partition :
  'a . ('a -> Prims.bool) -> 'a Prims.list -> ('a Prims.list * 'a Prims.list)
  =
  fun f ->
    fun l ->
      match l with
      | [] -> ([], [])
      | hd::tl ->
          let uu___ = my_partition f tl in
          (match uu___ with
           | (l1, l2) -> if f hd then ((hd :: l1), l2) else (l1, (hd :: l2)))
let my_bool_of_compare :
  'a . ('a -> 'a -> Prims.int) -> 'a -> 'a -> Prims.bool =
  fun f -> fun x -> fun y -> (f x y) < Prims.int_zero
let rec my_sortWith :
  'a . ('a -> 'a -> Prims.int) -> 'a Prims.list -> 'a Prims.list =
  fun f ->
    fun l ->
      match l with
      | [] -> []
      | pivot::tl ->
          let uu___ = my_partition (my_bool_of_compare f pivot) tl in
          (match uu___ with
           | (hi, lo) ->
               my_append (my_sortWith f lo) (pivot :: (my_sortWith f hi)))
type permute = atom Prims.list -> atom Prims.list
let my_compare_of_bool :
  'a . ('a -> 'a -> Prims.bool) -> 'a -> 'a -> Prims.int =
  fun rel ->
    fun x ->
      fun y ->
        if rel x y
        then (Prims.of_int (-1))
        else if x = y then Prims.int_zero else Prims.int_one
let (sort : permute) = my_sortWith (my_compare_of_bool (<))
let rec (dismiss_slprops :
  unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 =
      let uu___2 = FStar_Tactics_V2_Derived.cur_goal () in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (1555)) (Prims.of_int (25))
                 (Prims.of_int (1555)) (Prims.of_int (38)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (1555)) (Prims.of_int (8))
                 (Prims.of_int (1555)) (Prims.of_int (38)))))
        (Obj.magic uu___2)
        (fun uu___3 ->
           (fun uu___3 ->
              Obj.magic (FStar_Reflection_V2_Formula.term_as_formula' uu___3))
             uu___3) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1555)) (Prims.of_int (8)) (Prims.of_int (1555))
               (Prims.of_int (38)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1555)) (Prims.of_int (2)) (Prims.of_int (1557))
               (Prims.of_int (40))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun uu___2 ->
            match uu___2 with
            | FStar_Reflection_V2_Formula.App (t, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (if FStar_Reflection_V2_Derived.is_fvar t "Prims.squash"
                      then
                        Obj.repr
                          (FStar_Tactics_Effect.lift_div_tac
                             (fun uu___4 -> ()))
                      else
                        Obj.repr
                          (let uu___5 = FStar_Tactics_V2_Derived.dismiss () in
                           FStar_Tactics_Effect.tac_bind
                             (FStar_Sealed.seal
                                (Obj.magic
                                   (FStar_Range.mk_range
                                      "Steel.Effect.Common.fsti"
                                      (Prims.of_int (1556))
                                      (Prims.of_int (55))
                                      (Prims.of_int (1556))
                                      (Prims.of_int (64)))))
                             (FStar_Sealed.seal
                                (Obj.magic
                                   (FStar_Range.mk_range
                                      "Steel.Effect.Common.fsti"
                                      (Prims.of_int (1556))
                                      (Prims.of_int (66))
                                      (Prims.of_int (1556))
                                      (Prims.of_int (84)))))
                             (Obj.magic uu___5)
                             (fun uu___6 ->
                                (fun uu___6 -> Obj.magic (dismiss_slprops ()))
                                  uu___6))))
            | uu___3 ->
                Obj.magic
                  (Obj.repr
                     (let uu___4 = FStar_Tactics_V2_Derived.dismiss () in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (1557)) (Prims.of_int (11))
                                 (Prims.of_int (1557)) (Prims.of_int (20)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (1557)) (Prims.of_int (22))
                                 (Prims.of_int (1557)) (Prims.of_int (40)))))
                        (Obj.magic uu___4)
                        (fun uu___5 ->
                           (fun uu___5 -> Obj.magic (dismiss_slprops ()))
                             uu___5)))) uu___2)
let rec (n_identity_left :
  Prims.int ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term ->
        (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun n ->
    fun eq ->
      fun m ->
        if n = Prims.int_zero
        then
          let uu___ =
            FStar_Tactics_V2_Derived.apply_lemma
              (FStarC_Reflection_V2_Builtins.pack_ln
                 (FStarC_Reflection_V2_Data.Tv_App
                    ((FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["FStar";
                              "Algebra";
                              "CommMonoid";
                              "Equiv";
                              "__proj__EQ__item__reflexivity"]))),
                      (eq, FStarC_Reflection_V2_Data.Q_Explicit)))) in
          FStar_Tactics_Effect.tac_bind
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (1562)) (Prims.of_int (6))
                     (Prims.of_int (1562)) (Prims.of_int (48)))))
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (1564)) (Prims.of_int (6))
                     (Prims.of_int (1564)) (Prims.of_int (18)))))
            (Obj.magic uu___)
            (fun uu___1 ->
               (fun uu___1 ->
                  Obj.magic (FStarC_Tactics_V2_Builtins.set_goals [])) uu___1)
        else
          (let uu___1 =
             FStar_Tactics_V2_Derived.apply_lemma
               (FStarC_Reflection_V2_Builtins.pack_ln
                  (FStarC_Reflection_V2_Data.Tv_App
                     ((FStarC_Reflection_V2_Builtins.pack_ln
                         (FStarC_Reflection_V2_Data.Tv_App
                            ((FStarC_Reflection_V2_Builtins.pack_ln
                                (FStarC_Reflection_V2_Data.Tv_FVar
                                   (FStarC_Reflection_V2_Builtins.pack_fv
                                      ["Steel";
                                      "Effect";
                                      "Common";
                                      "identity_right_diff"]))),
                              (eq, FStarC_Reflection_V2_Data.Q_Explicit)))),
                       (m, FStarC_Reflection_V2_Data.Q_Explicit)))) in
           FStar_Tactics_Effect.tac_bind
             (FStar_Sealed.seal
                (Obj.magic
                   (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                      (Prims.of_int (1566)) (Prims.of_int (6))
                      (Prims.of_int (1566)) (Prims.of_int (53)))))
             (FStar_Sealed.seal
                (Obj.magic
                   (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                      (Prims.of_int (1568)) (Prims.of_int (6))
                      (Prims.of_int (1569)) (Prims.of_int (32)))))
             (Obj.magic uu___1)
             (fun uu___2 ->
                (fun uu___2 ->
                   let uu___3 = dismiss_slprops () in
                   Obj.magic
                     (FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (1568)) (Prims.of_int (6))
                                 (Prims.of_int (1568)) (Prims.of_int (24)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (1569)) (Prims.of_int (6))
                                 (Prims.of_int (1569)) (Prims.of_int (32)))))
                        (Obj.magic uu___3)
                        (fun uu___4 ->
                           (fun uu___4 ->
                              Obj.magic
                                (n_identity_left (n - Prims.int_one) eq m))
                             uu___4))) uu___2))
let rec (where_aux :
  Prims.nat ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term Prims.list ->
        (Prims.nat FStar_Pervasives_Native.option, unit)
          FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun n ->
           fun x ->
             fun xs ->
               match xs with
               | [] ->
                   Obj.magic
                     (Obj.repr
                        (FStar_Tactics_Effect.lift_div_tac
                           (fun uu___ -> FStar_Pervasives_Native.None)))
               | x'::xs' ->
                   Obj.magic
                     (Obj.repr
                        (let uu___ =
                           FStarC_Tactics_V2_Builtins.term_eq_old x x' in
                         FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1612)) (Prims.of_int (18))
                                    (Prims.of_int (1612)) (Prims.of_int (34)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (1612)) (Prims.of_int (15))
                                    (Prims.of_int (1612)) (Prims.of_int (73)))))
                           (Obj.magic uu___)
                           (fun uu___1 ->
                              (fun uu___1 ->
                                 if uu___1
                                 then
                                   Obj.magic
                                     (Obj.repr
                                        (FStar_Tactics_Effect.lift_div_tac
                                           (fun uu___2 ->
                                              FStar_Pervasives_Native.Some n)))
                                 else
                                   Obj.magic
                                     (Obj.repr
                                        (where_aux (n + Prims.int_one) x xs')))
                                uu___1)))) uu___2 uu___1 uu___
let (where :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term Prims.list ->
      (Prims.nat FStar_Pervasives_Native.option, unit)
        FStar_Tactics_Effect.tac_repr)
  = where_aux Prims.int_zero
let (fatom :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term Prims.list ->
      FStar_Tactics_NamedView.term amap ->
        ((exp * FStar_Tactics_NamedView.term Prims.list *
           FStar_Tactics_NamedView.term amap),
          unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    fun ts ->
      fun am ->
        let uu___ = where t ts in
        FStar_Tactics_Effect.tac_bind
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (1616)) (Prims.of_int (8))
                   (Prims.of_int (1616)) (Prims.of_int (18)))))
          (FStar_Sealed.seal
             (Obj.magic
                (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                   (Prims.of_int (1616)) (Prims.of_int (2))
                   (Prims.of_int (1621)) (Prims.of_int (63)))))
          (Obj.magic uu___)
          (fun uu___1 ->
             (fun uu___1 ->
                match uu___1 with
                | FStar_Pervasives_Native.Some v ->
                    Obj.magic
                      (Obj.repr
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___2 -> ((Atom v), ts, am))))
                | FStar_Pervasives_Native.None ->
                    Obj.magic
                      (Obj.repr
                         (let uu___2 =
                            Obj.magic
                              (FStar_Tactics_Effect.lift_div_tac
                                 (fun uu___3 -> FStar_List_Tot_Base.length ts)) in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (1619))
                                     (Prims.of_int (17))
                                     (Prims.of_int (1619))
                                     (Prims.of_int (40)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (1619))
                                     (Prims.of_int (43))
                                     (Prims.of_int (1621))
                                     (Prims.of_int (63)))))
                            (Obj.magic uu___2)
                            (fun uu___3 ->
                               (fun vfresh ->
                                  let uu___3 =
                                    FStar_Tactics_V2_Derived.norm_term
                                      [FStar_Pervasives.iota;
                                      FStar_Pervasives.zeta] t in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (1620))
                                                (Prims.of_int (12))
                                                (Prims.of_int (1620))
                                                (Prims.of_int (36)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (1621))
                                                (Prims.of_int (4))
                                                (Prims.of_int (1621))
                                                (Prims.of_int (63)))))
                                       (Obj.magic uu___3)
                                       (fun t1 ->
                                          FStar_Tactics_Effect.lift_div_tac
                                            (fun uu___4 ->
                                               ((Atom vfresh),
                                                 (FStar_List_Tot_Base.append
                                                    ts [t1]),
                                                 (update vfresh t1 am))))))
                                 uu___3)))) uu___1)
let rec (reification_aux :
  FStar_Tactics_NamedView.term Prims.list ->
    FStar_Tactics_NamedView.term amap ->
      FStar_Tactics_NamedView.term ->
        FStar_Tactics_NamedView.term ->
          FStar_Tactics_NamedView.term ->
            ((exp * FStar_Tactics_NamedView.term Prims.list *
               FStar_Tactics_NamedView.term amap),
              unit) FStar_Tactics_Effect.tac_repr)
  =
  fun ts ->
    fun am ->
      fun mult ->
        fun unit ->
          fun t ->
            let uu___ =
              Obj.magic
                (FStar_Tactics_Effect.lift_div_tac
                   (fun uu___1 ->
                      FStar_Reflection_V2_Derived_Lemmas.collect_app_ref t)) in
            FStar_Tactics_Effect.tac_bind
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (1629)) (Prims.of_int (15))
                       (Prims.of_int (1629)) (Prims.of_int (32)))))
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (1628)) (Prims.of_int (82))
                       (Prims.of_int (1640)) (Prims.of_int (22)))))
              (Obj.magic uu___)
              (fun uu___1 ->
                 (fun uu___1 ->
                    match uu___1 with
                    | (hd, tl) ->
                        let uu___2 =
                          let uu___3 =
                            FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe
                              hd in
                          FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (1630)) (Prims.of_int (8))
                                     (Prims.of_int (1630))
                                     (Prims.of_int (28)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (1630)) (Prims.of_int (8))
                                     (Prims.of_int (1630))
                                     (Prims.of_int (57)))))
                            (Obj.magic uu___3)
                            (fun uu___4 ->
                               FStar_Tactics_Effect.lift_div_tac
                                 (fun uu___5 ->
                                    (uu___4,
                                      (FStar_List_Tot_Base.list_unref tl)))) in
                        Obj.magic
                          (FStar_Tactics_Effect.tac_bind
                             (FStar_Sealed.seal
                                (Obj.magic
                                   (FStar_Range.mk_range
                                      "Steel.Effect.Common.fsti"
                                      (Prims.of_int (1630))
                                      (Prims.of_int (8))
                                      (Prims.of_int (1630))
                                      (Prims.of_int (57)))))
                             (FStar_Sealed.seal
                                (Obj.magic
                                   (FStar_Range.mk_range
                                      "Steel.Effect.Common.fsti"
                                      (Prims.of_int (1630))
                                      (Prims.of_int (2))
                                      (Prims.of_int (1640))
                                      (Prims.of_int (22)))))
                             (Obj.magic uu___2)
                             (fun uu___3 ->
                                (fun uu___3 ->
                                   match uu___3 with
                                   | (FStar_Tactics_NamedView.Tv_FVar fv,
                                      (t1,
                                       FStarC_Reflection_V2_Data.Q_Explicit)::
                                      (t2,
                                       FStarC_Reflection_V2_Data.Q_Explicit)::[])
                                       ->
                                       let uu___4 =
                                         FStarC_Tactics_V2_Builtins.term_eq_old
                                           (FStar_Tactics_NamedView.pack
                                              (FStar_Tactics_NamedView.Tv_FVar
                                                 fv)) mult in
                                       Obj.magic
                                         (FStar_Tactics_Effect.tac_bind
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (1632))
                                                     (Prims.of_int (7))
                                                     (Prims.of_int (1632))
                                                     (Prims.of_int (43)))))
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (1632))
                                                     (Prims.of_int (4))
                                                     (Prims.of_int (1636))
                                                     (Prims.of_int (22)))))
                                            (Obj.magic uu___4)
                                            (fun uu___5 ->
                                               (fun uu___5 ->
                                                  if uu___5
                                                  then
                                                    let uu___6 =
                                                      reification_aux ts am
                                                        mult unit t1 in
                                                    Obj.magic
                                                      (FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (1633))
                                                                  (Prims.of_int (29))
                                                                  (Prims.of_int (1633))
                                                                  (Prims.of_int (63)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (1633))
                                                                  (Prims.of_int (9))
                                                                  (Prims.of_int (1635))
                                                                  (Prims.of_int (31)))))
                                                         (Obj.magic uu___6)
                                                         (fun uu___7 ->
                                                            (fun uu___7 ->
                                                               match uu___7
                                                               with
                                                               | (e1, ts1,
                                                                  am1) ->
                                                                   let uu___8
                                                                    =
                                                                    reification_aux
                                                                    ts1 am1
                                                                    mult unit
                                                                    t2 in
                                                                   Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1634))
                                                                    (Prims.of_int (29))
                                                                    (Prims.of_int (1634))
                                                                    (Prims.of_int (63)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1633))
                                                                    (Prims.of_int (66))
                                                                    (Prims.of_int (1635))
                                                                    (Prims.of_int (30)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    match uu___9
                                                                    with
                                                                    | 
                                                                    (e2, ts2,
                                                                    am2) ->
                                                                    ((Mult
                                                                    (e1, e2)),
                                                                    ts2, am2)))))
                                                              uu___7))
                                                  else
                                                    Obj.magic (fatom t ts am))
                                                 uu___5))
                                   | (uu___4, uu___5) ->
                                       let uu___6 =
                                         FStarC_Tactics_V2_Builtins.term_eq_old
                                           t unit in
                                       Obj.magic
                                         (FStar_Tactics_Effect.tac_bind
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (1638))
                                                     (Prims.of_int (7))
                                                     (Prims.of_int (1638))
                                                     (Prims.of_int (25)))))
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (1638))
                                                     (Prims.of_int (4))
                                                     (Prims.of_int (1640))
                                                     (Prims.of_int (22)))))
                                            (Obj.magic uu___6)
                                            (fun uu___7 ->
                                               (fun uu___7 ->
                                                  if uu___7
                                                  then
                                                    Obj.magic
                                                      (Obj.repr
                                                         (FStar_Tactics_Effect.lift_div_tac
                                                            (fun uu___8 ->
                                                               (Unit, ts, am))))
                                                  else
                                                    Obj.magic
                                                      (Obj.repr
                                                         (fatom t ts am)))
                                                 uu___7))) uu___3))) uu___1)
let (reification :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term Prims.list ->
        FStar_Tactics_NamedView.term amap ->
          FStar_Tactics_NamedView.term ->
            ((exp * FStar_Tactics_NamedView.term Prims.list *
               FStar_Tactics_NamedView.term amap),
              unit) FStar_Tactics_Effect.tac_repr)
  =
  fun eq ->
    fun m ->
      fun ts ->
        fun am ->
          fun t ->
            let uu___ =
              FStar_Tactics_V2_Derived.norm_term
                [FStar_Pervasives.iota;
                FStar_Pervasives.zeta;
                FStar_Pervasives.delta]
                (FStarC_Reflection_V2_Builtins.pack_ln
                   (FStarC_Reflection_V2_Data.Tv_App
                      ((FStarC_Reflection_V2_Builtins.pack_ln
                          (FStarC_Reflection_V2_Data.Tv_FVar
                             (FStarC_Reflection_V2_Builtins.pack_fv
                                ["FStar";
                                "Algebra";
                                "CommMonoid";
                                "Equiv";
                                "__proj__CM__item__mult"]))),
                        (m, FStarC_Reflection_V2_Data.Q_Explicit)))) in
            FStar_Tactics_Effect.tac_bind
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (1645)) (Prims.of_int (13))
                       (Prims.of_int (1645)) (Prims.of_int (63)))))
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (1645)) (Prims.of_int (66))
                       (Prims.of_int (1648)) (Prims.of_int (35)))))
              (Obj.magic uu___)
              (fun uu___1 ->
                 (fun mult ->
                    let uu___1 =
                      FStar_Tactics_V2_Derived.norm_term
                        [FStar_Pervasives.iota;
                        FStar_Pervasives.zeta;
                        FStar_Pervasives.delta]
                        (FStarC_Reflection_V2_Builtins.pack_ln
                           (FStarC_Reflection_V2_Data.Tv_App
                              ((FStarC_Reflection_V2_Builtins.pack_ln
                                  (FStarC_Reflection_V2_Data.Tv_FVar
                                     (FStarC_Reflection_V2_Builtins.pack_fv
                                        ["FStar";
                                        "Algebra";
                                        "CommMonoid";
                                        "Equiv";
                                        "__proj__CM__item__unit"]))),
                                (m, FStarC_Reflection_V2_Data.Q_Explicit)))) in
                    Obj.magic
                      (FStar_Tactics_Effect.tac_bind
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (1646)) (Prims.of_int (13))
                                  (Prims.of_int (1646)) (Prims.of_int (63)))))
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (1646)) (Prims.of_int (66))
                                  (Prims.of_int (1648)) (Prims.of_int (35)))))
                         (Obj.magic uu___1)
                         (fun uu___2 ->
                            (fun unit ->
                               let uu___2 =
                                 FStar_Tactics_V2_Derived.norm_term
                                   [FStar_Pervasives.iota;
                                   FStar_Pervasives.zeta] t in
                               Obj.magic
                                 (FStar_Tactics_Effect.tac_bind
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (1647))
                                             (Prims.of_int (13))
                                             (Prims.of_int (1647))
                                             (Prims.of_int (37)))))
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (1648))
                                             (Prims.of_int (2))
                                             (Prims.of_int (1648))
                                             (Prims.of_int (35)))))
                                    (Obj.magic uu___2)
                                    (fun uu___3 ->
                                       (fun t1 ->
                                          Obj.magic
                                            (reification_aux ts am mult unit
                                               t1)) uu___3))) uu___2)))
                   uu___1)
let rec (convert_map :
  (atom * FStar_Tactics_NamedView.term) Prims.list ->
    FStar_Tactics_NamedView.term)
  =
  fun m ->
    match m with
    | [] ->
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_FVar
             (FStarC_Reflection_V2_Builtins.pack_fv ["Prims"; "Nil"]))
    | (a, t)::ps ->
        let a1 =
          FStar_Tactics_NamedView.pack
            (FStar_Tactics_NamedView.Tv_Const
               (FStarC_Reflection_V2_Data.C_Int a)) in
        let uu___ = convert_map ps in
        let uu___1 = t in
        let uu___2 = a1 in
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_App
             ((FStarC_Reflection_V2_Builtins.pack_ln
                 (FStarC_Reflection_V2_Data.Tv_App
                    ((FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["Prims"; "Cons"]))),
                      ((FStarC_Reflection_V2_Builtins.pack_ln
                          (FStarC_Reflection_V2_Data.Tv_App
                             ((FStarC_Reflection_V2_Builtins.pack_ln
                                 (FStarC_Reflection_V2_Data.Tv_App
                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                        (FStarC_Reflection_V2_Data.Tv_FVar
                                           (FStarC_Reflection_V2_Builtins.pack_fv
                                              ["FStar";
                                              "Pervasives";
                                              "Native";
                                              "Mktuple2"]))),
                                      (uu___2,
                                        FStarC_Reflection_V2_Data.Q_Explicit)))),
                               (uu___1, FStarC_Reflection_V2_Data.Q_Explicit)))),
                        FStarC_Reflection_V2_Data.Q_Explicit)))),
               (uu___, FStarC_Reflection_V2_Data.Q_Explicit)))
let (convert_am :
  FStar_Tactics_NamedView.term amap -> FStar_Tactics_NamedView.term) =
  fun am ->
    let uu___ = am in
    match uu___ with
    | (map, def) ->
        let uu___1 = def in
        let uu___2 = convert_map map in
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_App
             ((FStarC_Reflection_V2_Builtins.pack_ln
                 (FStarC_Reflection_V2_Data.Tv_App
                    ((FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["FStar"; "Pervasives"; "Native"; "Mktuple2"]))),
                      (uu___2, FStarC_Reflection_V2_Data.Q_Explicit)))),
               (uu___1, FStarC_Reflection_V2_Data.Q_Explicit)))
let rec (quote_exp : exp -> FStar_Tactics_NamedView.term) =
  fun e ->
    match e with
    | Unit ->
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_FVar
             (FStarC_Reflection_V2_Builtins.pack_fv
                ["Steel"; "Effect"; "Common"; "Unit"]))
    | Mult (e1, e2) ->
        let uu___ = quote_exp e2 in
        let uu___1 = quote_exp e1 in
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_App
             ((FStarC_Reflection_V2_Builtins.pack_ln
                 (FStarC_Reflection_V2_Data.Tv_App
                    ((FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["Steel"; "Effect"; "Common"; "Mult"]))),
                      (uu___1, FStarC_Reflection_V2_Data.Q_Explicit)))),
               (uu___, FStarC_Reflection_V2_Data.Q_Explicit)))
    | Atom n ->
        let nt =
          FStar_Tactics_NamedView.pack
            (FStar_Tactics_NamedView.Tv_Const
               (FStarC_Reflection_V2_Data.C_Int n)) in
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_App
             ((FStarC_Reflection_V2_Builtins.pack_ln
                 (FStarC_Reflection_V2_Data.Tv_FVar
                    (FStarC_Reflection_V2_Builtins.pack_fv
                       ["Steel"; "Effect"; "Common"; "Atom"]))),
               (nt, FStarC_Reflection_V2_Data.Q_Explicit)))
let rec (quote_atoms : atom Prims.list -> FStarC_Reflection_Types.term) =
  fun l ->
    match l with
    | [] ->
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_FVar
             (FStarC_Reflection_V2_Builtins.pack_fv ["Prims"; "Nil"]))
    | hd::tl ->
        let nt =
          FStar_Tactics_NamedView.pack
            (FStar_Tactics_NamedView.Tv_Const
               (FStarC_Reflection_V2_Data.C_Int hd)) in
        let uu___ = quote_atoms tl in
        let uu___1 = nt in
        FStarC_Reflection_V2_Builtins.pack_ln
          (FStarC_Reflection_V2_Data.Tv_App
             ((FStarC_Reflection_V2_Builtins.pack_ln
                 (FStarC_Reflection_V2_Data.Tv_App
                    ((FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["Prims"; "Cons"]))),
                      (uu___1, FStarC_Reflection_V2_Data.Q_Explicit)))),
               (uu___, FStarC_Reflection_V2_Data.Q_Explicit)))
let (normal_tac_steps : FStar_Pervasives.norm_step Prims.list) =
  [FStar_Pervasives.primops;
  FStar_Pervasives.iota;
  FStar_Pervasives.zeta;
  FStar_Pervasives.delta_only
    ["Steel.Effect.Common.mdenote";
    "Steel.Effect.Common.select";
    "Steel.Effect.Common.my_assoc";
    "Steel.Effect.Common.my_append";
    "Steel.Effect.Common.flatten";
    "Steel.Effect.Common.sort";
    "Steel.Effect.Common.my_sortWith";
    "Steel.Effect.Common.my_partition";
    "Steel.Effect.Common.my_bool_of_compare";
    "Steel.Effect.Common.my_compare_of_bool";
    "FStar.Pervasives.Native.fst";
    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
    "FStar.Pervasives.Native.snd";
    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
    "Steel.Effect.Common.rm"]]
let normal_tac : 'a . 'a -> 'a = fun x -> x
exception Result of (atom Prims.list * atom Prims.list * Prims.bool *
  FStar_Tactics_NamedView.term Prims.list) 
let (uu___is_Result : Prims.exn -> Prims.bool) =
  fun projectee ->
    match projectee with | Result uu___ -> true | uu___ -> false
let (__proj__Result__item__uu___ :
  Prims.exn ->
    (atom Prims.list * atom Prims.list * Prims.bool *
      FStar_Tactics_NamedView.term Prims.list))
  = fun projectee -> match projectee with | Result uu___ -> uu___
let (close_equality_typ' :
  FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Reflection_V2_Formula.term_as_formula' t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1709)) (Prims.of_int (10))
               (Prims.of_int (1709)) (Prims.of_int (28)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1710)) (Prims.of_int (2)) (Prims.of_int (1712))
               (Prims.of_int (11))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun f ->
            match f with
            | FStar_Reflection_V2_Formula.Comp
                (FStar_Reflection_V2_Formula.Eq (FStar_Pervasives_Native.Some
                 u), l, uu___1)
                ->
                Obj.magic
                  (Obj.repr
                     (let uu___2 = is_uvar u in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (1711)) (Prims.of_int (33))
                                 (Prims.of_int (1711)) (Prims.of_int (42)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (1711)) (Prims.of_int (30))
                                 (Prims.of_int (1711)) (Prims.of_int (95)))))
                        (Obj.magic uu___2)
                        (fun uu___3 ->
                           (fun uu___3 ->
                              if uu___3
                              then
                                Obj.magic
                                  (Obj.repr
                                     (let uu___4 =
                                        FStarC_Tactics_V2_Builtins.unshelve u in
                                      FStar_Tactics_Effect.tac_bind
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (1711))
                                                 (Prims.of_int (49))
                                                 (Prims.of_int (1711))
                                                 (Prims.of_int (59)))))
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (1711))
                                                 (Prims.of_int (61))
                                                 (Prims.of_int (1711))
                                                 (Prims.of_int (94)))))
                                        (Obj.magic uu___4)
                                        (fun uu___5 ->
                                           (fun uu___5 ->
                                              let uu___6 =
                                                let uu___7 =
                                                  FStar_Tactics_V2_Derived.cur_env
                                                    () in
                                                FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (1711))
                                                           (Prims.of_int (80))
                                                           (Prims.of_int (1711))
                                                           (Prims.of_int (91)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (1711))
                                                           (Prims.of_int (76))
                                                           (Prims.of_int (1711))
                                                           (Prims.of_int (94)))))
                                                  (Obj.magic uu___7)
                                                  (fun uu___8 ->
                                                     (fun uu___8 ->
                                                        Obj.magic
                                                          (FStarC_Tactics_V2_Builtins.tc
                                                             uu___8 l))
                                                       uu___8) in
                                              Obj.magic
                                                (FStar_Tactics_Effect.tac_bind
                                                   (FStar_Sealed.seal
                                                      (Obj.magic
                                                         (FStar_Range.mk_range
                                                            "Steel.Effect.Common.fsti"
                                                            (Prims.of_int (1711))
                                                            (Prims.of_int (76))
                                                            (Prims.of_int (1711))
                                                            (Prims.of_int (94)))))
                                                   (FStar_Sealed.seal
                                                      (Obj.magic
                                                         (FStar_Range.mk_range
                                                            "Steel.Effect.Common.fsti"
                                                            (Prims.of_int (1711))
                                                            (Prims.of_int (61))
                                                            (Prims.of_int (1711))
                                                            (Prims.of_int (94)))))
                                                   (Obj.magic uu___6)
                                                   (fun uu___7 ->
                                                      (fun uu___7 ->
                                                         Obj.magic
                                                           (FStar_Tactics_V2_Derived.exact_with_ref
                                                              uu___7)) uu___7)))
                                             uu___5)))
                              else
                                Obj.magic
                                  (Obj.repr
                                     (FStar_Tactics_Effect.lift_div_tac
                                        (fun uu___5 -> ())))) uu___3)))
            | uu___1 ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___2 -> ()))))
           uu___1)
let (close_equality_typ :
  FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
  = fun t -> visit_tm close_equality_typ' t
exception Postpone of Prims.string 
let (uu___is_Postpone : Prims.exn -> Prims.bool) =
  fun projectee ->
    match projectee with | Postpone uu___ -> true | uu___ -> false
let (__proj__Postpone__item__uu___ : Prims.exn -> Prims.string) =
  fun projectee -> match projectee with | Postpone uu___ -> uu___
let (bor : Prims.bool -> Prims.bool -> Prims.bool) = (||)
let (is_and : FStar_Tactics_NamedView.term -> Prims.bool) =
  fun t ->
    FStar_Reflection_V2_Derived.is_any_fvar t
      ["Prims.l_and"; "Steel.Effect.Common.prop_and"]
let (is_squash : FStar_Tactics_NamedView.term -> Prims.bool) =
  fun t ->
    FStar_Reflection_V2_Derived.is_any_fvar t
      ["Prims.squash"; "Prims.auto_squash"]
let (is_star : FStar_Tactics_NamedView.term -> Prims.bool) =
  fun t ->
    FStar_Reflection_V2_Derived.is_any_fvar t
      ["Steel.Effect.Common.star"; "Steel.Effect.Common.VStar"]
let (is_star_or_unit : FStar_Tactics_NamedView.term -> Prims.bool) =
  fun t ->
    FStar_Reflection_V2_Derived.is_any_fvar t
      ["Steel.Effect.Common.star";
      "Steel.Effect.Common.VStar";
      "Steel.Effect.Common.VUnit"]
let rec (unify_pr_with_true :
  FStar_Tactics_NamedView.term -> (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun pr ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app pr in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1786)) (Prims.of_int (15))
               (Prims.of_int (1786)) (Prims.of_int (29)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1785)) (Prims.of_int (50))
               (Prims.of_int (1807)) (Prims.of_int (73))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | (hd, tl) ->
                if is_and hd
                then
                  Obj.magic
                    (Obj.repr
                       (match tl with
                        | (pr_l, uu___2)::(pr_r, uu___3)::[] ->
                            Obj.repr
                              (let uu___4 = unify_pr_with_true pr_l in
                               FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (1791))
                                          (Prims.of_int (6))
                                          (Prims.of_int (1791))
                                          (Prims.of_int (29)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (1792))
                                          (Prims.of_int (6))
                                          (Prims.of_int (1792))
                                          (Prims.of_int (29)))))
                                 (Obj.magic uu___4)
                                 (fun uu___5 ->
                                    (fun uu___5 ->
                                       Obj.magic (unify_pr_with_true pr_r))
                                      uu___5))
                        | uu___2 ->
                            Obj.repr
                              (FStar_Tactics_V2_Derived.fail
                                 "unify_pr_with_true: ill-formed /\\")))
                else
                  Obj.magic
                    (Obj.repr
                       (let uu___3 =
                          FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe hd in
                        FStar_Tactics_Effect.tac_bind
                          (FStar_Sealed.seal
                             (Obj.magic
                                (FStar_Range.mk_range
                                   "Steel.Effect.Common.fsti"
                                   (Prims.of_int (1795)) (Prims.of_int (10))
                                   (Prims.of_int (1795)) (Prims.of_int (30)))))
                          (FStar_Sealed.seal
                             (Obj.magic
                                (FStar_Range.mk_range
                                   "Steel.Effect.Common.fsti"
                                   (Prims.of_int (1795)) (Prims.of_int (4))
                                   (Prims.of_int (1807)) (Prims.of_int (73)))))
                          (Obj.magic uu___3)
                          (fun uu___4 ->
                             (fun uu___4 ->
                                match uu___4 with
                                | FStar_Tactics_NamedView.Tv_Uvar
                                    (uu___5, uu___6) ->
                                    let uu___7 =
                                      FStar_Tactics_V2_Derived.unify pr
                                        (FStarC_Reflection_V2_Builtins.pack_ln
                                           (FStarC_Reflection_V2_Data.Tv_FVar
                                              (FStarC_Reflection_V2_Builtins.pack_fv
                                                 ["Steel";
                                                 "Effect";
                                                 "Common";
                                                 "true_p"]))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (1797))
                                                  (Prims.of_int (9))
                                                  (Prims.of_int (1797))
                                                  (Prims.of_int (27)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (1797))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (1801))
                                                  (Prims.of_int (9)))))
                                         (Obj.magic uu___7)
                                         (fun uu___8 ->
                                            if uu___8
                                            then
                                              FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___9 -> ())
                                            else
                                              FStar_Tactics_V2_Derived.fail
                                                "unify_pr_with_true: could not unify SMT prop with True"))
                                | uu___5 ->
                                    let uu___6 =
                                      let uu___7 =
                                        let uu___8 =
                                          FStarC_Tactics_V2_Builtins.free_uvars
                                            pr in
                                        FStar_Tactics_Effect.tac_bind
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (1803))
                                                   (Prims.of_int (25))
                                                   (Prims.of_int (1803))
                                                   (Prims.of_int (40)))))
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (1803))
                                                   (Prims.of_int (9))
                                                   (Prims.of_int (1803))
                                                   (Prims.of_int (40)))))
                                          (Obj.magic uu___8)
                                          (fun uu___9 ->
                                             FStar_Tactics_Effect.lift_div_tac
                                               (fun uu___10 ->
                                                  FStar_List_Tot_Base.length
                                                    uu___9)) in
                                      FStar_Tactics_Effect.tac_bind
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (1803))
                                                 (Prims.of_int (9))
                                                 (Prims.of_int (1803))
                                                 (Prims.of_int (40)))))
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (1803))
                                                 (Prims.of_int (9))
                                                 (Prims.of_int (1803))
                                                 (Prims.of_int (44)))))
                                        (Obj.magic uu___7)
                                        (fun uu___8 ->
                                           FStar_Tactics_Effect.lift_div_tac
                                             (fun uu___9 ->
                                                uu___8 = Prims.int_zero)) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (1803))
                                                  (Prims.of_int (9))
                                                  (Prims.of_int (1803))
                                                  (Prims.of_int (44)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (1803))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (1807))
                                                  (Prims.of_int (73)))))
                                         (Obj.magic uu___6)
                                         (fun uu___7 ->
                                            if uu___7
                                            then
                                              FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___8 -> ())
                                            else
                                              FStar_Tactics_Effect.raise
                                                (Postpone
                                                   "unify_pr_with_true: some uvars are still there"))))
                               uu___4)))) uu___1)
let rec (set_abduction_variable_term :
  FStar_Tactics_NamedView.term ->
    (FStar_Tactics_NamedView.term, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun pr ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app pr in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1827)) (Prims.of_int (15))
               (Prims.of_int (1827)) (Prims.of_int (29)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1826)) (Prims.of_int (59))
               (Prims.of_int (1848)) (Prims.of_int (54))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | (hd, tl) ->
                if is_and hd
                then
                  Obj.magic
                    (Obj.repr
                       (match tl with
                        | (pr_l, FStarC_Reflection_V2_Data.Q_Explicit)::
                            (pr_r, FStarC_Reflection_V2_Data.Q_Explicit)::[]
                            ->
                            Obj.repr
                              (let uu___2 =
                                 let uu___3 =
                                   let uu___4 =
                                     FStarC_Tactics_V2_Builtins.free_uvars
                                       pr_r in
                                   FStar_Tactics_Effect.tac_bind
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (1832))
                                              (Prims.of_int (25))
                                              (Prims.of_int (1832))
                                              (Prims.of_int (42)))))
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (1832))
                                              (Prims.of_int (9))
                                              (Prims.of_int (1832))
                                              (Prims.of_int (42)))))
                                     (Obj.magic uu___4)
                                     (fun uu___5 ->
                                        FStar_Tactics_Effect.lift_div_tac
                                          (fun uu___6 ->
                                             FStar_List_Tot_Base.length
                                               uu___5)) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (1832))
                                            (Prims.of_int (9))
                                            (Prims.of_int (1832))
                                            (Prims.of_int (42)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (1832))
                                            (Prims.of_int (9))
                                            (Prims.of_int (1832))
                                            (Prims.of_int (46)))))
                                   (Obj.magic uu___3)
                                   (fun uu___4 ->
                                      FStar_Tactics_Effect.lift_div_tac
                                        (fun uu___5 ->
                                           uu___4 = Prims.int_zero)) in
                               FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (1832))
                                          (Prims.of_int (9))
                                          (Prims.of_int (1832))
                                          (Prims.of_int (46)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (1832))
                                          (Prims.of_int (6))
                                          (Prims.of_int (1842))
                                          (Prims.of_int (100)))))
                                 (Obj.magic uu___2)
                                 (fun uu___3 ->
                                    (fun uu___3 ->
                                       if uu___3
                                       then
                                         let uu___4 =
                                           set_abduction_variable_term pr_l in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (1834))
                                                       (Prims.of_int (18))
                                                       (Prims.of_int (1834))
                                                       (Prims.of_int (50)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (1835))
                                                       (Prims.of_int (8))
                                                       (Prims.of_int (1835))
                                                       (Prims.of_int (53)))))
                                              (Obj.magic uu___4)
                                              (fun arg ->
                                                 FStar_Tactics_Effect.lift_div_tac
                                                   (fun uu___5 ->
                                                      FStar_Reflection_V2_Derived.mk_app
                                                        (FStarC_Reflection_V2_Builtins.pack_ln
                                                           (FStarC_Reflection_V2_Data.Tv_FVar
                                                              (FStarC_Reflection_V2_Builtins.pack_fv
                                                                 ["Steel";
                                                                 "Effect";
                                                                 "Common";
                                                                 "elim_and_l_squash"])))
                                                        [(arg,
                                                           FStarC_Reflection_V2_Data.Q_Explicit)])))
                                       else
                                         (let uu___5 =
                                            let uu___6 =
                                              let uu___7 =
                                                FStarC_Tactics_V2_Builtins.free_uvars
                                                  pr_l in
                                              FStar_Tactics_Effect.tac_bind
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (1836))
                                                         (Prims.of_int (30))
                                                         (Prims.of_int (1836))
                                                         (Prims.of_int (47)))))
                                                (FStar_Sealed.seal
                                                   (Obj.magic
                                                      (FStar_Range.mk_range
                                                         "Steel.Effect.Common.fsti"
                                                         (Prims.of_int (1836))
                                                         (Prims.of_int (14))
                                                         (Prims.of_int (1836))
                                                         (Prims.of_int (47)))))
                                                (Obj.magic uu___7)
                                                (fun uu___8 ->
                                                   FStar_Tactics_Effect.lift_div_tac
                                                     (fun uu___9 ->
                                                        FStar_List_Tot_Base.length
                                                          uu___8)) in
                                            FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (1836))
                                                       (Prims.of_int (14))
                                                       (Prims.of_int (1836))
                                                       (Prims.of_int (47)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (1836))
                                                       (Prims.of_int (14))
                                                       (Prims.of_int (1836))
                                                       (Prims.of_int (51)))))
                                              (Obj.magic uu___6)
                                              (fun uu___7 ->
                                                 FStar_Tactics_Effect.lift_div_tac
                                                   (fun uu___8 ->
                                                      uu___7 = Prims.int_zero)) in
                                          Obj.magic
                                            (FStar_Tactics_Effect.tac_bind
                                               (FStar_Sealed.seal
                                                  (Obj.magic
                                                     (FStar_Range.mk_range
                                                        "Steel.Effect.Common.fsti"
                                                        (Prims.of_int (1836))
                                                        (Prims.of_int (14))
                                                        (Prims.of_int (1836))
                                                        (Prims.of_int (51)))))
                                               (FStar_Sealed.seal
                                                  (Obj.magic
                                                     (FStar_Range.mk_range
                                                        "Steel.Effect.Common.fsti"
                                                        (Prims.of_int (1836))
                                                        (Prims.of_int (11))
                                                        (Prims.of_int (1842))
                                                        (Prims.of_int (100)))))
                                               (Obj.magic uu___5)
                                               (fun uu___6 ->
                                                  (fun uu___6 ->
                                                     if uu___6
                                                     then
                                                       Obj.magic
                                                         (Obj.repr
                                                            (let uu___7 =
                                                               set_abduction_variable_term
                                                                 pr_r in
                                                             FStar_Tactics_Effect.tac_bind
                                                               (FStar_Sealed.seal
                                                                  (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1838))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (1838))
                                                                    (Prims.of_int (50)))))
                                                               (FStar_Sealed.seal
                                                                  (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1839))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (1839))
                                                                    (Prims.of_int (53)))))
                                                               (Obj.magic
                                                                  uu___7)
                                                               (fun arg ->
                                                                  FStar_Tactics_Effect.lift_div_tac
                                                                    (
                                                                    fun
                                                                    uu___8 ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "elim_and_r_squash"])))
                                                                    [
                                                                    (arg,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)]))))
                                                     else
                                                       Obj.magic
                                                         (Obj.repr
                                                            (FStar_Tactics_Effect.raise
                                                               (Postpone
                                                                  "set_abduction_variable_term: there are still uvars on both sides of l_and"))))
                                                    uu___6)))) uu___3))
                        | uu___2 ->
                            Obj.repr
                              (FStar_Tactics_V2_Derived.fail
                                 "set_abduction_variable: ill-formed /\\")))
                else
                  Obj.magic
                    (Obj.repr
                       (let uu___3 = FStar_Tactics_NamedView.inspect hd in
                        FStar_Tactics_Effect.tac_bind
                          (FStar_Sealed.seal
                             (Obj.magic
                                (FStar_Range.mk_range
                                   "Steel.Effect.Common.fsti"
                                   (Prims.of_int (1845)) (Prims.of_int (10))
                                   (Prims.of_int (1845)) (Prims.of_int (20)))))
                          (FStar_Sealed.seal
                             (Obj.magic
                                (FStar_Range.mk_range
                                   "Steel.Effect.Common.fsti"
                                   (Prims.of_int (1845)) (Prims.of_int (4))
                                   (Prims.of_int (1848)) (Prims.of_int (54)))))
                          (Obj.magic uu___3)
                          (fun uu___4 ->
                             match uu___4 with
                             | FStar_Tactics_NamedView.Tv_Uvar
                                 (uu___5, uu___6) ->
                                 FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___7 ->
                                      FStar_Reflection_V2_Derived.mk_app
                                        (FStarC_Reflection_V2_Builtins.pack_ln
                                           (FStarC_Reflection_V2_Data.Tv_FVar
                                              (FStarC_Reflection_V2_Builtins.pack_fv
                                                 ["Steel";
                                                 "Effect";
                                                 "Common";
                                                 "_return_squash"])))
                                        [((FStarC_Reflection_V2_Builtins.pack_ln
                                             (FStarC_Reflection_V2_Data.Tv_Const
                                                FStarC_Reflection_V2_Data.C_Unit)),
                                           FStarC_Reflection_V2_Data.Q_Explicit)])
                             | uu___5 ->
                                 FStar_Tactics_V2_Derived.fail
                                   "set_abduction_variable: cannot unify"))))
           uu___1)
let (set_abduction_variable :
  unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.cur_goal () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1851)) (Prims.of_int (10))
               (Prims.of_int (1851)) (Prims.of_int (21)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (1852)) (Prims.of_int (2)) (Prims.of_int (1856))
               (Prims.of_int (33))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun g ->
            let uu___2 = FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe g in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (1852)) (Prims.of_int (8))
                          (Prims.of_int (1852)) (Prims.of_int (27)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (1852)) (Prims.of_int (2))
                          (Prims.of_int (1856)) (Prims.of_int (33)))))
                 (Obj.magic uu___2)
                 (fun uu___3 ->
                    (fun uu___3 ->
                       match uu___3 with
                       | FStar_Tactics_NamedView.Tv_Arrow (b, uu___4) ->
                           Obj.magic
                             (Obj.repr
                                (let uu___5 =
                                   Obj.magic
                                     (FStar_Tactics_Effect.lift_div_tac
                                        (fun uu___6 ->
                                           b.FStar_Tactics_NamedView.sort)) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (1854))
                                            (Prims.of_int (13))
                                            (Prims.of_int (1854))
                                            (Prims.of_int (19)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (1855))
                                            (Prims.of_int (4))
                                            (Prims.of_int (1855))
                                            (Prims.of_int (42)))))
                                   (Obj.magic uu___5)
                                   (fun uu___6 ->
                                      (fun pr ->
                                         let uu___6 =
                                           set_abduction_variable_term pr in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (1855))
                                                       (Prims.of_int (10))
                                                       (Prims.of_int (1855))
                                                       (Prims.of_int (42)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (1855))
                                                       (Prims.of_int (4))
                                                       (Prims.of_int (1855))
                                                       (Prims.of_int (42)))))
                                              (Obj.magic uu___6)
                                              (fun uu___7 ->
                                                 (fun uu___7 ->
                                                    Obj.magic
                                                      (FStar_Tactics_V2_Derived.exact
                                                         uu___7)) uu___7)))
                                        uu___6)))
                       | uu___4 ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_V2_Derived.fail
                                   "Not an arrow goal"))) uu___3))) uu___2)
let (canon_l_r :
  Prims.bool ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term ->
        FStar_Tactics_NamedView.term ->
          FStar_Tactics_NamedView.term ->
            FStar_Tactics_NamedView.term ->
              FStar_Tactics_NamedView.term ->
                FStar_Tactics_NamedView.term ->
                  FStar_Tactics_NamedView.term ->
                    (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun use_smt ->
    fun carrier_t ->
      fun eq ->
        fun m ->
          fun pr ->
            fun pr_bind ->
              fun lhs ->
                fun rel ->
                  fun rhs ->
                    let uu___ =
                      FStar_Tactics_V2_Derived.norm_term
                        [FStar_Pervasives.iota;
                        FStar_Pervasives.zeta;
                        FStar_Pervasives.delta]
                        (FStarC_Reflection_V2_Builtins.pack_ln
                           (FStarC_Reflection_V2_Data.Tv_App
                              ((FStarC_Reflection_V2_Builtins.pack_ln
                                  (FStarC_Reflection_V2_Data.Tv_FVar
                                     (FStarC_Reflection_V2_Builtins.pack_fv
                                        ["FStar";
                                        "Algebra";
                                        "CommMonoid";
                                        "Equiv";
                                        "__proj__CM__item__unit"]))),
                                (m, FStarC_Reflection_V2_Data.Q_Explicit)))) in
                    FStar_Tactics_Effect.tac_bind
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (1864)) (Prims.of_int (15))
                               (Prims.of_int (1864)) (Prims.of_int (67)))))
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (1864)) (Prims.of_int (70))
                               (Prims.of_int (2080)) (Prims.of_int (29)))))
                      (Obj.magic uu___)
                      (fun uu___1 ->
                         (fun m_unit ->
                            let uu___1 =
                              FStar_Tactics_V2_Derived.norm_term
                                [FStar_Pervasives.iota;
                                FStar_Pervasives.zeta;
                                FStar_Pervasives.delta]
                                (FStarC_Reflection_V2_Builtins.pack_ln
                                   (FStarC_Reflection_V2_Data.Tv_App
                                      ((FStarC_Reflection_V2_Builtins.pack_ln
                                          (FStarC_Reflection_V2_Data.Tv_FVar
                                             (FStarC_Reflection_V2_Builtins.pack_fv
                                                ["FStar";
                                                "Algebra";
                                                "CommMonoid";
                                                "Equiv";
                                                "__proj__CM__item__mult"]))),
                                        (m,
                                          FStarC_Reflection_V2_Data.Q_Explicit)))) in
                            Obj.magic
                              (FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (1865))
                                          (Prims.of_int (15))
                                          (Prims.of_int (1865))
                                          (Prims.of_int (67)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (1865))
                                          (Prims.of_int (70))
                                          (Prims.of_int (2080))
                                          (Prims.of_int (29)))))
                                 (Obj.magic uu___1)
                                 (fun uu___2 ->
                                    (fun m_mult ->
                                       let uu___2 =
                                         Obj.magic
                                           (FStar_Tactics_Effect.lift_div_tac
                                              (fun uu___3 -> const m_unit)) in
                                       Obj.magic
                                         (FStar_Tactics_Effect.tac_bind
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (1867))
                                                     (Prims.of_int (11))
                                                     (Prims.of_int (1867))
                                                     (Prims.of_int (23)))))
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (1867))
                                                     (Prims.of_int (26))
                                                     (Prims.of_int (2080))
                                                     (Prims.of_int (29)))))
                                            (Obj.magic uu___2)
                                            (fun uu___3 ->
                                               (fun am ->
                                                  let uu___3 =
                                                    reification eq m [] am
                                                      lhs in
                                                  Obj.magic
                                                    (FStar_Tactics_Effect.tac_bind
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (1868))
                                                                (Prims.of_int (25))
                                                                (Prims.of_int (1868))
                                                                (Prims.of_int (51)))))
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (1867))
                                                                (Prims.of_int (26))
                                                                (Prims.of_int (2080))
                                                                (Prims.of_int (29)))))
                                                       (Obj.magic uu___3)
                                                       (fun uu___4 ->
                                                          (fun uu___4 ->
                                                             match uu___4
                                                             with
                                                             | (r1_raw, ts,
                                                                am1) ->
                                                                 let uu___5 =
                                                                   reification
                                                                    eq m ts
                                                                    am1 rhs in
                                                                 Obj.magic
                                                                   (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1869))
                                                                    (Prims.of_int (25))
                                                                    (Prims.of_int (1869))
                                                                    (Prims.of_int (51)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1868))
                                                                    (Prims.of_int (54))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___5)
                                                                    (fun
                                                                    uu___6 ->
                                                                    (fun
                                                                    uu___6 ->
                                                                    match uu___6
                                                                    with
                                                                    | 
                                                                    (r2_raw,
                                                                    uu___7,
                                                                    am2) ->
                                                                    let uu___8
                                                                    =
                                                                    FStar_Tactics_V2_Derived.try_with
                                                                    (fun
                                                                    uu___9 ->
                                                                    match ()
                                                                    with
                                                                    | 
                                                                    () ->
                                                                    let uu___10
                                                                    =
                                                                    equivalent_lists
                                                                    use_smt
                                                                    (flatten
                                                                    r1_raw)
                                                                    (flatten
                                                                    r2_raw)
                                                                    am2 in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1874))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (1874))
                                                                    (Prims.of_int (77)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1875))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (1875))
                                                                    (Prims.of_int (24)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun res
                                                                    ->
                                                                    FStar_Tactics_Effect.raise
                                                                    (Result
                                                                    res)))
                                                                    (fun
                                                                    uu___9 ->
                                                                    (fun
                                                                    uu___9 ->
                                                                    match uu___9
                                                                    with
                                                                    | 
                                                                    FStarC_Tactics_Common.TacticFailure
                                                                    (m1,
                                                                    rng_opt)
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.fail_doc_at
                                                                    m1
                                                                    rng_opt)
                                                                    | 
                                                                    Result
                                                                    res ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___10
                                                                    -> res))
                                                                    | 
                                                                    uu___10
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "uncaught exception in equivalent_lists"))
                                                                    uu___9) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1873))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1878))
                                                                    (Prims.of_int (56)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1869))
                                                                    (Prims.of_int (54))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    (fun
                                                                    uu___9 ->
                                                                    match uu___9
                                                                    with
                                                                    | 
                                                                    (l1_raw,
                                                                    l2_raw,
                                                                    emp_frame,
                                                                    uvar_terms)
                                                                    ->
                                                                    let uu___10
                                                                    =
                                                                    FStar_Tactics_Util.mapi
                                                                    (fun i ->
                                                                    fun
                                                                    uu___11
                                                                    ->
                                                                    match uu___11
                                                                    with
                                                                    | 
                                                                    (a,
                                                                    uu___12)
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    FStar_Tactics_V2_Derived.fresh_namedv_named
                                                                    (Prims.strcat
                                                                    "x"
                                                                    (Prims.string_of_int
                                                                    i)) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1899))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (1899))
                                                                    (Prims.of_int (56)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1900))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1900))
                                                                    (Prims.of_int (21)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun x ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (a, x,
                                                                    carrier_t))))
                                                                    (FStar_Pervasives_Native.fst
                                                                    am2) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1898))
                                                                    (Prims.of_int (43))
                                                                    (Prims.of_int (1900))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1900))
                                                                    (Prims.of_int (34))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    am_bv ->
                                                                    let uu___11
                                                                    =
                                                                    let uu___12
                                                                    =
                                                                    FStar_Tactics_Util.map
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    match uu___13
                                                                    with
                                                                    | 
                                                                    (a, bv,
                                                                    _sort) ->
                                                                    (a,
                                                                    (FStar_Tactics_NamedView.pack
                                                                    (FStar_Tactics_NamedView.Tv_Var
                                                                    bv))))))
                                                                    uu___13)
                                                                    am_bv in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (84)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (92)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (uu___13,
                                                                    (FStar_Pervasives_Native.snd
                                                                    am2)))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (92)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1902))
                                                                    (Prims.of_int (95))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    am_bv_term
                                                                    ->
                                                                    let uu___12
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    fun e ->
                                                                    mdenote_gen
                                                                    m_unit
                                                                    (fun t1
                                                                    ->
                                                                    fun t2 ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    m_mult
                                                                    [
                                                                    (t1,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit);
                                                                    (t2,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)])
                                                                    am_bv_term
                                                                    e)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1904))
                                                                    (Prims.of_int (34))
                                                                    (Prims.of_int (1908))
                                                                    (Prims.of_int (5)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1908))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun
                                                                    mdenote_tm
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    fun l ->
                                                                    xsdenote_gen
                                                                    m_unit
                                                                    (fun t1
                                                                    ->
                                                                    fun t2 ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    m_mult
                                                                    [
                                                                    (t1,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit);
                                                                    (t2,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)])
                                                                    am_bv_term
                                                                    l)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1910))
                                                                    (Prims.of_int (41))
                                                                    (Prims.of_int (1914))
                                                                    (Prims.of_int (5)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1914))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    xsdenote_tm
                                                                    ->
                                                                    let uu___14
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    mdenote_tm
                                                                    r1_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1918))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (1918))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1918))
                                                                    (Prims.of_int (38))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    (fun
                                                                    lhs_named
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    mdenote_tm
                                                                    r2_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1919))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (1919))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1919))
                                                                    (Prims.of_int (38))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    rhs_named
                                                                    ->
                                                                    let uu___16
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    xsdenote_tm
                                                                    l1_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1921))
                                                                    (Prims.of_int (25))
                                                                    (Prims.of_int (1921))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1921))
                                                                    (Prims.of_int (46))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    (fun
                                                                    sorted_lhs_named
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    xsdenote_tm
                                                                    l2_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1922))
                                                                    (Prims.of_int (25))
                                                                    (Prims.of_int (1922))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1922))
                                                                    (Prims.of_int (46))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    sorted_rhs_named
                                                                    ->
                                                                    let uu___18
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    fun l ->
                                                                    fun r ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    rel
                                                                    [
                                                                    (l,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit);
                                                                    (r,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)])) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1931))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1931))
                                                                    (Prims.of_int (49)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1931))
                                                                    (Prims.of_int (52))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___18)
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    (fun
                                                                    mk_rel ->
                                                                    let uu___19
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    mk_rel
                                                                    lhs_named
                                                                    rhs_named)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1933))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (1933))
                                                                    (Prims.of_int (42)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1933))
                                                                    (Prims.of_int (45))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    imp_rhs
                                                                    ->
                                                                    let uu___20
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    mk_rel
                                                                    sorted_lhs_named
                                                                    sorted_rhs_named)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1934))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (1934))
                                                                    (Prims.of_int (56)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1934))
                                                                    (Prims.of_int (59))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___20)
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    (fun
                                                                    imp_lhs
                                                                    ->
                                                                    let uu___21
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    (FStar_Tactics_NamedView.pack
                                                                    (FStar_Tactics_NamedView.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    FStar_Reflection_Const.imp_qn)))
                                                                    [
                                                                    (imp_lhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit);
                                                                    (imp_rhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)])) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1937))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1937))
                                                                    (Prims.of_int (91)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1937))
                                                                    (Prims.of_int (94))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___21)
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    (fun imp
                                                                    ->
                                                                    let uu___22
                                                                    =
                                                                    FStar_Tactics_Util.fold_right
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    fun
                                                                    uu___23
                                                                    ->
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    fun t ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    match uu___23
                                                                    with
                                                                    | 
                                                                    (uu___25,
                                                                    nv,
                                                                    sort1) ->
                                                                    (match 
                                                                    FStar_Tactics_NamedView.close_term
                                                                    {
                                                                    FStar_Tactics_NamedView.uniq
                                                                    =
                                                                    ((FStar_Tactics_NamedView.inspect_namedv
                                                                    nv).FStarC_Reflection_V2_Data.uniq);
                                                                    FStar_Tactics_NamedView.ppname
                                                                    =
                                                                    ((FStar_Tactics_NamedView.inspect_namedv
                                                                    nv).FStarC_Reflection_V2_Data.ppname);
                                                                    FStar_Tactics_NamedView.sort
                                                                    = sort1;
                                                                    FStar_Tactics_NamedView.qual
                                                                    =
                                                                    FStarC_Reflection_V2_Data.Q_Explicit;
                                                                    FStar_Tactics_NamedView.attrs
                                                                    = []
                                                                    } t
                                                                    with
                                                                    | 
                                                                    (uu___26,
                                                                    t1) ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    (FStar_Tactics_NamedView.pack
                                                                    (FStar_Tactics_NamedView.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    FStar_Reflection_Const.forall_qn)))
                                                                    [
                                                                    ((FStar_Tactics_NamedView.pack
                                                                    (FStar_Tactics_NamedView.Tv_Abs
                                                                    ({
                                                                    FStar_Tactics_NamedView.uniq
                                                                    =
                                                                    ((FStar_Tactics_NamedView.inspect_namedv
                                                                    nv).FStarC_Reflection_V2_Data.uniq);
                                                                    FStar_Tactics_NamedView.ppname
                                                                    =
                                                                    ((FStar_Tactics_NamedView.inspect_namedv
                                                                    nv).FStarC_Reflection_V2_Data.ppname);
                                                                    FStar_Tactics_NamedView.sort
                                                                    = sort1;
                                                                    FStar_Tactics_NamedView.qual
                                                                    =
                                                                    FStarC_Reflection_V2_Data.Q_Explicit;
                                                                    FStar_Tactics_NamedView.attrs
                                                                    = []
                                                                    }, t1))),
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)]))))
                                                                    uu___24
                                                                    uu___23)
                                                                    am_bv imp in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1941))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (1952))
                                                                    (Prims.of_int (74)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1957))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___22)
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    (fun
                                                                    aux_goal
                                                                    ->
                                                                    let uu___23
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "cut"]))),
                                                                    (aux_goal,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1957))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (1957))
                                                                    (Prims.of_int (33)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1963))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___23)
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    let uu___25
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1963))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (1963))
                                                                    (Prims.of_int (10)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1967))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___25)
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    let uu___27
                                                                    =
                                                                    FStar_Tactics_V2_Derived.focus
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    let uu___29
                                                                    =
                                                                    let uu___30
                                                                    =
                                                                    FStar_Tactics_Util.fold_left
                                                                    (fun am3
                                                                    ->
                                                                    fun
                                                                    uu___31
                                                                    ->
                                                                    match uu___31
                                                                    with
                                                                    | 
                                                                    (a,
                                                                    uu___32,
                                                                    _sort) ->
                                                                    let uu___33
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1976))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (1976))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1978))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (1978))
                                                                    (Prims.of_int (30)))))
                                                                    (Obj.magic
                                                                    uu___33)
                                                                    (fun b ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___34
                                                                    ->
                                                                    (a,
                                                                    (FStar_Tactics_NamedView.pack
                                                                    (FStar_Tactics_NamedView.Tv_Var
                                                                    (FStar_Tactics_V2_SyntaxCoercions.binding_to_namedv
                                                                    b)))) ::
                                                                    am3))) []
                                                                    am_bv in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1975))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1978))
                                                                    (Prims.of_int (40)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1975))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1978))
                                                                    (Prims.of_int (48)))))
                                                                    (Obj.magic
                                                                    uu___30)
                                                                    (fun
                                                                    uu___31
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    (uu___31,
                                                                    (FStar_Pervasives_Native.snd
                                                                    am2)))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1975))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1978))
                                                                    (Prims.of_int (48)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1978))
                                                                    (Prims.of_int (51))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___29)
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    (fun am3
                                                                    ->
                                                                    let uu___30
                                                                    =
                                                                    FStar_Tactics_V2_Logic.implies_intro
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1982))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (1982))
                                                                    (Prims.of_int (28)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1982))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___30)
                                                                    (fun
                                                                    uu___31
                                                                    ->
                                                                    (fun b ->
                                                                    let uu___31
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    convert_am
                                                                    am3)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1986))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1986))
                                                                    (Prims.of_int (26)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1986))
                                                                    (Prims.of_int (29))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___31)
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    (fun am4
                                                                    ->
                                                                    let uu___32
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___33
                                                                    ->
                                                                    quote_exp
                                                                    r1_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1987))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1987))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1987))
                                                                    (Prims.of_int (32))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___32)
                                                                    (fun
                                                                    uu___33
                                                                    ->
                                                                    (fun r1
                                                                    ->
                                                                    let uu___33
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___34
                                                                    ->
                                                                    quote_exp
                                                                    r2_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1988))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1988))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1990))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___33)
                                                                    (fun
                                                                    uu___34
                                                                    ->
                                                                    (fun r2
                                                                    ->
                                                                    let uu___34
                                                                    =
                                                                    FStar_Tactics_V2_Derived.change_sq
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "normal_tac"]))),
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["FStar";
                                                                    "Algebra";
                                                                    "CommMonoid";
                                                                    "Equiv";
                                                                    "__proj__EQ__item__eq"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "mdenote"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (m,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (am4,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (r1,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "mdenote"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (m,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (am4,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (r2,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1990))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1992))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1994))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___34)
                                                                    (fun
                                                                    uu___35
                                                                    ->
                                                                    (fun
                                                                    uu___35
                                                                    ->
                                                                    let uu___36
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "normal_elim"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1994))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1994))
                                                                    (Prims.of_int (30)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1995))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___36)
                                                                    (fun
                                                                    uu___37
                                                                    ->
                                                                    (fun
                                                                    uu___37
                                                                    ->
                                                                    let uu___38
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "monoid_reflect"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1995))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (1995))
                                                                    (Prims.of_int (28)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1995))
                                                                    (Prims.of_int (29))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___38)
                                                                    (fun
                                                                    uu___39
                                                                    ->
                                                                    (fun
                                                                    uu___39
                                                                    ->
                                                                    let uu___40
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___41
                                                                    ->
                                                                    quote_atoms
                                                                    l1_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1997))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1997))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1997))
                                                                    (Prims.of_int (34))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___40)
                                                                    (fun
                                                                    uu___41
                                                                    ->
                                                                    (fun l1
                                                                    ->
                                                                    let uu___41
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___42
                                                                    ->
                                                                    quote_atoms
                                                                    l2_raw)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1998))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (1998))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2000))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___41)
                                                                    (fun
                                                                    uu___42
                                                                    ->
                                                                    (fun l2
                                                                    ->
                                                                    let uu___42
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equivalent_sorted"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (m,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (am4,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (l1,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (l2,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2000))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2000))
                                                                    (Prims.of_int (70)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___42)
                                                                    (fun
                                                                    uu___43
                                                                    ->
                                                                    (fun
                                                                    uu___43
                                                                    ->
                                                                    let uu___44
                                                                    =
                                                                    let uu___45
                                                                    =
                                                                    let uu___46
                                                                    =
                                                                    FStar_Tactics_V2_Derived.goals
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (33)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (7))
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (33)))))
                                                                    (Obj.magic
                                                                    uu___46)
                                                                    (fun
                                                                    uu___47
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___48
                                                                    ->
                                                                    FStar_List_Tot_Base.length
                                                                    uu___47)) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (7))
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (33)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (7))
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (37)))))
                                                                    (Obj.magic
                                                                    uu___45)
                                                                    (fun
                                                                    uu___46
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___47
                                                                    ->
                                                                    uu___46 =
                                                                    Prims.int_zero)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (7))
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (37)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2002))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (7)))))
                                                                    (Obj.magic
                                                                    uu___44)
                                                                    (fun
                                                                    uu___45
                                                                    ->
                                                                    (fun
                                                                    uu___45
                                                                    ->
                                                                    if
                                                                    uu___45
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___46
                                                                    -> ())))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___47
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta;
                                                                    FStar_Pervasives.delta_only
                                                                    ["Steel.Effect.Common.xsdenote";
                                                                    "Steel.Effect.Common.select";
                                                                    "Steel.Effect.Common.my_assoc";
                                                                    "Steel.Effect.Common.my_append";
                                                                    "Steel.Effect.Common.flatten";
                                                                    "Steel.Effect.Common.sort";
                                                                    "Steel.Effect.Common.my_sortWith";
                                                                    "Steel.Effect.Common.my_partition";
                                                                    "Steel.Effect.Common.my_bool_of_compare";
                                                                    "Steel.Effect.Common.my_compare_of_bool";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.snd";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__EQ__item__eq";
                                                                    "Steel.Effect.Common.req";
                                                                    "Steel.Effect.Common.star"]] in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2004))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2018))
                                                                    (Prims.of_int (7)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2022))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___47)
                                                                    (fun
                                                                    uu___48
                                                                    ->
                                                                    (fun
                                                                    uu___48
                                                                    ->
                                                                    let uu___49
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2022))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2022))
                                                                    (Prims.of_int (14)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2023))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___49)
                                                                    (fun
                                                                    uu___50
                                                                    ->
                                                                    (fun
                                                                    uu___50
                                                                    ->
                                                                    let uu___51
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2023))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2023))
                                                                    (Prims.of_int (14)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2027))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___51)
                                                                    (fun
                                                                    uu___52
                                                                    ->
                                                                    (fun
                                                                    uu___52
                                                                    ->
                                                                    let uu___53
                                                                    =
                                                                    FStar_Tactics_V2_Derived.trefl
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2027))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2027))
                                                                    (Prims.of_int (14)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2028))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___53)
                                                                    (fun
                                                                    uu___54
                                                                    ->
                                                                    (fun
                                                                    uu___54
                                                                    ->
                                                                    let uu___55
                                                                    =
                                                                    FStar_Tactics_V2_Derived.trefl
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2028))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2028))
                                                                    (Prims.of_int (14)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2033))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___55)
                                                                    (fun
                                                                    uu___56
                                                                    ->
                                                                    (fun
                                                                    uu___56
                                                                    ->
                                                                    let uu___57
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["FStar";
                                                                    "Squash";
                                                                    "return_squash"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2033))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2033))
                                                                    (Prims.of_int (41)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2034))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___57)
                                                                    (fun
                                                                    uu___58
                                                                    ->
                                                                    (fun
                                                                    uu___58
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.exact
                                                                    (FStar_Tactics_V2_SyntaxCoercions.binding_to_term
                                                                    b)))
                                                                    uu___58)))
                                                                    uu___56)))
                                                                    uu___54)))
                                                                    uu___52)))
                                                                    uu___50)))
                                                                    uu___48))))
                                                                    uu___45)))
                                                                    uu___43)))
                                                                    uu___42)))
                                                                    uu___41)))
                                                                    uu___39)))
                                                                    uu___37)))
                                                                    uu___35)))
                                                                    uu___34)))
                                                                    uu___33)))
                                                                    uu___32)))
                                                                    uu___31)))
                                                                    uu___30)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (1967))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2035))
                                                                    (Prims.of_int (8)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2037))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___27)
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    let uu___29
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2037))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2037))
                                                                    (Prims.of_int (19)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___29)
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    let uu___31
                                                                    =
                                                                    let uu___32
                                                                    =
                                                                    FStar_Tactics_Util.repeatn
                                                                    (FStar_List_Tot_Base.length
                                                                    am_bv)
                                                                    (fun
                                                                    uu___33
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "inst_bv"])))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (9))
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (76)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (76)))))
                                                                    (Obj.magic
                                                                    uu___32)
                                                                    (fun
                                                                    uu___33
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___34
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2043))
                                                                    (Prims.of_int (76)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2047))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___31)
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    let uu___33
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "modus_ponens"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2047))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2047))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2055))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___33)
                                                                    (fun
                                                                    uu___34
                                                                    ->
                                                                    (fun
                                                                    uu___34
                                                                    ->
                                                                    match uvar_terms
                                                                    with
                                                                    | 
                                                                    [] ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.focus
                                                                    (fun
                                                                    uu___35
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.try_with
                                                                    (fun
                                                                    uu___36
                                                                    ->
                                                                    match ()
                                                                    with
                                                                    | 
                                                                    () ->
                                                                    let uu___37
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "and_true"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2059))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2059))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2060))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2064))
                                                                    (Prims.of_int (41)))))
                                                                    (Obj.magic
                                                                    uu___37)
                                                                    (fun
                                                                    uu___38
                                                                    ->
                                                                    (fun
                                                                    uu___38
                                                                    ->
                                                                    let uu___39
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2060))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2060))
                                                                    (Prims.of_int (16)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2061))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2064))
                                                                    (Prims.of_int (41)))))
                                                                    (Obj.magic
                                                                    uu___39)
                                                                    (fun
                                                                    uu___40
                                                                    ->
                                                                    (fun
                                                                    uu___40
                                                                    ->
                                                                    let uu___41
                                                                    =
                                                                    if
                                                                    emp_frame
                                                                    then
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "identity_left"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (m,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit))))
                                                                    else
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["FStar";
                                                                    "Algebra";
                                                                    "CommMonoid";
                                                                    "Equiv";
                                                                    "__proj__EQ__item__reflexivity"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2061))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2062))
                                                                    (Prims.of_int (55)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2063))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2064))
                                                                    (Prims.of_int (41)))))
                                                                    (Obj.magic
                                                                    uu___41)
                                                                    (fun
                                                                    uu___42
                                                                    ->
                                                                    (fun
                                                                    uu___42
                                                                    ->
                                                                    let uu___43
                                                                    =
                                                                    unify_pr_with_true
                                                                    pr in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2063))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2063))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2064))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2064))
                                                                    (Prims.of_int (41)))))
                                                                    (Obj.magic
                                                                    uu___43)
                                                                    (fun
                                                                    uu___44
                                                                    ->
                                                                    (fun
                                                                    uu___44
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "solve_implies_true"])))))
                                                                    uu___44)))
                                                                    uu___42)))
                                                                    uu___40)))
                                                                    uu___38))
                                                                    (fun
                                                                    uu___36
                                                                    ->
                                                                    (fun
                                                                    uu___36
                                                                    ->
                                                                    match uu___36
                                                                    with
                                                                    | 
                                                                    FStarC_Tactics_Common.TacticFailure
                                                                    (msg,
                                                                    rng_opt)
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.fail_doc_at
                                                                    (FStar_List_Tot_Base.append
                                                                    [
                                                                    FStarC_Pprint.doc_of_string
                                                                    "Cannot unify pr with true"]
                                                                    msg)
                                                                    rng_opt)
                                                                    | 
                                                                    e ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.raise
                                                                    e))
                                                                    uu___36)))
                                                                    | 
                                                                    l ->
                                                                    let uu___35
                                                                    =
                                                                    if
                                                                    emp_frame
                                                                    then
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "identity_left_smt"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))),
                                                                    (m,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit))))
                                                                    else
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_App
                                                                    ((FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "smt_reflexivity"]))),
                                                                    (eq,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2072))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2076))
                                                                    (Prims.of_int (5)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2077))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___35)
                                                                    (fun
                                                                    uu___36
                                                                    ->
                                                                    (fun
                                                                    uu___36
                                                                    ->
                                                                    let uu___37
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.t_trefl
                                                                    true in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2077))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2077))
                                                                    (Prims.of_int (16)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___37)
                                                                    (fun
                                                                    uu___38
                                                                    ->
                                                                    (fun
                                                                    uu___38
                                                                    ->
                                                                    let uu___39
                                                                    =
                                                                    let uu___40
                                                                    =
                                                                    FStar_Tactics_V2_Derived.cur_goal
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (35)))))
                                                                    (Obj.magic
                                                                    uu___40)
                                                                    (fun
                                                                    uu___41
                                                                    ->
                                                                    (fun
                                                                    uu___41
                                                                    ->
                                                                    Obj.magic
                                                                    (close_equality_typ
                                                                    uu___41))
                                                                    uu___41) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2078))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2079))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___39)
                                                                    (fun
                                                                    uu___40
                                                                    ->
                                                                    (fun
                                                                    uu___40
                                                                    ->
                                                                    let uu___41
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.revert
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2079))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2079))
                                                                    (Prims.of_int (13)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2080))
                                                                    (Prims.of_int (29)))))
                                                                    (Obj.magic
                                                                    uu___41)
                                                                    (fun
                                                                    uu___42
                                                                    ->
                                                                    (fun
                                                                    uu___42
                                                                    ->
                                                                    Obj.magic
                                                                    (set_abduction_variable
                                                                    ()))
                                                                    uu___42)))
                                                                    uu___40)))
                                                                    uu___38)))
                                                                    uu___36)))
                                                                    uu___34)))
                                                                    uu___32)))
                                                                    uu___30)))
                                                                    uu___28)))
                                                                    uu___26)))
                                                                    uu___24)))
                                                                    uu___23)))
                                                                    uu___22)))
                                                                    uu___21)))
                                                                    uu___20)))
                                                                    uu___19)))
                                                                    uu___18)))
                                                                    uu___17)))
                                                                    uu___16)))
                                                                    uu___15)))
                                                                    uu___14)))
                                                                    uu___13)))
                                                                    uu___12)))
                                                                    uu___11)))
                                                                    uu___9)))
                                                                    uu___6)))
                                                            uu___4))) uu___3)))
                                      uu___2))) uu___1)
let (canon_monoid :
  Prims.bool ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term ->
        FStar_Tactics_NamedView.term ->
          FStar_Tactics_NamedView.term ->
            FStar_Tactics_NamedView.term ->
              (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun use_smt ->
    fun carrier_t ->
      fun eq ->
        fun m ->
          fun pr ->
            fun pr_bind ->
              let uu___ =
                FStarC_Tactics_V2_Builtins.norm
                  [FStar_Pervasives.iota; FStar_Pervasives.zeta] in
              FStar_Tactics_Effect.tac_bind
                (FStar_Sealed.seal
                   (Obj.magic
                      (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                         (Prims.of_int (2085)) (Prims.of_int (2))
                         (Prims.of_int (2085)) (Prims.of_int (19)))))
                (FStar_Sealed.seal
                   (Obj.magic
                      (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                         (Prims.of_int (2085)) (Prims.of_int (20))
                         (Prims.of_int (2105)) (Prims.of_int (68)))))
                (Obj.magic uu___)
                (fun uu___1 ->
                   (fun uu___1 ->
                      let uu___2 = FStar_Tactics_V2_Derived.cur_goal () in
                      Obj.magic
                        (FStar_Tactics_Effect.tac_bind
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (2086)) (Prims.of_int (10))
                                    (Prims.of_int (2086)) (Prims.of_int (21)))))
                           (FStar_Sealed.seal
                              (Obj.magic
                                 (FStar_Range.mk_range
                                    "Steel.Effect.Common.fsti"
                                    (Prims.of_int (2086)) (Prims.of_int (24))
                                    (Prims.of_int (2105)) (Prims.of_int (68)))))
                           (Obj.magic uu___2)
                           (fun uu___3 ->
                              (fun t ->
                                 let uu___3 =
                                   Obj.magic
                                     (FStar_Tactics_Effect.lift_div_tac
                                        (fun uu___4 ->
                                           FStar_Reflection_V2_Derived_Lemmas.collect_app_ref
                                             t)) in
                                 Obj.magic
                                   (FStar_Tactics_Effect.tac_bind
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (2088))
                                               (Prims.of_int (19))
                                               (Prims.of_int (2088))
                                               (Prims.of_int (36)))))
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (2086))
                                               (Prims.of_int (24))
                                               (Prims.of_int (2105))
                                               (Prims.of_int (68)))))
                                      (Obj.magic uu___3)
                                      (fun uu___4 ->
                                         (fun uu___4 ->
                                            match uu___4 with
                                            | (sq, rel_xy) ->
                                                (match rel_xy with
                                                 | (rel_xy1, uu___5)::[] ->
                                                     Obj.magic
                                                       (Obj.repr
                                                          (let uu___6 =
                                                             Obj.magic
                                                               (FStar_Tactics_Effect.lift_div_tac
                                                                  (fun uu___7
                                                                    ->
                                                                    FStar_Reflection_V2_Derived_Lemmas.collect_app_ref
                                                                    rel_xy1)) in
                                                           FStar_Tactics_Effect.tac_bind
                                                             (FStar_Sealed.seal
                                                                (Obj.magic
                                                                   (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2093))
                                                                    (Prims.of_int (21))
                                                                    (Prims.of_int (2093))
                                                                    (Prims.of_int (43)))))
                                                             (FStar_Sealed.seal
                                                                (Obj.magic
                                                                   (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2092))
                                                                    (Prims.of_int (38))
                                                                    (Prims.of_int (2103))
                                                                    (Prims.of_int (8)))))
                                                             (Obj.magic
                                                                uu___6)
                                                             (fun uu___7 ->
                                                                (fun uu___7
                                                                   ->
                                                                   match uu___7
                                                                   with
                                                                   | 
                                                                   (rel, xy)
                                                                    ->
                                                                    if
                                                                    (FStar_List_Tot_Base.length
                                                                    xy) >=
                                                                    (Prims.of_int (2))
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (match 
                                                                    ((FStar_List_Tot_Base.index
                                                                    xy
                                                                    ((FStar_List_Tot_Base.length
                                                                    xy) -
                                                                    (Prims.of_int (2)))),
                                                                    (FStar_List_Tot_Base.index
                                                                    xy
                                                                    ((FStar_List_Tot_Base.length
                                                                    xy) -
                                                                    Prims.int_one)))
                                                                    with
                                                                    | 
                                                                    ((lhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit),
                                                                    (rhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit))
                                                                    ->
                                                                    Obj.repr
                                                                    (canon_l_r
                                                                    use_smt
                                                                    carrier_t
                                                                    eq m pr
                                                                    pr_bind
                                                                    lhs rel
                                                                    rhs)
                                                                    | 
                                                                    uu___8 ->
                                                                    Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "Goal should have been an application of a binary relation to 2 explicit arguments")))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "Goal should have been an application of a binary relation to n implicit and 2 explicit arguments")))
                                                                  uu___7)))
                                                 | uu___5 ->
                                                     Obj.magic
                                                       (Obj.repr
                                                          (FStar_Tactics_V2_Derived.fail
                                                             "Goal should be squash applied to a binary relation"))))
                                           uu___4))) uu___3))) uu___1)
let (canon' :
  Prims.bool ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term ->
        (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun use_smt ->
    fun pr ->
      fun pr_bind ->
        canon_monoid use_smt
          (FStarC_Reflection_V2_Builtins.pack_ln
             (FStarC_Reflection_V2_Data.Tv_FVar
                (FStarC_Reflection_V2_Builtins.pack_fv
                   ["Steel.Effect.Common.vprop"])))
          (FStarC_Reflection_V2_Builtins.pack_ln
             (FStarC_Reflection_V2_Data.Tv_FVar
                (FStarC_Reflection_V2_Builtins.pack_fv
                   ["Steel"; "Effect"; "Common"; "req"])))
          (FStarC_Reflection_V2_Builtins.pack_ln
             (FStarC_Reflection_V2_Data.Tv_FVar
                (FStarC_Reflection_V2_Builtins.pack_fv
                   ["Steel"; "Effect"; "Common"; "rm"]))) pr pr_bind
let rec (slterm_nbr_uvars :
  FStar_Tactics_NamedView.term ->
    (Prims.int, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2113)) (Prims.of_int (8)) (Prims.of_int (2113))
               (Prims.of_int (27)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2113)) (Prims.of_int (2)) (Prims.of_int (2123))
               (Prims.of_int (10))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | FStar_Tactics_NamedView.Tv_Uvar (uu___2, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac
                        (fun uu___4 -> Prims.int_one)))
            | FStar_Tactics_NamedView.Tv_App (uu___2, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (let uu___4 =
                        FStar_Tactics_V2_SyntaxHelpers.collect_app t in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2116)) (Prims.of_int (19))
                                 (Prims.of_int (2116)) (Prims.of_int (32)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2115)) (Prims.of_int (17))
                                 (Prims.of_int (2121)) (Prims.of_int (10)))))
                        (Obj.magic uu___4)
                        (fun uu___5 ->
                           (fun uu___5 ->
                              match uu___5 with
                              | (hd, args) ->
                                  if is_star_or_unit hd
                                  then Obj.magic (slterm_nbr_uvars_argv args)
                                  else
                                    (let uu___7 = is_uvar hd in
                                     Obj.magic
                                       (FStar_Tactics_Effect.tac_bind
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (2120))
                                                   (Prims.of_int (12))
                                                   (Prims.of_int (2120))
                                                   (Prims.of_int (22)))))
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (2120))
                                                   (Prims.of_int (9))
                                                   (Prims.of_int (2121))
                                                   (Prims.of_int (10)))))
                                          (Obj.magic uu___7)
                                          (fun uu___8 ->
                                             FStar_Tactics_Effect.lift_div_tac
                                               (fun uu___9 ->
                                                  if uu___8
                                                  then Prims.int_one
                                                  else Prims.int_zero)))))
                             uu___5)))
            | FStar_Tactics_NamedView.Tv_Abs (uu___2, t1) ->
                Obj.magic (Obj.repr (slterm_nbr_uvars t1))
            | uu___2 ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac
                        (fun uu___3 -> Prims.int_zero)))) uu___1)
and (slterm_nbr_uvars_argv :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.int, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun args ->
    FStar_Tactics_Util.fold_left
      (fun n ->
         fun uu___ ->
           match uu___ with
           | (x, uu___1) ->
               let uu___2 = slterm_nbr_uvars x in
               FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2126)) (Prims.of_int (33))
                          (Prims.of_int (2126)) (Prims.of_int (51)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2126)) (Prims.of_int (29))
                          (Prims.of_int (2126)) (Prims.of_int (51)))))
                 (Obj.magic uu___2)
                 (fun uu___3 ->
                    FStar_Tactics_Effect.lift_div_tac
                      (fun uu___4 -> n + uu___3))) Prims.int_zero args
let rec (all_guards_solved :
  FStar_Tactics_NamedView.term ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2131)) (Prims.of_int (8)) (Prims.of_int (2131))
               (Prims.of_int (27)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2131)) (Prims.of_int (2)) (Prims.of_int (2152))
               (Prims.of_int (13))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | FStar_Tactics_NamedView.Tv_Abs (uu___2, t1) ->
                Obj.magic (Obj.repr (all_guards_solved t1))
            | FStar_Tactics_NamedView.Tv_App (uu___2, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (let uu___4 =
                        FStar_Tactics_V2_SyntaxHelpers.collect_app t in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2134)) (Prims.of_int (19))
                                 (Prims.of_int (2134)) (Prims.of_int (32)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2133)) (Prims.of_int (17))
                                 (Prims.of_int (2151)) (Prims.of_int (10)))))
                        (Obj.magic uu___4)
                        (fun uu___5 ->
                           (fun uu___5 ->
                              match uu___5 with
                              | (hd, args) ->
                                  if
                                    FStar_Reflection_V2_Derived.is_fvar hd
                                      "Steel.Effect.Common.guard_vprop"
                                  then
                                    let uu___6 = slterm_nbr_uvars_argv args in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2136))
                                                  (Prims.of_int (9))
                                                  (Prims.of_int (2136))
                                                  (Prims.of_int (35)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2136))
                                                  (Prims.of_int (9))
                                                  (Prims.of_int (2136))
                                                  (Prims.of_int (39)))))
                                         (Obj.magic uu___6)
                                         (fun uu___7 ->
                                            FStar_Tactics_Effect.lift_div_tac
                                              (fun uu___8 ->
                                                 uu___7 = Prims.int_zero)))
                                  else
                                    (let uu___7 =
                                       let uu___8 = all_guards_solved hd in
                                       FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2137))
                                                  (Prims.of_int (16))
                                                  (Prims.of_int (2137))
                                                  (Prims.of_int (38)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2137))
                                                  (Prims.of_int (12))
                                                  (Prims.of_int (2137))
                                                  (Prims.of_int (38)))))
                                         (Obj.magic uu___8)
                                         (fun uu___9 ->
                                            FStar_Tactics_Effect.lift_div_tac
                                              (fun uu___10 ->
                                                 Prims.op_Negation uu___9)) in
                                     Obj.magic
                                       (FStar_Tactics_Effect.tac_bind
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (2137))
                                                   (Prims.of_int (12))
                                                   (Prims.of_int (2137))
                                                   (Prims.of_int (38)))))
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (2137))
                                                   (Prims.of_int (9))
                                                   (Prims.of_int (2151))
                                                   (Prims.of_int (10)))))
                                          (Obj.magic uu___7)
                                          (fun uu___8 ->
                                             (fun uu___8 ->
                                                if uu___8
                                                then
                                                  Obj.magic
                                                    (Obj.repr
                                                       (FStar_Tactics_Effect.lift_div_tac
                                                          (fun uu___9 ->
                                                             false)))
                                                else
                                                  Obj.magic
                                                    (Obj.repr
                                                       (FStar_List_Tot_Base.fold_left
                                                          (fun tac ->
                                                             fun uu___10 ->
                                                               match uu___10
                                                               with
                                                               | (tm,
                                                                  uu___11) ->
                                                                   (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    all_guards_solved
                                                                    tm in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2143))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2143))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2143))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2145))
                                                                    (Prims.of_int (22)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    if
                                                                    uu___14
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (tac ()))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___16
                                                                    -> false))))
                                                                    uu___14)))
                                                          (fun uu___10 ->
                                                             (fun uu___10 ->
                                                                Obj.magic
                                                                  (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___11
                                                                    -> true)))
                                                               uu___10) args
                                                          ()))) uu___8))))
                             uu___5)))
            | uu___2 ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> true))))
           uu___1)
let (unfold_guard : unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    let uu___1 =
      let uu___2 = FStar_Tactics_V2_Derived.cur_goal () in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2155)) (Prims.of_int (23))
                 (Prims.of_int (2155)) (Prims.of_int (36)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2155)) (Prims.of_int (5))
                 (Prims.of_int (2155)) (Prims.of_int (36)))))
        (Obj.magic uu___2)
        (fun uu___3 ->
           (fun uu___3 -> Obj.magic (all_guards_solved uu___3)) uu___3) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2155)) (Prims.of_int (5)) (Prims.of_int (2155))
               (Prims.of_int (36)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2155)) (Prims.of_int (2)) (Prims.of_int (2160))
               (Prims.of_int (9))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun uu___2 ->
            if uu___2
            then
              Obj.magic
                (Obj.repr
                   (let uu___3 =
                      FStar_Tactics_V2_Derived.focus
                        (fun uu___4 ->
                           FStarC_Tactics_V2_Builtins.norm
                             [FStar_Pervasives.delta_only
                                ["Steel.Effect.Common.guard_vprop"]]) in
                    FStar_Tactics_Effect.tac_bind
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (2157)) (Prims.of_int (4))
                               (Prims.of_int (2157)) (Prims.of_int (56)))))
                      (FStar_Sealed.seal
                         (Obj.magic
                            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                               (Prims.of_int (2158)) (Prims.of_int (4))
                               (Prims.of_int (2158)) (Prims.of_int (8)))))
                      (Obj.magic uu___3)
                      (fun uu___4 ->
                         FStar_Tactics_Effect.lift_div_tac
                           (fun uu___5 -> true))))
            else
              Obj.magic
                (Obj.repr
                   (FStar_Tactics_Effect.lift_div_tac (fun uu___4 -> false))))
           uu___2)
let rec (term_is_uvar :
  FStar_Tactics_NamedView.term ->
    Prims.int -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    fun i ->
      let uu___ = FStar_Tactics_NamedView.inspect t in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2162)) (Prims.of_int (59))
                 (Prims.of_int (2162)) (Prims.of_int (68)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2162)) (Prims.of_int (53))
                 (Prims.of_int (2167)) (Prims.of_int (14)))))
        (Obj.magic uu___)
        (fun uu___1 ->
           (fun uu___1 ->
              match uu___1 with
              | FStar_Tactics_NamedView.Tv_Uvar (i', uu___2) ->
                  Obj.magic
                    (Obj.repr
                       (FStar_Tactics_Effect.lift_div_tac
                          (fun uu___3 -> i = i')))
              | FStar_Tactics_NamedView.Tv_App (uu___2, uu___3) ->
                  Obj.magic
                    (Obj.repr
                       (let uu___4 =
                          FStar_Tactics_V2_SyntaxHelpers.collect_app t in
                        FStar_Tactics_Effect.tac_bind
                          (FStar_Sealed.seal
                             (Obj.magic
                                (FStar_Range.mk_range
                                   "Steel.Effect.Common.fsti"
                                   (Prims.of_int (2165)) (Prims.of_int (21))
                                   (Prims.of_int (2165)) (Prims.of_int (34)))))
                          (FStar_Sealed.seal
                             (Obj.magic
                                (FStar_Range.mk_range
                                   "Steel.Effect.Common.fsti"
                                   (Prims.of_int (2164)) (Prims.of_int (17))
                                   (Prims.of_int (2166)) (Prims.of_int (23)))))
                          (Obj.magic uu___4)
                          (fun uu___5 ->
                             (fun uu___5 ->
                                match uu___5 with
                                | (hd, args) -> Obj.magic (term_is_uvar hd i))
                               uu___5)))
              | uu___2 ->
                  Obj.magic
                    (Obj.repr
                       (FStar_Tactics_Effect.lift_div_tac
                          (fun uu___3 -> false)))) uu___1)
let rec (dismiss_all_but_last' :
  FStarC_Tactics_Types.goal Prims.list ->
    (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun l ->
    match l with
    | [] -> FStarC_Tactics_V2_Builtins.set_goals l
    | uu___::[] -> FStarC_Tactics_V2_Builtins.set_goals l
    | uu___::q -> dismiss_all_but_last' q
let (dismiss_all_but_last :
  unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.goals () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2179)) (Prims.of_int (24))
               (Prims.of_int (2179)) (Prims.of_int (34)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2179)) (Prims.of_int (2)) (Prims.of_int (2179))
               (Prims.of_int (34))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun uu___2 -> Obj.magic (dismiss_all_but_last' uu___2)) uu___2)
let rec (dismiss_non_squash_goals' :
  FStarC_Tactics_Types.goal Prims.list ->
    FStarC_Tactics_Types.goal Prims.list ->
      (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun keep ->
    fun goals ->
      match goals with
      | [] ->
          FStarC_Tactics_V2_Builtins.set_goals (FStar_List_Tot_Base.rev keep)
      | hd::tl ->
          let uu___ =
            FStar_Reflection_V2_Formula.term_as_formula'
              (FStarC_Tactics_Types.goal_type hd) in
          FStar_Tactics_Effect.tac_bind
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (2186)) (Prims.of_int (13))
                     (Prims.of_int (2186)) (Prims.of_int (44)))))
            (FStar_Sealed.seal
               (Obj.magic
                  (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                     (Prims.of_int (2187)) (Prims.of_int (5))
                     (Prims.of_int (2194)) (Prims.of_int (40)))))
            (Obj.magic uu___)
            (fun uu___1 ->
               (fun f ->
                  match f with
                  | FStar_Reflection_V2_Formula.App (hs, uu___1) ->
                      if is_squash hs
                      then
                        Obj.magic (dismiss_non_squash_goals' (hd :: keep) tl)
                      else Obj.magic (dismiss_non_squash_goals' keep tl)
                  | uu___1 -> Obj.magic (dismiss_non_squash_goals' keep tl))
                 uu___1)
let (dismiss_non_squash_goals :
  unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.goals () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2197)) (Prims.of_int (10))
               (Prims.of_int (2197)) (Prims.of_int (18)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2198)) (Prims.of_int (2)) (Prims.of_int (2198))
               (Prims.of_int (32))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun g -> Obj.magic (dismiss_non_squash_goals' [] g)) uu___2)
let rec (term_mem :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term Prims.list ->
      (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun te ->
         fun l ->
           match l with
           | [] ->
               Obj.magic
                 (Obj.repr
                    (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> false)))
           | t'::q ->
               Obj.magic
                 (Obj.repr
                    (let uu___ = FStarC_Tactics_V2_Builtins.term_eq_old te t' in
                     FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2204)) (Prims.of_int (7))
                                (Prims.of_int (2204)) (Prims.of_int (26)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2204)) (Prims.of_int (4))
                                (Prims.of_int (2204)) (Prims.of_int (55)))))
                       (Obj.magic uu___)
                       (fun uu___1 ->
                          (fun uu___1 ->
                             if uu___1
                             then
                               Obj.magic
                                 (Obj.repr
                                    (FStar_Tactics_Effect.lift_div_tac
                                       (fun uu___2 -> true)))
                             else Obj.magic (Obj.repr (term_mem te q)))
                            uu___1)))) uu___1 uu___
let rec (lookup_by_term_attr' :
  FStar_Tactics_NamedView.term ->
    FStarC_Reflection_Types.env ->
      FStarC_Reflection_Types.fv Prims.list ->
        FStarC_Reflection_Types.fv Prims.list ->
          (FStarC_Reflection_Types.fv Prims.list, unit)
            FStar_Tactics_Effect.tac_repr)
  =
  fun uu___3 ->
    fun uu___2 ->
      fun uu___1 ->
        fun uu___ ->
          (fun attr ->
             fun e ->
               fun found ->
                 fun l ->
                   match l with
                   | [] ->
                       Obj.magic
                         (Obj.repr
                            (FStar_Tactics_Effect.lift_div_tac
                               (fun uu___ -> FStar_List_Tot_Base.rev found)))
                   | f::q ->
                       Obj.magic
                         (Obj.repr
                            (let uu___ =
                               Obj.magic
                                 (FStar_Tactics_Effect.lift_div_tac
                                    (fun uu___1 ->
                                       FStarC_Reflection_V2_Builtins.inspect_fv
                                         f)) in
                             FStar_Tactics_Effect.tac_bind
                               (FStar_Sealed.seal
                                  (Obj.magic
                                     (FStar_Range.mk_range
                                        "Steel.Effect.Common.fsti"
                                        (Prims.of_int (2211))
                                        (Prims.of_int (12))
                                        (Prims.of_int (2211))
                                        (Prims.of_int (24)))))
                               (FStar_Sealed.seal
                                  (Obj.magic
                                     (FStar_Range.mk_range
                                        "Steel.Effect.Common.fsti"
                                        (Prims.of_int (2212))
                                        (Prims.of_int (10))
                                        (Prims.of_int (2220))
                                        (Prims.of_int (42)))))
                               (Obj.magic uu___)
                               (fun uu___1 ->
                                  (fun n ->
                                     match FStarC_Reflection_V2_Builtins.lookup_typ
                                             e n
                                     with
                                     | FStar_Pervasives_Native.None ->
                                         Obj.magic
                                           (lookup_by_term_attr' attr e found
                                              q)
                                     | FStar_Pervasives_Native.Some se ->
                                         let uu___1 =
                                           let uu___2 =
                                             term_mem attr
                                               (FStarC_Reflection_V2_Builtins.sigelt_attrs
                                                  se) in
                                           FStar_Tactics_Effect.tac_bind
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2216))
                                                      (Prims.of_int (11))
                                                      (Prims.of_int (2216))
                                                      (Prims.of_int (42)))))
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2216))
                                                      (Prims.of_int (8))
                                                      (Prims.of_int (2218))
                                                      (Prims.of_int (18)))))
                                             (Obj.magic uu___2)
                                             (fun uu___3 ->
                                                FStar_Tactics_Effect.lift_div_tac
                                                  (fun uu___4 ->
                                                     if uu___3
                                                     then f :: found
                                                     else found)) in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2216))
                                                       (Prims.of_int (8))
                                                       (Prims.of_int (2218))
                                                       (Prims.of_int (18)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2220))
                                                       (Prims.of_int (6))
                                                       (Prims.of_int (2220))
                                                       (Prims.of_int (42)))))
                                              (Obj.magic uu___1)
                                              (fun uu___2 ->
                                                 (fun found' ->
                                                    Obj.magic
                                                      (lookup_by_term_attr'
                                                         attr e found' q))
                                                   uu___2))) uu___1))))
            uu___3 uu___2 uu___1 uu___
let (lookup_by_term_attr :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term ->
      (FStarC_Reflection_Types.fv Prims.list, unit)
        FStar_Tactics_Effect.tac_repr)
  =
  fun label_attr ->
    fun attr ->
      let uu___ = FStar_Tactics_V2_Derived.cur_env () in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2224)) (Prims.of_int (10))
                 (Prims.of_int (2224)) (Prims.of_int (20)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2224)) (Prims.of_int (23))
                 (Prims.of_int (2226)) (Prims.of_int (43)))))
        (Obj.magic uu___)
        (fun uu___1 ->
           (fun e ->
              let uu___1 =
                Obj.magic
                  (FStar_Tactics_Effect.lift_div_tac
                     (fun uu___2 ->
                        FStarC_Reflection_V2_Builtins.lookup_attr label_attr
                          e)) in
              Obj.magic
                (FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2225)) (Prims.of_int (19))
                            (Prims.of_int (2225)) (Prims.of_int (43)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2226)) (Prims.of_int (2))
                            (Prims.of_int (2226)) (Prims.of_int (43)))))
                   (Obj.magic uu___1)
                   (fun uu___2 ->
                      (fun candidates ->
                         Obj.magic
                           (lookup_by_term_attr' attr e [] candidates))
                        uu___2))) uu___1)
let rec (bring_last_goal_on_top' :
  FStarC_Tactics_Types.goal Prims.list ->
    FStarC_Tactics_Types.goal Prims.list ->
      (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun others ->
    fun goals ->
      match goals with
      | [] ->
          FStarC_Tactics_V2_Builtins.set_goals
            (FStar_List_Tot_Base.rev others)
      | last::[] ->
          FStarC_Tactics_V2_Builtins.set_goals (last ::
            (FStar_List_Tot_Base.rev others))
      | a::q -> bring_last_goal_on_top' (a :: others) q
let (bring_last_goal_on_top :
  unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.goals () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2235)) (Prims.of_int (10))
               (Prims.of_int (2235)) (Prims.of_int (18)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2236)) (Prims.of_int (2)) (Prims.of_int (2236))
               (Prims.of_int (30))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun g -> Obj.magic (bring_last_goal_on_top' [] g)) uu___2)
let rec (extract_contexts :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term ->
      FStar_Tactics_NamedView.term ->
        FStar_Tactics_NamedView.term ->
          FStar_Tactics_NamedView.term ->
            ((unit -> (unit, unit) FStar_Tactics_Effect.tac_repr)
               FStar_Pervasives_Native.option,
              unit) FStar_Tactics_Effect.tac_repr)
  =
  fun lemma_left ->
    fun lemma_right ->
      fun label_attr ->
        fun attr ->
          fun t ->
            let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app t in
            FStar_Tactics_Effect.tac_bind
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (2243)) (Prims.of_int (15))
                       (Prims.of_int (2243)) (Prims.of_int (28)))))
              (FStar_Sealed.seal
                 (Obj.magic
                    (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                       (Prims.of_int (2242)) Prims.int_one
                       (Prims.of_int (2294)) (Prims.of_int (7)))))
              (Obj.magic uu___)
              (fun uu___1 ->
                 (fun uu___1 ->
                    match uu___1 with
                    | (hd, tl) ->
                        if is_star hd
                        then
                          Obj.magic
                            (Obj.repr
                               (match tl with
                                | (t_left,
                                   FStarC_Reflection_V2_Data.Q_Explicit)::
                                    (t_right,
                                     FStarC_Reflection_V2_Data.Q_Explicit)::[]
                                    ->
                                    Obj.repr
                                      (let uu___2 =
                                         Obj.magic
                                           (FStar_Tactics_Effect.lift_div_tac
                                              (fun uu___3 ->
                                                 fun uu___4 ->
                                                   let uu___5 =
                                                     extract_contexts
                                                       lemma_left lemma_right
                                                       label_attr attr
                                                       t_right in
                                                   FStar_Tactics_Effect.tac_bind
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (2249))
                                                              (Prims.of_int (14))
                                                              (Prims.of_int (2249))
                                                              (Prims.of_int (77)))))
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (2249))
                                                              (Prims.of_int (8))
                                                              (Prims.of_int (2256))
                                                              (Prims.of_int (11)))))
                                                     (Obj.magic uu___5)
                                                     (fun uu___6 ->
                                                        FStar_Tactics_Effect.lift_div_tac
                                                          (fun uu___7 ->
                                                             match uu___6
                                                             with
                                                             | FStar_Pervasives_Native.None
                                                                 ->
                                                                 FStar_Pervasives_Native.None
                                                             | FStar_Pervasives_Native.Some
                                                                 f ->
                                                                 FStar_Pervasives_Native.Some
                                                                   ((
                                                                   fun uu___8
                                                                    ->
                                                                    let uu___9
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    lemma_right in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2253))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2253))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2254))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2255))
                                                                    (Prims.of_int (16)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    dismiss_all_but_last
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2254))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2254))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2255))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2255))
                                                                    (Prims.of_int (16)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    Obj.magic
                                                                    (f ()))
                                                                    uu___12)))
                                                                    uu___10))))))) in
                                       FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2249))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2256))
                                                  (Prims.of_int (11)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2258))
                                                  (Prims.of_int (12))
                                                  (Prims.of_int (2271))
                                                  (Prims.of_int (9)))))
                                         (Obj.magic uu___2)
                                         (fun uu___3 ->
                                            (fun extract_right ->
                                               let uu___3 =
                                                 extract_contexts lemma_left
                                                   lemma_right label_attr
                                                   attr t_left in
                                               Obj.magic
                                                 (FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (2258))
                                                             (Prims.of_int (18))
                                                             (Prims.of_int (2258))
                                                             (Prims.of_int (80)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (2258))
                                                             (Prims.of_int (12))
                                                             (Prims.of_int (2271))
                                                             (Prims.of_int (9)))))
                                                    (Obj.magic uu___3)
                                                    (fun uu___4 ->
                                                       (fun uu___4 ->
                                                          match uu___4 with
                                                          | FStar_Pervasives_Native.None
                                                              ->
                                                              Obj.magic
                                                                (Obj.repr
                                                                   (extract_right
                                                                    ()))
                                                          | FStar_Pervasives_Native.Some
                                                              f ->
                                                              Obj.magic
                                                                (Obj.repr
                                                                   (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___5 ->
                                                                    FStar_Pervasives_Native.Some
                                                                    (fun
                                                                    uu___6 ->
                                                                    FStar_Tactics_V2_Derived.try_with
                                                                    (fun
                                                                    uu___7 ->
                                                                    match ()
                                                                    with
                                                                    | 
                                                                    () ->
                                                                    let uu___8
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    lemma_left in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2263))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2263))
                                                                    (Prims.of_int (34)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2264))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2265))
                                                                    (Prims.of_int (16)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    (fun
                                                                    uu___9 ->
                                                                    let uu___10
                                                                    =
                                                                    dismiss_all_but_last
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2264))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2264))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2265))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2265))
                                                                    (Prims.of_int (16)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    Obj.magic
                                                                    (f ()))
                                                                    uu___11)))
                                                                    uu___9))
                                                                    (fun
                                                                    uu___7 ->
                                                                    let uu___8
                                                                    =
                                                                    extract_right
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2267))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2267))
                                                                    (Prims.of_int (40)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2267))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (2269))
                                                                    (Prims.of_int (28)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    (fun
                                                                    uu___9 ->
                                                                    match uu___9
                                                                    with
                                                                    | 
                                                                    FStar_Pervasives_Native.None
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "no context on the right either"))
                                                                    | 
                                                                    FStar_Pervasives_Native.Some
                                                                    g ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (g ())))
                                                                    uu___9)))))))
                                                         uu___4))) uu___3))
                                | uu___2 ->
                                    Obj.repr
                                      (FStar_Tactics_Effect.lift_div_tac
                                         (fun uu___3 ->
                                            FStar_Pervasives_Native.None))))
                        else
                          Obj.magic
                            (Obj.repr
                               (let uu___3 =
                                  let uu___4 =
                                    let uu___5 =
                                      FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe
                                        hd in
                                    FStar_Tactics_Effect.tac_bind
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (2276))
                                               (Prims.of_int (24))
                                               (Prims.of_int (2276))
                                               (Prims.of_int (44)))))
                                      (FStar_Sealed.seal
                                         (Obj.magic
                                            (FStar_Range.mk_range
                                               "Steel.Effect.Common.fsti"
                                               (Prims.of_int (2276))
                                               (Prims.of_int (18))
                                               (Prims.of_int (2279))
                                               (Prims.of_int (17)))))
                                      (Obj.magic uu___5)
                                      (fun uu___6 ->
                                         FStar_Tactics_Effect.lift_div_tac
                                           (fun uu___7 ->
                                              match uu___6 with
                                              | FStar_Tactics_NamedView.Tv_FVar
                                                  fv ->
                                                  FStar_Pervasives_Native.Some
                                                    fv
                                              | FStar_Tactics_NamedView.Tv_UInst
                                                  (fv, uu___8) ->
                                                  FStar_Pervasives_Native.Some
                                                    fv
                                              | uu___8 ->
                                                  FStar_Pervasives_Native.None)) in
                                  FStar_Tactics_Effect.tac_bind
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (2276))
                                             (Prims.of_int (18))
                                             (Prims.of_int (2279))
                                             (Prims.of_int (17)))))
                                    (FStar_Sealed.seal
                                       (Obj.magic
                                          (FStar_Range.mk_range
                                             "Steel.Effect.Common.fsti"
                                             (Prims.of_int (2281))
                                             (Prims.of_int (6))
                                             (Prims.of_int (2286))
                                             (Prims.of_int (71)))))
                                    (Obj.magic uu___4)
                                    (fun uu___5 ->
                                       (fun hd_fv ->
                                          match hd_fv with
                                          | FStar_Pervasives_Native.None ->
                                              Obj.magic
                                                (Obj.repr
                                                   (FStar_Tactics_Effect.lift_div_tac
                                                      (fun uu___5 -> [])))
                                          | FStar_Pervasives_Native.Some
                                              hd_fv1 ->
                                              Obj.magic
                                                (Obj.repr
                                                   (let uu___5 =
                                                      Obj.magic
                                                        (FStar_Tactics_Effect.lift_div_tac
                                                           (fun uu___6 ->
                                                              FStarC_Reflection_V2_Builtins.implode_qn
                                                                (FStarC_Reflection_V2_Builtins.inspect_fv
                                                                   hd_fv1))) in
                                                    FStar_Tactics_Effect.tac_bind
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (2284))
                                                               (Prims.of_int (20))
                                                               (Prims.of_int (2284))
                                                               (Prims.of_int (49)))))
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (2284))
                                                               (Prims.of_int (52))
                                                               (Prims.of_int (2286))
                                                               (Prims.of_int (71)))))
                                                      (Obj.magic uu___5)
                                                      (fun uu___6 ->
                                                         (fun hd_s' ->
                                                            let uu___6 =
                                                              Obj.magic
                                                                (FStar_Tactics_Effect.lift_div_tac
                                                                   (fun
                                                                    uu___7 ->
                                                                    FStar_Tactics_NamedView.pack
                                                                    (FStar_Tactics_NamedView.Tv_Const
                                                                    (FStarC_Reflection_V2_Data.C_String
                                                                    hd_s')))) in
                                                            Obj.magic
                                                              (FStar_Tactics_Effect.tac_bind
                                                                 (FStar_Sealed.seal
                                                                    (
                                                                    Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2285))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (2285))
                                                                    (Prims.of_int (51)))))
                                                                 (FStar_Sealed.seal
                                                                    (
                                                                    Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2286))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2286))
                                                                    (Prims.of_int (71)))))
                                                                 (Obj.magic
                                                                    uu___6)
                                                                 (fun uu___7
                                                                    ->
                                                                    (fun hd_s
                                                                    ->
                                                                    Obj.magic
                                                                    (lookup_by_term_attr
                                                                    label_attr
                                                                    (FStar_Reflection_V2_Derived.mk_app
                                                                    attr
                                                                    [
                                                                    (hd_s,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)])))
                                                                    uu___7)))
                                                           uu___6)))) uu___5) in
                                FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2275))
                                           (Prims.of_int (20))
                                           (Prims.of_int (2286))
                                           (Prims.of_int (71)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2288))
                                           (Prims.of_int (4))
                                           (Prims.of_int (2294))
                                           (Prims.of_int (7)))))
                                  (Obj.magic uu___3)
                                  (fun candidates ->
                                     FStar_Tactics_Effect.lift_div_tac
                                       (fun uu___4 ->
                                          if Prims.uu___is_Nil candidates
                                          then FStar_Pervasives_Native.None
                                          else
                                            FStar_Pervasives_Native.Some
                                              ((fun uu___6 ->
                                                  let uu___7 =
                                                    FStar_Tactics_V2_Derived.first
                                                      (FStar_List_Tot_Base.map
                                                         (fun candidate ->
                                                            fun uu___8 ->
                                                              FStar_Tactics_V2_Derived.apply_lemma
                                                                (FStar_Tactics_NamedView.pack
                                                                   (FStar_Tactics_NamedView.Tv_FVar
                                                                    candidate)))
                                                         candidates) in
                                                  FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (2292))
                                                             (Prims.of_int (8))
                                                             (Prims.of_int (2292))
                                                             (Prims.of_int (111)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (2293))
                                                             (Prims.of_int (8))
                                                             (Prims.of_int (2293))
                                                             (Prims.of_int (35)))))
                                                    (Obj.magic uu___7)
                                                    (fun uu___8 ->
                                                       (fun uu___8 ->
                                                          Obj.magic
                                                            (dismiss_non_squash_goals
                                                               ())) uu___8))))))))
                   uu___1)
let (extract_cbs_contexts :
  FStar_Tactics_NamedView.term ->
    ((unit -> (unit, unit) FStar_Tactics_Effect.tac_repr)
       FStar_Pervasives_Native.option,
      unit) FStar_Tactics_Effect.tac_repr)
  =
  extract_contexts
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel"; "Effect"; "Common"; "can_be_split_congr_l"])))
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel"; "Effect"; "Common"; "can_be_split_congr_r"])))
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel"; "Effect"; "Common"; "solve_can_be_split_lookup"])))
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel"; "Effect"; "Common"; "solve_can_be_split_for"])))
let (open_existentials : unit -> (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.cur_env () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2304)) (Prims.of_int (15))
               (Prims.of_int (2304)) (Prims.of_int (25)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2305)) (Prims.of_int (7)) (Prims.of_int (2328))
               (Prims.of_int (57))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun e ->
            let uu___2 =
              if
                Prims.uu___is_Nil
                  (FStarC_Reflection_V2_Builtins.lookup_attr
                     (FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["Steel";
                              "Effect";
                              "Common";
                              "solve_can_be_split_lookup"]))) e)
              then
                Obj.magic
                  (FStar_Tactics_V2_Derived.fail
                     "Tactic disabled: no available lemmas in context")
              else
                Obj.magic
                  (FStar_Tactics_Effect.lift_div_tac (fun uu___4 -> ())) in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2305)) (Prims.of_int (7))
                          (Prims.of_int (2306)) (Prims.of_int (66)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2307)) (Prims.of_int (7))
                          (Prims.of_int (2328)) (Prims.of_int (57)))))
                 (Obj.magic uu___2)
                 (fun uu___3 ->
                    (fun uu___3 ->
                       let uu___4 =
                         FStarC_Tactics_V2_Builtins.norm
                           [FStar_Pervasives.delta_attr
                              ["Steel.Effect.Common.__reduce__"]] in
                       Obj.magic
                         (FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (2307)) (Prims.of_int (7))
                                     (Prims.of_int (2307))
                                     (Prims.of_int (39)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (2307))
                                     (Prims.of_int (40))
                                     (Prims.of_int (2328))
                                     (Prims.of_int (57)))))
                            (Obj.magic uu___4)
                            (fun uu___5 ->
                               (fun uu___5 ->
                                  let uu___6 =
                                    FStar_Tactics_V2_Derived.cur_goal () in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (2308))
                                                (Prims.of_int (16))
                                                (Prims.of_int (2308))
                                                (Prims.of_int (27)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (2309))
                                                (Prims.of_int (7))
                                                (Prims.of_int (2328))
                                                (Prims.of_int (57)))))
                                       (Obj.magic uu___6)
                                       (fun uu___7 ->
                                          (fun t0 ->
                                             let uu___7 =
                                               FStar_Tactics_V2_SyntaxHelpers.collect_app
                                                 t0 in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2309))
                                                           (Prims.of_int (13))
                                                           (Prims.of_int (2309))
                                                           (Prims.of_int (27)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2309))
                                                           (Prims.of_int (7))
                                                           (Prims.of_int (2328))
                                                           (Prims.of_int (57)))))
                                                  (Obj.magic uu___7)
                                                  (fun uu___8 ->
                                                     (fun uu___8 ->
                                                        match uu___8 with
                                                        | (uu___9,
                                                           (t1,
                                                            FStarC_Reflection_V2_Data.Q_Explicit)::[])
                                                            ->
                                                            Obj.magic
                                                              (Obj.repr
                                                                 (let uu___10
                                                                    =
                                                                    FStar_Tactics_V2_SyntaxHelpers.collect_app
                                                                    t1 in
                                                                  FStar_Tactics_Effect.tac_bind
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2311))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2311))
                                                                    (Prims.of_int (36)))))
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2310))
                                                                    (Prims.of_int (63))
                                                                    (Prims.of_int (2327))
                                                                    (Prims.of_int (60)))))
                                                                    (
                                                                    Obj.magic
                                                                    uu___10)
                                                                    (
                                                                    fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    match uu___11
                                                                    with
                                                                    | 
                                                                    (hd, tl)
                                                                    ->
                                                                    if
                                                                    FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.can_be_split"
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (match tl
                                                                    with
                                                                    | 
                                                                    uu___12::
                                                                    (rhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)::[]
                                                                    ->
                                                                    Obj.repr
                                                                    (let uu___13
                                                                    =
                                                                    extract_cbs_contexts
                                                                    rhs in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2316))
                                                                    (Prims.of_int (25))
                                                                    (Prims.of_int (2316))
                                                                    (Prims.of_int (49)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2316))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (2323))
                                                                    (Prims.of_int (42)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    match uu___14
                                                                    with
                                                                    | 
                                                                    FStar_Pervasives_Native.None
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials: no context found"))
                                                                    | 
                                                                    FStar_Pervasives_Native.Some
                                                                    f ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "can_be_split_trans_rev"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2319))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2319))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2320))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2323))
                                                                    (Prims.of_int (42)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    dismiss_all_but_last
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2320))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2320))
                                                                    (Prims.of_int (40)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2321))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2323))
                                                                    (Prims.of_int (42)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    let uu___19
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2321))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2321))
                                                                    (Prims.of_int (25)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2322))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2323))
                                                                    (Prims.of_int (42)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    let uu___21
                                                                    =
                                                                    FStar_Tactics_V2_Derived.focus
                                                                    f in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2322))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2322))
                                                                    (Prims.of_int (24)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2323))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2323))
                                                                    (Prims.of_int (42)))))
                                                                    (Obj.magic
                                                                    uu___21)
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    Obj.magic
                                                                    (bring_last_goal_on_top
                                                                    ()))
                                                                    uu___22)))
                                                                    uu___20)))
                                                                    uu___18)))
                                                                    uu___16))))
                                                                    uu___14))
                                                                    | 
                                                                    uu___12
                                                                    ->
                                                                    Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials: ill-formed can_be_split")))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials: not a can_be_split goal")))
                                                                    uu___11)))
                                                        | uu___9 ->
                                                            Obj.magic
                                                              (Obj.repr
                                                                 (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials: not a squash goal")))
                                                       uu___8))) uu___7)))
                                 uu___5))) uu___3))) uu___2)
let (try_open_existentials :
  unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    FStar_Tactics_V2_Derived.focus
      (fun uu___1 ->
         FStar_Tactics_V2_Derived.try_with
           (fun uu___2 ->
              match () with
              | () ->
                  let uu___3 = open_existentials () in
                  FStar_Tactics_Effect.tac_bind
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (2333)) (Prims.of_int (6))
                             (Prims.of_int (2333)) (Prims.of_int (26)))))
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (2334)) (Prims.of_int (6))
                             (Prims.of_int (2334)) (Prims.of_int (10)))))
                    (Obj.magic uu___3)
                    (fun uu___4 ->
                       FStar_Tactics_Effect.lift_div_tac (fun uu___5 -> true)))
           (fun uu___2 ->
              (fun uu___2 ->
                 Obj.magic
                   (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> false)))
                uu___2))
let rec (solve_can_be_split :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | (t1, uu___)::(t2, uu___1)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___2 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2350)) (Prims.of_int (17))
                            (Prims.of_int (2350)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2350)) (Prims.of_int (39))
                            (Prims.of_int (2382)) (Prims.of_int (18)))))
                   (Obj.magic uu___2)
                   (fun uu___3 ->
                      (fun lnbr ->
                         let uu___3 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2351))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2351))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2352))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2382))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___3)
                              (fun uu___4 ->
                                 (fun rnbr ->
                                    let uu___4 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___6 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2353))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2355))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2352))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2382))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___4)
                                         (fun uu___5 ->
                                            (fun uu___5 ->
                                               if uu___5
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_V2_Derived.try_with
                                                         (fun uu___6 ->
                                                            match () with
                                                            | () ->
                                                                let uu___7 =
                                                                  FStar_Tactics_V2_Derived.focus
                                                                    (
                                                                    fun
                                                                    uu___8 ->
                                                                    let uu___9
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_can_be_split"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2359))
                                                                    (Prims.of_int (26))
                                                                    (Prims.of_int (2359))
                                                                    (Prims.of_int (59)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2360))
                                                                    (Prims.of_int (21))
                                                                    (Prims.of_int (2375))
                                                                    (Prims.of_int (56)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2360))
                                                                    (Prims.of_int (21))
                                                                    (Prims.of_int (2360))
                                                                    (Prims.of_int (38)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2363))
                                                                    (Prims.of_int (21))
                                                                    (Prims.of_int (2375))
                                                                    (Prims.of_int (56)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"]))))
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    let uu___14
                                                                    =
                                                                    if
                                                                    rnbr =
                                                                    Prims.int_zero
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___16
                                                                    -> ()))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2365))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2365))
                                                                    (Prims.of_int (63)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2367))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2375))
                                                                    (Prims.of_int (55)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    let uu___16
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2367))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2374))
                                                                    (Prims.of_int (48)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2375))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2375))
                                                                    (Prims.of_int (55)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    false
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))))
                                                                    uu___17)))
                                                                    uu___15))))
                                                                    uu___12)))
                                                                    uu___10)) in
                                                                FStar_Tactics_Effect.tac_bind
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2359))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2375))
                                                                    (Prims.of_int (57)))))
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2376))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2376))
                                                                    (Prims.of_int (14)))))
                                                                  (Obj.magic
                                                                    uu___7)
                                                                  (fun uu___8
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___9 ->
                                                                    true)))
                                                         (fun uu___6 ->
                                                            let uu___7 =
                                                              try_open_existentials
                                                                () in
                                                            FStar_Tactics_Effect.tac_bind
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2379))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2379))
                                                                    (Prims.of_int (52)))))
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2380))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2381))
                                                                    (Prims.of_int (20)))))
                                                              (Obj.magic
                                                                 uu___7)
                                                              (fun uu___8 ->
                                                                 (fun
                                                                    opened_some
                                                                    ->
                                                                    if
                                                                    opened_some
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (solve_can_be_split
                                                                    args))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___9 ->
                                                                    false))))
                                                                   uu___8))))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___7 -> false))))
                                              uu___5))) uu___4))) uu___3)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_Effect.lift_div_tac (fun uu___1 -> false))))
      uu___
let (solve_can_be_split_dep :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | (p, uu___)::(t1, uu___1)::(t2, uu___2)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___3 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2390)) (Prims.of_int (17))
                            (Prims.of_int (2390)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2390)) (Prims.of_int (39))
                            (Prims.of_int (2422)) (Prims.of_int (18)))))
                   (Obj.magic uu___3)
                   (fun uu___4 ->
                      (fun lnbr ->
                         let uu___4 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2391))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2391))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2392))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2422))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___4)
                              (fun uu___5 ->
                                 (fun rnbr ->
                                    let uu___5 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___7 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2393))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2395))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2392))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2422))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___5)
                                         (fun uu___6 ->
                                            (fun uu___6 ->
                                               if uu___6
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (let uu___7 =
                                                         FStar_Tactics_V2_Derived.focus
                                                           (fun uu___8 ->
                                                              let uu___9 =
                                                                FStar_Tactics_V2_Logic.implies_intro
                                                                  () in
                                                              FStar_Tactics_Effect.tac_bind
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2399))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2399))
                                                                    (Prims.of_int (39)))))
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2400))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (53)))))
                                                                (Obj.magic
                                                                   uu___9)
                                                                (fun uu___10
                                                                   ->
                                                                   (fun
                                                                    p_bind ->
                                                                    let uu___10
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_can_be_split"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2400))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2400))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2401))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (53)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    let uu___12
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2401))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2401))
                                                                    (Prims.of_int (28)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2402))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (53)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Derived.unify
                                                                    p
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2404))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2404))
                                                                    (Prims.of_int (39)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2405))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2406))
                                                                    (Prims.of_int (39)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun b ->
                                                                    let uu___16
                                                                    =
                                                                    if
                                                                    Prims.op_Negation
                                                                    b
                                                                    then
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "could not unify SMT prop with True")
                                                                    else
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___18
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2405))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2405))
                                                                    (Prims.of_int (69)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2406))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2406))
                                                                    (Prims.of_int (39)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"])))))
                                                                    uu___17)))
                                                                    uu___16))
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    if
                                                                    (lnbr <>
                                                                    Prims.int_zero)
                                                                    &&
                                                                    (rnbr =
                                                                    Prims.int_zero)
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___17
                                                                    -> ()))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2408))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2408))
                                                                    (Prims.of_int (68)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2409))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (52)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    -> ())))
                                                                    uu___18) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2409))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2409))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2410))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (52)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    let uu___19
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2410))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2417))
                                                                    (Prims.of_int (39)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2418))
                                                                    (Prims.of_int (52)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    true p
                                                                    (FStar_Tactics_V2_SyntaxCoercions.binding_to_term
                                                                    p_bind)))
                                                                    uu___20)))
                                                                    uu___18)))
                                                                    uu___16))))
                                                                    uu___13)))
                                                                    uu___11)))
                                                                    uu___10)) in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2398))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2418))
                                                                  (Prims.of_int (54)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2420))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2420))
                                                                  (Prims.of_int (12)))))
                                                         (Obj.magic uu___7)
                                                         (fun uu___8 ->
                                                            FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___9 ->
                                                                 true))))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___8 -> false))))
                                              uu___6))) uu___5))) uu___4)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_V2_Derived.fail "ill-formed can_be_split_dep")))
      uu___
let (solve_can_be_split_forall :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | uu___::(t1, uu___1)::(t2, uu___2)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___3 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2434)) (Prims.of_int (17))
                            (Prims.of_int (2434)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2434)) (Prims.of_int (39))
                            (Prims.of_int (2460)) (Prims.of_int (18)))))
                   (Obj.magic uu___3)
                   (fun uu___4 ->
                      (fun lnbr ->
                         let uu___4 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2435))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2435))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2436))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2460))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___4)
                              (fun uu___5 ->
                                 (fun rnbr ->
                                    let uu___5 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___7 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2437))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2439))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2436))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2460))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___5)
                                         (fun uu___6 ->
                                            (fun uu___6 ->
                                               if uu___6
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (let uu___7 =
                                                         FStar_Tactics_V2_Derived.focus
                                                           (fun uu___8 ->
                                                              let uu___9 =
                                                                let uu___10 =
                                                                  FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                FStar_Tactics_Effect.tac_bind
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2443))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2443))
                                                                    (Prims.of_int (33)))))
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2443))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2443))
                                                                    (Prims.of_int (33)))))
                                                                  (Obj.magic
                                                                    uu___10)
                                                                  (fun
                                                                    uu___11
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___12
                                                                    -> ())) in
                                                              FStar_Tactics_Effect.tac_bind
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2443))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2443))
                                                                    (Prims.of_int (33)))))
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2444))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (45)))))
                                                                (Obj.magic
                                                                   uu___9)
                                                                (fun uu___10
                                                                   ->
                                                                   (fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_can_be_split"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2444))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2444))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2445))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (45)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2445))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2445))
                                                                    (Prims.of_int (27)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2446))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (45)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"]))))
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    let uu___16
                                                                    =
                                                                    if
                                                                    (lnbr <>
                                                                    Prims.int_zero)
                                                                    &&
                                                                    (rnbr =
                                                                    Prims.int_zero)
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___18
                                                                    -> ()))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2448))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2448))
                                                                    (Prims.of_int (66)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2449))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    let uu___18
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___20
                                                                    -> ())))
                                                                    uu___19) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2449))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2449))
                                                                    (Prims.of_int (52)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2450))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___18)
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    let uu___20
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2450))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2457))
                                                                    (Prims.of_int (37)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2458))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___20)
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    false
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))))
                                                                    uu___21)))
                                                                    uu___19)))
                                                                    uu___17))))
                                                                    uu___14)))
                                                                    uu___12)))
                                                                    uu___10)) in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2442))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2458))
                                                                  (Prims.of_int (46)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2459))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2459))
                                                                  (Prims.of_int (12)))))
                                                         (Obj.magic uu___7)
                                                         (fun uu___8 ->
                                                            FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___9 ->
                                                                 true))))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___8 -> false))))
                                              uu___6))) uu___5))) uu___4)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_V2_Derived.fail
                   "Ill-formed can_be_split_forall, should not happen")))
      uu___
let (extract_cbs_forall_dep_contexts :
  FStar_Tactics_NamedView.term ->
    ((unit -> (unit, unit) FStar_Tactics_Effect.tac_repr)
       FStar_Pervasives_Native.option,
      unit) FStar_Tactics_Effect.tac_repr)
  =
  extract_contexts
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel"; "Effect"; "Common"; "can_be_split_forall_dep_congr_l"])))
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel"; "Effect"; "Common"; "can_be_split_forall_dep_congr_r"])))
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel";
             "Effect";
             "Common";
             "solve_can_be_split_forall_dep_lookup"])))
    (FStarC_Reflection_V2_Builtins.pack_ln
       (FStarC_Reflection_V2_Data.Tv_FVar
          (FStarC_Reflection_V2_Builtins.pack_fv
             ["Steel";
             "Effect";
             "Common";
             "solve_can_be_split_forall_dep_for"])))
let (open_existentials_forall_dep :
  unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.cur_env () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2478)) (Prims.of_int (10))
               (Prims.of_int (2478)) (Prims.of_int (20)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2479)) (Prims.of_int (2)) (Prims.of_int (2517))
               (Prims.of_int (71))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun e ->
            let uu___2 =
              if
                Prims.uu___is_Nil
                  (FStarC_Reflection_V2_Builtins.lookup_attr
                     (FStarC_Reflection_V2_Builtins.pack_ln
                        (FStarC_Reflection_V2_Data.Tv_FVar
                           (FStarC_Reflection_V2_Builtins.pack_fv
                              ["Steel";
                              "Effect";
                              "Common";
                              "solve_can_be_split_forall_dep_lookup"]))) e)
              then
                Obj.magic
                  (FStar_Tactics_V2_Derived.fail
                     "Tactic disabled: no available lemmas in context")
              else
                Obj.magic
                  (FStar_Tactics_Effect.lift_div_tac (fun uu___4 -> ())) in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2479)) (Prims.of_int (2))
                          (Prims.of_int (2480)) (Prims.of_int (61)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2481)) (Prims.of_int (2))
                          (Prims.of_int (2517)) (Prims.of_int (71)))))
                 (Obj.magic uu___2)
                 (fun uu___3 ->
                    (fun uu___3 ->
                       let uu___4 =
                         FStarC_Tactics_V2_Builtins.norm
                           [FStar_Pervasives.delta_only
                              ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                              "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                              "Steel.Effect.Common.rm"];
                           FStar_Pervasives.iota;
                           FStar_Pervasives.delta_attr
                             ["Steel.Effect.Common.__reduce__"]] in
                       Obj.magic
                         (FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (2481)) (Prims.of_int (2))
                                     (Prims.of_int (2489)) (Prims.of_int (3)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (2489)) (Prims.of_int (4))
                                     (Prims.of_int (2517))
                                     (Prims.of_int (71)))))
                            (Obj.magic uu___4)
                            (fun uu___5 ->
                               (fun uu___5 ->
                                  let uu___6 =
                                    FStar_Tactics_V2_Derived.cur_goal () in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (2490))
                                                (Prims.of_int (11))
                                                (Prims.of_int (2490))
                                                (Prims.of_int (22)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (2491))
                                                (Prims.of_int (2))
                                                (Prims.of_int (2517))
                                                (Prims.of_int (71)))))
                                       (Obj.magic uu___6)
                                       (fun uu___7 ->
                                          (fun t0 ->
                                             let uu___7 =
                                               FStar_Tactics_V2_SyntaxHelpers.collect_app
                                                 t0 in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2491))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2491))
                                                           (Prims.of_int (22)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2491))
                                                           (Prims.of_int (2))
                                                           (Prims.of_int (2517))
                                                           (Prims.of_int (71)))))
                                                  (Obj.magic uu___7)
                                                  (fun uu___8 ->
                                                     (fun uu___8 ->
                                                        match uu___8 with
                                                        | (uu___9,
                                                           (t1,
                                                            FStarC_Reflection_V2_Data.Q_Explicit)::[])
                                                            ->
                                                            Obj.magic
                                                              (Obj.repr
                                                                 (let uu___10
                                                                    =
                                                                    FStar_Tactics_V2_SyntaxHelpers.collect_app
                                                                    t1 in
                                                                  FStar_Tactics_Effect.tac_bind
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2493))
                                                                    (Prims.of_int (17))
                                                                    (Prims.of_int (2493))
                                                                    (Prims.of_int (31)))))
                                                                    (
                                                                    FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2492))
                                                                    (Prims.of_int (58))
                                                                    (Prims.of_int (2515))
                                                                    (Prims.of_int (78)))))
                                                                    (
                                                                    Obj.magic
                                                                    uu___10)
                                                                    (
                                                                    fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    match uu___11
                                                                    with
                                                                    | 
                                                                    (hd, tl)
                                                                    ->
                                                                    if
                                                                    FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.can_be_split_forall_dep"
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (match tl
                                                                    with
                                                                    | 
                                                                    uu___12::uu___13::
                                                                    (rhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)::[]
                                                                    ->
                                                                    Obj.repr
                                                                    (let uu___14
                                                                    =
                                                                    FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe
                                                                    rhs in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2499))
                                                                    (Prims.of_int (20))
                                                                    (Prims.of_int (2499))
                                                                    (Prims.of_int (41)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2499))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2511))
                                                                    (Prims.of_int (71)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    match uu___15
                                                                    with
                                                                    | 
                                                                    FStar_Tactics_NamedView.Tv_Abs
                                                                    (uu___16,
                                                                    body) ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___17
                                                                    =
                                                                    extract_cbs_forall_dep_contexts
                                                                    body in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2501))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2501))
                                                                    (Prims.of_int (58)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2501))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    match uu___18
                                                                    with
                                                                    | 
                                                                    FStar_Pervasives_Native.None
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep: no candidate"))
                                                                    | 
                                                                    FStar_Pervasives_Native.Some
                                                                    f ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___19
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "can_be_split_forall_dep_trans_rev"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2504))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2504))
                                                                    (Prims.of_int (60)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2505))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    let uu___21
                                                                    =
                                                                    dismiss_all_but_last
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2505))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2505))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2506))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___21)
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    let uu___23
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2506))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2506))
                                                                    (Prims.of_int (20)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2507))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___23)
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    let uu___25
                                                                    =
                                                                    FStar_Tactics_V2_Derived.focus
                                                                    f in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2507))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2507))
                                                                    (Prims.of_int (19)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2508))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___25)
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    let uu___27
                                                                    =
                                                                    bring_last_goal_on_top
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2508))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2508))
                                                                    (Prims.of_int (37)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___27)
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    let uu___29
                                                                    =
                                                                    let uu___30
                                                                    =
                                                                    FStar_Tactics_V2_Derived.goals
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (21))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___30)
                                                                    (fun
                                                                    uu___31
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    Prims.uu___is_Cons
                                                                    uu___31)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___29)
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    if
                                                                    uu___30
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStarC_Tactics_V2_Builtins.norm
                                                                    []))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___32
                                                                    -> ()))))
                                                                    uu___30)))
                                                                    uu___28)))
                                                                    uu___26)))
                                                                    uu___24)))
                                                                    uu___22)))
                                                                    uu___20))))
                                                                    uu___18)))
                                                                    | 
                                                                    uu___16
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep : not an abstraction")))
                                                                    uu___15))
                                                                    | 
                                                                    (uu___12,
                                                                    FStarC_Reflection_V2_Data.Q_Implicit)::uu___13::uu___14::
                                                                    (rhs,
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)::[]
                                                                    ->
                                                                    Obj.repr
                                                                    (let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe
                                                                    rhs in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2499))
                                                                    (Prims.of_int (20))
                                                                    (Prims.of_int (2499))
                                                                    (Prims.of_int (41)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2499))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2511))
                                                                    (Prims.of_int (71)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    match uu___16
                                                                    with
                                                                    | 
                                                                    FStar_Tactics_NamedView.Tv_Abs
                                                                    (uu___17,
                                                                    body) ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___18
                                                                    =
                                                                    extract_cbs_forall_dep_contexts
                                                                    body in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2501))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2501))
                                                                    (Prims.of_int (58)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2501))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___18)
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    match uu___19
                                                                    with
                                                                    | 
                                                                    FStar_Pervasives_Native.None
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep: no candidate"))
                                                                    | 
                                                                    FStar_Pervasives_Native.Some
                                                                    f ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___20
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "can_be_split_forall_dep_trans_rev"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2504))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2504))
                                                                    (Prims.of_int (60)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2505))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___20)
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    let uu___22
                                                                    =
                                                                    dismiss_all_but_last
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2505))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2505))
                                                                    (Prims.of_int (35)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2506))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___22)
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    let uu___24
                                                                    =
                                                                    FStar_Tactics_V2_Logic.split
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2506))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2506))
                                                                    (Prims.of_int (20)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2507))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___24)
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    let uu___26
                                                                    =
                                                                    FStar_Tactics_V2_Derived.focus
                                                                    f in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2507))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2507))
                                                                    (Prims.of_int (19)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2508))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___26)
                                                                    (fun
                                                                    uu___27
                                                                    ->
                                                                    (fun
                                                                    uu___27
                                                                    ->
                                                                    let uu___28
                                                                    =
                                                                    bring_last_goal_on_top
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2508))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2508))
                                                                    (Prims.of_int (37)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___28)
                                                                    (fun
                                                                    uu___29
                                                                    ->
                                                                    (fun
                                                                    uu___29
                                                                    ->
                                                                    let uu___30
                                                                    =
                                                                    let uu___31
                                                                    =
                                                                    FStar_Tactics_V2_Derived.goals
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (21))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (31)))))
                                                                    (Obj.magic
                                                                    uu___31)
                                                                    (fun
                                                                    uu___32
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___33
                                                                    ->
                                                                    Prims.uu___is_Cons
                                                                    uu___32)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2509))
                                                                    (Prims.of_int (44)))))
                                                                    (Obj.magic
                                                                    uu___30)
                                                                    (fun
                                                                    uu___31
                                                                    ->
                                                                    (fun
                                                                    uu___31
                                                                    ->
                                                                    if
                                                                    uu___31
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStarC_Tactics_V2_Builtins.norm
                                                                    []))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___33
                                                                    -> ()))))
                                                                    uu___31)))
                                                                    uu___29)))
                                                                    uu___27)))
                                                                    uu___25)))
                                                                    uu___23)))
                                                                    uu___21))))
                                                                    uu___19)))
                                                                    | 
                                                                    uu___17
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep : not an abstraction")))
                                                                    uu___16))
                                                                    | 
                                                                    uu___12
                                                                    ->
                                                                    Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep : wrong number of arguments to can_be_split_forall_dep")))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep : not a can_be_split_forall_dep goal")))
                                                                    uu___11)))
                                                        | uu___9 ->
                                                            Obj.magic
                                                              (Obj.repr
                                                                 (FStar_Tactics_V2_Derived.fail
                                                                    "open_existentials_forall_dep : not a squash/auto_squash goal")))
                                                       uu___8))) uu___7)))
                                 uu___5))) uu___3))) uu___2)
let (try_open_existentials_forall_dep :
  unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    FStar_Tactics_V2_Derived.focus
      (fun uu___1 ->
         FStar_Tactics_V2_Derived.try_with
           (fun uu___2 ->
              match () with
              | () ->
                  let uu___3 = open_existentials_forall_dep () in
                  FStar_Tactics_Effect.tac_bind
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (2523)) (Prims.of_int (6))
                             (Prims.of_int (2523)) (Prims.of_int (37)))))
                    (FStar_Sealed.seal
                       (Obj.magic
                          (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                             (Prims.of_int (2524)) (Prims.of_int (6))
                             (Prims.of_int (2524)) (Prims.of_int (10)))))
                    (Obj.magic uu___3)
                    (fun uu___4 ->
                       FStar_Tactics_Effect.lift_div_tac (fun uu___5 -> true)))
           (fun uu___2 ->
              (fun uu___2 ->
                 Obj.magic
                   (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> false)))
                uu___2))
let rec (solve_can_be_split_forall_dep :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | uu___::(pr, uu___1)::(t1, uu___2)::(t2, uu___3)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___4 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2532)) (Prims.of_int (17))
                            (Prims.of_int (2532)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2532)) (Prims.of_int (39))
                            (Prims.of_int (2577)) (Prims.of_int (18)))))
                   (Obj.magic uu___4)
                   (fun uu___5 ->
                      (fun lnbr ->
                         let uu___5 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2533))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2533))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2534))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2577))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___5)
                              (fun uu___6 ->
                                 (fun rnbr ->
                                    let uu___6 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___8 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2535))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2537))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2534))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2577))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___6)
                                         (fun uu___7 ->
                                            (fun uu___7 ->
                                               if uu___7
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_V2_Derived.try_with
                                                         (fun uu___8 ->
                                                            match () with
                                                            | () ->
                                                                let uu___9 =
                                                                  FStar_Tactics_V2_Derived.focus
                                                                    (
                                                                    fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [] in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2542))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2542))
                                                                    (Prims.of_int (17)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2542))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2543))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (2543))
                                                                    (Prims.of_int (33)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2543))
                                                                    (Prims.of_int (36))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun x ->
                                                                    let uu___14
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    FStar_Reflection_V2_Derived.mk_app
                                                                    pr
                                                                    [
                                                                    ((FStar_Tactics_V2_SyntaxCoercions.binding_to_term
                                                                    x),
                                                                    FStarC_Reflection_V2_Data.Q_Explicit)])) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2544))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (2544))
                                                                    (Prims.of_int (62)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2544))
                                                                    (Prims.of_int (65))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    (fun pr1
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Logic.implies_intro
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2545))
                                                                    (Prims.of_int (23))
                                                                    (Prims.of_int (2545))
                                                                    (Prims.of_int (39)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2546))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    p_bind ->
                                                                    let uu___16
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_can_be_split"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2546))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2546))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2547))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    let uu___18
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___20
                                                                    -> ())))
                                                                    uu___19) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2547))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2547))
                                                                    (Prims.of_int (49)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2547))
                                                                    (Prims.of_int (50))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___18)
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    let uu___20
                                                                    =
                                                                    FStar_Tactics_V2_Derived.norm_term
                                                                    [] pr1 in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2548))
                                                                    (Prims.of_int (19))
                                                                    (Prims.of_int (2548))
                                                                    (Prims.of_int (34)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2549))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (54)))))
                                                                    (Obj.magic
                                                                    uu___20)
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    (fun pr2
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    let uu___22
                                                                    =
                                                                    FStar_Tactics_V2_Derived.unify
                                                                    pr2
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2551))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2551))
                                                                    (Prims.of_int (40)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2552))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2553))
                                                                    (Prims.of_int (39)))))
                                                                    (Obj.magic
                                                                    uu___22)
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    (fun b ->
                                                                    let uu___23
                                                                    =
                                                                    if
                                                                    Prims.op_Negation
                                                                    b
                                                                    then
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "could not unify SMT prop with True")
                                                                    else
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___25
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2552))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2552))
                                                                    (Prims.of_int (69)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2553))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2553))
                                                                    (Prims.of_int (39)))))
                                                                    (Obj.magic
                                                                    uu___23)
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"])))))
                                                                    uu___24)))
                                                                    uu___23))
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    let uu___22
                                                                    =
                                                                    if
                                                                    (lnbr <>
                                                                    Prims.int_zero)
                                                                    &&
                                                                    (rnbr =
                                                                    Prims.int_zero)
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___24
                                                                    -> ()))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2555))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2555))
                                                                    (Prims.of_int (68)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2556))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (53)))))
                                                                    (Obj.magic
                                                                    uu___22)
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    let uu___24
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___26
                                                                    -> ())))
                                                                    uu___25) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2556))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2556))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2557))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (53)))))
                                                                    (Obj.magic
                                                                    uu___24)
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    (fun
                                                                    uu___25
                                                                    ->
                                                                    let uu___26
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2557))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2564))
                                                                    (Prims.of_int (39)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (53)))))
                                                                    (Obj.magic
                                                                    uu___26)
                                                                    (fun
                                                                    uu___27
                                                                    ->
                                                                    (fun
                                                                    uu___27
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    true pr2
                                                                    (FStar_Tactics_V2_SyntaxCoercions.binding_to_term
                                                                    p_bind)))
                                                                    uu___27)))
                                                                    uu___25)))
                                                                    uu___23))))
                                                                    uu___21)))
                                                                    uu___19)))
                                                                    uu___17)))
                                                                    uu___16)))
                                                                    uu___15)))
                                                                    uu___14)))
                                                                    uu___12)) in
                                                                FStar_Tactics_Effect.tac_bind
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2541))
                                                                    (Prims.of_int (9))
                                                                    (Prims.of_int (2565))
                                                                    (Prims.of_int (55)))))
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2567))
                                                                    (Prims.of_int (9))
                                                                    (Prims.of_int (2567))
                                                                    (Prims.of_int (13)))))
                                                                  (Obj.magic
                                                                    uu___9)
                                                                  (fun
                                                                    uu___10
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___11
                                                                    -> true)))
                                                         (fun uu___8 ->
                                                            (fun uu___8 ->
                                                               match uu___8
                                                               with
                                                               | Postpone msg
                                                                   ->
                                                                   Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___9 ->
                                                                    false)))
                                                               | FStarC_Tactics_Common.TacticFailure
                                                                   (msg,
                                                                    rng_opt)
                                                                   ->
                                                                   Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___9
                                                                    =
                                                                    try_open_existentials_forall_dep
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2572))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2572))
                                                                    (Prims.of_int (57)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2573))
                                                                    (Prims.of_int (9))
                                                                    (Prims.of_int (2575))
                                                                    (Prims.of_int (37)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun
                                                                    opened ->
                                                                    if opened
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (solve_can_be_split_forall_dep
                                                                    args))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail_doc_at
                                                                    msg
                                                                    rng_opt)))
                                                                    uu___10)))
                                                               | uu___9 ->
                                                                   Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "Unexpected exception in framing tactic")))
                                                              uu___8)))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___9 -> false))))
                                              uu___7))) uu___6))) uu___5)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_V2_Derived.fail
                   "Ill-formed can_be_split_forall_dep, should not happen")))
      uu___
let (solve_equiv_forall :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | uu___::(t1, uu___1)::(t2, uu___2)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___3 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2585)) (Prims.of_int (17))
                            (Prims.of_int (2585)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2585)) (Prims.of_int (39))
                            (Prims.of_int (2614)) (Prims.of_int (18)))))
                   (Obj.magic uu___3)
                   (fun uu___4 ->
                      (fun lnbr ->
                         let uu___4 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2586))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2586))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2587))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2614))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___4)
                              (fun uu___5 ->
                                 (fun rnbr ->
                                    let uu___5 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___7 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2588))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2590))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2587))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2614))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___5)
                                         (fun uu___6 ->
                                            (fun uu___6 ->
                                               if uu___6
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (let uu___7 =
                                                         FStar_Tactics_V2_Derived.focus
                                                           (fun uu___8 ->
                                                              let uu___9 =
                                                                FStar_Tactics_V2_Derived.apply_lemma
                                                                  (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_forall_elim"]))) in
                                                              FStar_Tactics_Effect.tac_bind
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2593))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2593))
                                                                    (Prims.of_int (56)))))
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2594))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (61)))))
                                                                (Obj.magic
                                                                   uu___9)
                                                                (fun uu___10
                                                                   ->
                                                                   (fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    FStar_Tactics_V2_Derived.goals
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2594))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2594))
                                                                    (Prims.of_int (36)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2594))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    match uu___12
                                                                    with
                                                                    | 
                                                                    [] ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___13
                                                                    -> ())))
                                                                    | 
                                                                    uu___13
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___14
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2597))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2597))
                                                                    (Prims.of_int (42)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    let uu___16
                                                                    =
                                                                    let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (47)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (47)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2598))
                                                                    (Prims.of_int (47)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2599))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"]))))
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    let uu___19
                                                                    =
                                                                    if
                                                                    (lnbr <>
                                                                    Prims.int_zero)
                                                                    &&
                                                                    (rnbr =
                                                                    Prims.int_zero)
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___21
                                                                    -> ()))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2602))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2602))
                                                                    (Prims.of_int (82)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2603))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (60)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    let uu___21
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___23
                                                                    -> ())))
                                                                    uu___22) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2603))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2603))
                                                                    (Prims.of_int (68)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2604))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (60)))))
                                                                    (Obj.magic
                                                                    uu___21)
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    let uu___23
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2604))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2611))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2612))
                                                                    (Prims.of_int (60)))))
                                                                    (Obj.magic
                                                                    uu___23)
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    false
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))))
                                                                    uu___24)))
                                                                    uu___22)))
                                                                    uu___20))))
                                                                    uu___17)))
                                                                    uu___15))))
                                                                    uu___12)))
                                                                    uu___10)) in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2593))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2612))
                                                                  (Prims.of_int (62)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2613))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2613))
                                                                  (Prims.of_int (12)))))
                                                         (Obj.magic uu___7)
                                                         (fun uu___8 ->
                                                            FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___9 ->
                                                                 true))))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___8 -> false))))
                                              uu___6))) uu___5))) uu___4)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_V2_Derived.fail
                   "Ill-formed equiv_forall, should not happen"))) uu___
let (solve_equiv :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | (t1, uu___)::(t2, uu___1)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___2 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2622)) (Prims.of_int (17))
                            (Prims.of_int (2622)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2622)) (Prims.of_int (39))
                            (Prims.of_int (2647)) (Prims.of_int (18)))))
                   (Obj.magic uu___2)
                   (fun uu___3 ->
                      (fun lnbr ->
                         let uu___3 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2623))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2623))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2624))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2647))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___3)
                              (fun uu___4 ->
                                 (fun rnbr ->
                                    let uu___4 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___6 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2625))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2627))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2624))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2647))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___4)
                                         (fun uu___5 ->
                                            (fun uu___5 ->
                                               if uu___5
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (let uu___6 =
                                                         FStar_Tactics_V2_Derived.focus
                                                           (fun uu___7 ->
                                                              FStar_Tactics_V2_Derived.or_else
                                                                (fun uu___8
                                                                   ->
                                                                   FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"]))))
                                                                (fun uu___8
                                                                   ->
                                                                   let uu___9
                                                                    =
                                                                    if
                                                                    (lnbr <>
                                                                    Prims.int_zero)
                                                                    &&
                                                                    (rnbr =
                                                                    Prims.int_zero)
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___11
                                                                    -> ()))) in
                                                                   FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2634))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2634))
                                                                    (Prims.of_int (68)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2635))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2644))
                                                                    (Prims.of_int (46)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___13
                                                                    -> ())))
                                                                    uu___12) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2635))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2635))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2636))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2644))
                                                                    (Prims.of_int (46)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2636))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2643))
                                                                    (Prims.of_int (40)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2644))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2644))
                                                                    (Prims.of_int (46)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    false
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))))
                                                                    uu___14)))
                                                                    uu___12)))
                                                                    uu___10))) in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2630))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2644))
                                                                  (Prims.of_int (48)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2645))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2645))
                                                                  (Prims.of_int (12)))))
                                                         (Obj.magic uu___6)
                                                         (fun uu___7 ->
                                                            FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___8 ->
                                                                 true))))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___7 -> false))))
                                              uu___5))) uu___4))) uu___3)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_V2_Derived.fail
                   "Ill-formed equiv, should not happen"))) uu___
let (solve_can_be_split_post :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun args ->
       match args with
       | uu___::uu___1::(t1, uu___2)::(t2, uu___3)::[] ->
           Obj.magic
             (Obj.repr
                (let uu___4 = slterm_nbr_uvars t1 in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2655)) (Prims.of_int (17))
                            (Prims.of_int (2655)) (Prims.of_int (36)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (2655)) (Prims.of_int (39))
                            (Prims.of_int (2687)) (Prims.of_int (18)))))
                   (Obj.magic uu___4)
                   (fun uu___5 ->
                      (fun lnbr ->
                         let uu___5 = slterm_nbr_uvars t2 in
                         Obj.magic
                           (FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2656))
                                       (Prims.of_int (17))
                                       (Prims.of_int (2656))
                                       (Prims.of_int (36)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2657))
                                       (Prims.of_int (6))
                                       (Prims.of_int (2687))
                                       (Prims.of_int (18)))))
                              (Obj.magic uu___5)
                              (fun uu___6 ->
                                 (fun rnbr ->
                                    let uu___6 =
                                      if (lnbr + rnbr) <= Prims.int_one
                                      then
                                        Obj.magic
                                          (Obj.repr (unfold_guard ()))
                                      else
                                        Obj.magic
                                          (Obj.repr
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___8 -> false))) in
                                    Obj.magic
                                      (FStar_Tactics_Effect.tac_bind
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2658))
                                                  (Prims.of_int (8))
                                                  (Prims.of_int (2660))
                                                  (Prims.of_int (18)))))
                                         (FStar_Sealed.seal
                                            (Obj.magic
                                               (FStar_Range.mk_range
                                                  "Steel.Effect.Common.fsti"
                                                  (Prims.of_int (2657))
                                                  (Prims.of_int (6))
                                                  (Prims.of_int (2687))
                                                  (Prims.of_int (18)))))
                                         (Obj.magic uu___6)
                                         (fun uu___7 ->
                                            (fun uu___7 ->
                                               if uu___7
                                               then
                                                 Obj.magic
                                                   (Obj.repr
                                                      (let uu___8 =
                                                         FStar_Tactics_V2_Derived.focus
                                                           (fun uu___9 ->
                                                              let uu___10 =
                                                                FStarC_Tactics_V2_Builtins.norm
                                                                  [] in
                                                              FStar_Tactics_Effect.tac_bind
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2663))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2663))
                                                                    (Prims.of_int (30)))))
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2663))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                (Obj.magic
                                                                   uu___10)
                                                                (fun uu___11
                                                                   ->
                                                                   (fun
                                                                    uu___11
                                                                    ->
                                                                    let uu___12
                                                                    =
                                                                    FStar_Tactics_V2_Derived._cur_goal
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2664))
                                                                    (Prims.of_int (30))
                                                                    (Prims.of_int (2664))
                                                                    (Prims.of_int (42)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun g ->
                                                                    let uu___13
                                                                    =
                                                                    let uu___14
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (29))
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (45)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (45)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___16
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2665))
                                                                    (Prims.of_int (45)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2666))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_forall_elim"]))) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2666))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2666))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2667))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Derived.goals
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2667))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2667))
                                                                    (Prims.of_int (36)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2667))
                                                                    (Prims.of_int (22))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    match uu___18
                                                                    with
                                                                    | 
                                                                    [] ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    -> ())))
                                                                    | 
                                                                    uu___19
                                                                    ->
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___20
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2670))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2670))
                                                                    (Prims.of_int (42)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___20)
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    (fun
                                                                    uu___21
                                                                    ->
                                                                    let uu___22
                                                                    =
                                                                    let uu___23
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (31))
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (47)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (47)))))
                                                                    (Obj.magic
                                                                    uu___23)
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___25
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2671))
                                                                    (Prims.of_int (47)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2672))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (61)))))
                                                                    (Obj.magic
                                                                    uu___22)
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    (fun
                                                                    uu___23
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_refl"]))))
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    let uu___25
                                                                    =
                                                                    if
                                                                    (lnbr <>
                                                                    Prims.int_zero)
                                                                    &&
                                                                    (rnbr =
                                                                    Prims.int_zero)
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_sym"])))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___27
                                                                    -> ()))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2675))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2675))
                                                                    (Prims.of_int (82)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2676))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (60)))))
                                                                    (Obj.magic
                                                                    uu___25)
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    let uu___27
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.flip
                                                                    ())
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___29
                                                                    -> ())))
                                                                    uu___28) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2676))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2676))
                                                                    (Prims.of_int (68)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2677))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (60)))))
                                                                    (Obj.magic
                                                                    uu___27)
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    (fun
                                                                    uu___28
                                                                    ->
                                                                    let uu___29
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                                                    "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                                                    "Steel.Effect.Common.rm";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                                                    "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                                                    "FStar.Pervasives.Native.fst";
                                                                    "FStar.Pervasives.Native.snd"];
                                                                    FStar_Pervasives.delta_attr
                                                                    ["Steel.Effect.Common.__reduce__"];
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2677))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2684))
                                                                    (Prims.of_int (54)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (28))
                                                                    (Prims.of_int (2685))
                                                                    (Prims.of_int (60)))))
                                                                    (Obj.magic
                                                                    uu___29)
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    (fun
                                                                    uu___30
                                                                    ->
                                                                    Obj.magic
                                                                    (canon'
                                                                    false
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "true_p"])))))
                                                                    uu___30)))
                                                                    uu___28)))
                                                                    uu___26))))
                                                                    uu___23)))
                                                                    uu___21))))
                                                                    uu___18)))
                                                                    uu___16)))
                                                                    uu___14)))
                                                                    uu___13)))
                                                                    uu___11)) in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2663))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2685))
                                                                  (Prims.of_int (62)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (2686))
                                                                  (Prims.of_int (8))
                                                                  (Prims.of_int (2686))
                                                                  (Prims.of_int (12)))))
                                                         (Obj.magic uu___8)
                                                         (fun uu___9 ->
                                                            FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___10 ->
                                                                 true))))
                                               else
                                                 Obj.magic
                                                   (Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___9 -> false))))
                                              uu___7))) uu___6))) uu___5)))
       | uu___ ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_V2_Derived.fail "ill-formed can_be_split_post")))
      uu___
let (is_return_eq :
  FStar_Tactics_NamedView.term ->
    FStar_Tactics_NamedView.term ->
      (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun l ->
    fun r ->
      let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app l in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2693)) (Prims.of_int (15))
                 (Prims.of_int (2693)) (Prims.of_int (28)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2692)) (Prims.of_int (40))
                 (Prims.of_int (2695)) (Prims.of_int (56)))))
        (Obj.magic uu___)
        (fun uu___1 ->
           (fun uu___1 ->
              match uu___1 with
              | (nl, al) ->
                  let uu___2 = FStar_Tactics_V2_SyntaxHelpers.collect_app r in
                  Obj.magic
                    (FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2694)) (Prims.of_int (15))
                                (Prims.of_int (2694)) (Prims.of_int (28)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2693)) (Prims.of_int (31))
                                (Prims.of_int (2695)) (Prims.of_int (56)))))
                       (Obj.magic uu___2)
                       (fun uu___3 ->
                          FStar_Tactics_Effect.lift_div_tac
                            (fun uu___4 ->
                               match uu___3 with
                               | (nr, ar) ->
                                   (FStar_Reflection_V2_Derived.is_fvar nl
                                      "Steel.Effect.Common.return_pre")
                                     ||
                                     (FStar_Reflection_V2_Derived.is_fvar nr
                                        "Steel.Effect.Common.return_pre")))))
             uu___1)
let rec (solve_indirection_eqs :
  Prims.nat -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    (fun fuel ->
       if fuel = Prims.int_zero
       then
         Obj.magic
           (Obj.repr (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ())))
       else
         Obj.magic
           (Obj.repr
              (let uu___1 = FStar_Tactics_V2_Derived.goals () in
               FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2703)) (Prims.of_int (13))
                          (Prims.of_int (2703)) (Prims.of_int (21)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2703)) (Prims.of_int (7))
                          (Prims.of_int (2711)) (Prims.of_int (52)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    (fun uu___2 ->
                       match uu___2 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___3 -> ())))
                       | hd::uu___3 ->
                           Obj.magic
                             (Obj.repr
                                (let uu___4 =
                                   FStar_Reflection_V2_Formula.term_as_formula'
                                     (FStarC_Tactics_Types.goal_type hd) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2706))
                                            (Prims.of_int (12))
                                            (Prims.of_int (2706))
                                            (Prims.of_int (43)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2707))
                                            (Prims.of_int (4))
                                            (Prims.of_int (2711))
                                            (Prims.of_int (52)))))
                                   (Obj.magic uu___4)
                                   (fun uu___5 ->
                                      (fun f ->
                                         match f with
                                         | FStar_Reflection_V2_Formula.Comp
                                             (FStar_Reflection_V2_Formula.Eq
                                              uu___5, l, r)
                                             ->
                                             let uu___6 =
                                               let uu___7 = is_return_eq l r in
                                               FStar_Tactics_Effect.tac_bind
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (2709))
                                                          (Prims.of_int (11))
                                                          (Prims.of_int (2709))
                                                          (Prims.of_int (27)))))
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (2709))
                                                          (Prims.of_int (8))
                                                          (Prims.of_int (2709))
                                                          (Prims.of_int (53)))))
                                                 (Obj.magic uu___7)
                                                 (fun uu___8 ->
                                                    (fun uu___8 ->
                                                       if uu___8
                                                       then
                                                         Obj.magic
                                                           (FStar_Tactics_V2_Derived.later
                                                              ())
                                                       else
                                                         Obj.magic
                                                           (FStar_Tactics_V2_Derived.trefl
                                                              ())) uu___8) in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2709))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2709))
                                                           (Prims.of_int (53)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2710))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2710))
                                                           (Prims.of_int (40)))))
                                                  (Obj.magic uu___6)
                                                  (fun uu___7 ->
                                                     (fun uu___7 ->
                                                        Obj.magic
                                                          (solve_indirection_eqs
                                                             (fuel -
                                                                Prims.int_one)))
                                                       uu___7))
                                         | uu___5 ->
                                             let uu___6 =
                                               FStar_Tactics_V2_Derived.later
                                                 () in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2711))
                                                           (Prims.of_int (11))
                                                           (Prims.of_int (2711))
                                                           (Prims.of_int (18)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2711))
                                                           (Prims.of_int (20))
                                                           (Prims.of_int (2711))
                                                           (Prims.of_int (52)))))
                                                  (Obj.magic uu___6)
                                                  (fun uu___7 ->
                                                     (fun uu___7 ->
                                                        Obj.magic
                                                          (solve_indirection_eqs
                                                             (fuel -
                                                                Prims.int_one)))
                                                       uu___7))) uu___5))))
                      uu___2)))) uu___
let rec (solve_all_eqs :
  Prims.nat -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    (fun fuel ->
       if fuel = Prims.int_zero
       then
         Obj.magic
           (Obj.repr (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ())))
       else
         Obj.magic
           (Obj.repr
              (let uu___1 = FStar_Tactics_V2_Derived.goals () in
               FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2717)) (Prims.of_int (13))
                          (Prims.of_int (2717)) (Prims.of_int (21)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2717)) (Prims.of_int (7))
                          (Prims.of_int (2725)) (Prims.of_int (44)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    (fun uu___2 ->
                       match uu___2 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___3 -> ())))
                       | hd::uu___3 ->
                           Obj.magic
                             (Obj.repr
                                (let uu___4 =
                                   FStar_Reflection_V2_Formula.term_as_formula'
                                     (FStarC_Tactics_Types.goal_type hd) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2720))
                                            (Prims.of_int (12))
                                            (Prims.of_int (2720))
                                            (Prims.of_int (43)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2721))
                                            (Prims.of_int (4))
                                            (Prims.of_int (2725))
                                            (Prims.of_int (44)))))
                                   (Obj.magic uu___4)
                                   (fun uu___5 ->
                                      (fun f ->
                                         match f with
                                         | FStar_Reflection_V2_Formula.Comp
                                             (FStar_Reflection_V2_Formula.Eq
                                              uu___5, l, r)
                                             ->
                                             let uu___6 =
                                               FStar_Tactics_V2_Derived.trefl
                                                 () in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2723))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2723))
                                                           (Prims.of_int (15)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2724))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2724))
                                                           (Prims.of_int (32)))))
                                                  (Obj.magic uu___6)
                                                  (fun uu___7 ->
                                                     (fun uu___7 ->
                                                        Obj.magic
                                                          (solve_all_eqs
                                                             (fuel -
                                                                Prims.int_one)))
                                                       uu___7))
                                         | uu___5 ->
                                             let uu___6 =
                                               FStar_Tactics_V2_Derived.later
                                                 () in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2725))
                                                           (Prims.of_int (11))
                                                           (Prims.of_int (2725))
                                                           (Prims.of_int (18)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2725))
                                                           (Prims.of_int (20))
                                                           (Prims.of_int (2725))
                                                           (Prims.of_int (44)))))
                                                  (Obj.magic uu___6)
                                                  (fun uu___7 ->
                                                     (fun uu___7 ->
                                                        Obj.magic
                                                          (solve_all_eqs
                                                             (fuel -
                                                                Prims.int_one)))
                                                       uu___7))) uu___5))))
                      uu___2)))) uu___
let rec (solve_return_eqs :
  Prims.nat -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    (fun fuel ->
       if fuel = Prims.int_zero
       then
         Obj.magic
           (Obj.repr (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ())))
       else
         Obj.magic
           (Obj.repr
              (let uu___1 = FStar_Tactics_V2_Derived.goals () in
               FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2732)) (Prims.of_int (13))
                          (Prims.of_int (2732)) (Prims.of_int (21)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2732)) (Prims.of_int (7))
                          (Prims.of_int (2740)) (Prims.of_int (47)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    (fun uu___2 ->
                       match uu___2 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___3 -> ())))
                       | hd::uu___3 ->
                           Obj.magic
                             (Obj.repr
                                (let uu___4 =
                                   FStar_Reflection_V2_Formula.term_as_formula'
                                     (FStarC_Tactics_Types.goal_type hd) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2735))
                                            (Prims.of_int (12))
                                            (Prims.of_int (2735))
                                            (Prims.of_int (43)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2736))
                                            (Prims.of_int (4))
                                            (Prims.of_int (2740))
                                            (Prims.of_int (47)))))
                                   (Obj.magic uu___4)
                                   (fun uu___5 ->
                                      (fun f ->
                                         match f with
                                         | FStar_Reflection_V2_Formula.Comp
                                             (FStar_Reflection_V2_Formula.Eq
                                              uu___5, l, r)
                                             ->
                                             let uu___6 =
                                               FStar_Tactics_V2_Derived.trefl
                                                 () in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2738))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2738))
                                                           (Prims.of_int (15)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2739))
                                                           (Prims.of_int (8))
                                                           (Prims.of_int (2739))
                                                           (Prims.of_int (35)))))
                                                  (Obj.magic uu___6)
                                                  (fun uu___7 ->
                                                     (fun uu___7 ->
                                                        Obj.magic
                                                          (solve_return_eqs
                                                             (fuel -
                                                                Prims.int_one)))
                                                       uu___7))
                                         | uu___5 ->
                                             let uu___6 =
                                               FStar_Tactics_V2_Derived.later
                                                 () in
                                             Obj.magic
                                               (FStar_Tactics_Effect.tac_bind
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2740))
                                                           (Prims.of_int (11))
                                                           (Prims.of_int (2740))
                                                           (Prims.of_int (18)))))
                                                  (FStar_Sealed.seal
                                                     (Obj.magic
                                                        (FStar_Range.mk_range
                                                           "Steel.Effect.Common.fsti"
                                                           (Prims.of_int (2740))
                                                           (Prims.of_int (20))
                                                           (Prims.of_int (2740))
                                                           (Prims.of_int (47)))))
                                                  (Obj.magic uu___6)
                                                  (fun uu___7 ->
                                                     (fun uu___7 ->
                                                        Obj.magic
                                                          (solve_return_eqs
                                                             (fuel -
                                                                Prims.int_one)))
                                                       uu___7))) uu___5))))
                      uu___2)))) uu___
let (goal_to_equiv :
  Prims.string -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun loc ->
    let uu___ = FStar_Tactics_V2_Derived.cur_goal () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2744)) (Prims.of_int (12))
               (Prims.of_int (2744)) (Prims.of_int (23)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2744)) (Prims.of_int (26))
               (Prims.of_int (2771)) (Prims.of_int (42))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun t ->
            let uu___1 = FStar_Reflection_V2_Formula.term_as_formula' t in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2745)) (Prims.of_int (12))
                          (Prims.of_int (2745)) (Prims.of_int (30)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2746)) (Prims.of_int (4))
                          (Prims.of_int (2771)) (Prims.of_int (42)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    (fun f ->
                       match f with
                       | FStar_Reflection_V2_Formula.App (hd0, t1) ->
                           Obj.magic
                             (Obj.repr
                                (let uu___2 =
                                   if
                                     Prims.op_Negation
                                       (FStar_Reflection_V2_Derived.is_fvar
                                          hd0 "Prims.squash")
                                   then
                                     Obj.magic
                                       (FStar_Tactics_V2_Derived.fail
                                          (Prims.strcat loc
                                             " unexpected non-squash goal in goal_to_equiv"))
                                   else
                                     Obj.magic
                                       (FStar_Tactics_Effect.lift_div_tac
                                          (fun uu___4 -> ())) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2748))
                                            (Prims.of_int (6))
                                            (Prims.of_int (2749))
                                            (Prims.of_int (70)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2749))
                                            (Prims.of_int (71))
                                            (Prims.of_int (2770))
                                            (Prims.of_int (51)))))
                                   (Obj.magic uu___2)
                                   (fun uu___3 ->
                                      (fun uu___3 ->
                                         let uu___4 =
                                           FStar_Tactics_V2_SyntaxHelpers.collect_app
                                             t1 in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2750))
                                                       (Prims.of_int (21))
                                                       (Prims.of_int (2750))
                                                       (Prims.of_int (34)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2749))
                                                       (Prims.of_int (71))
                                                       (Prims.of_int (2770))
                                                       (Prims.of_int (51)))))
                                              (Obj.magic uu___4)
                                              (fun uu___5 ->
                                                 (fun uu___5 ->
                                                    match uu___5 with
                                                    | (hd, args) ->
                                                        if
                                                          FStar_Reflection_V2_Derived.is_fvar
                                                            hd
                                                            "Steel.Effect.Common.can_be_split"
                                                        then
                                                          Obj.magic
                                                            (Obj.repr
                                                               (FStar_Tactics_V2_Derived.apply_lemma
                                                                  (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_can_be_split"])))))
                                                        else
                                                          Obj.magic
                                                            (Obj.repr
                                                               (if
                                                                  FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.can_be_split_forall"
                                                                then
                                                                  Obj.repr
                                                                    (
                                                                    let uu___7
                                                                    =
                                                                    let uu___8
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2754))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2754))
                                                                    (Prims.of_int (32)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2754))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2754))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___10
                                                                    -> ())) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2754))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2754))
                                                                    (Prims.of_int (32)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2755))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2755))
                                                                    (Prims.of_int (41)))))
                                                                    (Obj.magic
                                                                    uu___7)
                                                                    (fun
                                                                    uu___8 ->
                                                                    (fun
                                                                    uu___8 ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_can_be_split"])))))
                                                                    uu___8))
                                                                else
                                                                  Obj.repr
                                                                    (
                                                                    if
                                                                    FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.equiv_forall"
                                                                    then
                                                                    Obj.repr
                                                                    (let uu___8
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_forall_elim"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2757))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2757))
                                                                    (Prims.of_int (40)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2758))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2758))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    (fun
                                                                    uu___9 ->
                                                                    let uu___10
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2758))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2758))
                                                                    (Prims.of_int (32)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2758))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2758))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___12
                                                                    -> ()))))
                                                                    uu___9))
                                                                    else
                                                                    Obj.repr
                                                                    (if
                                                                    FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.can_be_split_post"
                                                                    then
                                                                    Obj.repr
                                                                    (let uu___9
                                                                    =
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "can_be_split_post_elim"]))) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2760))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2760))
                                                                    (Prims.of_int (45)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2761))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    let uu___11
                                                                    =
                                                                    dismiss_slprops
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2761))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2761))
                                                                    (Prims.of_int (25)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    let uu___14
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (32)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___16
                                                                    -> ())) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2762))
                                                                    (Prims.of_int (32)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (15))
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (32)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (8))
                                                                    (Prims.of_int (2763))
                                                                    (Prims.of_int (32)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___17
                                                                    -> ()))))
                                                                    uu___14)))
                                                                    uu___12)))
                                                                    uu___10))
                                                                    else
                                                                    Obj.repr
                                                                    (if
                                                                    FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.can_be_split_dep"
                                                                    then
                                                                    FStar_Tactics_V2_Derived.fail
                                                                    (Prims.strcat
                                                                    "can_be_split_dep not supported in "
                                                                    loc)
                                                                    else
                                                                    if
                                                                    FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.can_be_split_forall_dep"
                                                                    then
                                                                    FStar_Tactics_V2_Derived.fail
                                                                    (Prims.strcat
                                                                    "can_be_split_forall_dep not supported in "
                                                                    loc)
                                                                    else
                                                                    FStar_Tactics_V2_Derived.fail
                                                                    (Prims.strcat
                                                                    loc
                                                                    " goal in unexpected position")))))))
                                                   uu___5))) uu___3)))
                       | uu___2 ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_V2_Derived.fail
                                   (Prims.strcat loc " unexpected goal"))))
                      uu___2))) uu___1)
let rec term_dict_assoc :
  'a .
    FStar_Tactics_NamedView.term ->
      (FStar_Tactics_NamedView.term * 'a) Prims.list ->
        ('a Prims.list, unit) FStar_Tactics_Effect.tac_repr
  =
  fun uu___1 ->
    fun uu___ ->
      (fun key ->
         fun l ->
           match l with
           | [] ->
               Obj.magic
                 (Obj.repr
                    (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> [])))
           | (k, v)::q ->
               Obj.magic
                 (Obj.repr
                    (let uu___ = term_dict_assoc key q in
                     FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2781)) (Prims.of_int (13))
                                (Prims.of_int (2781)) (Prims.of_int (34)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2782)) (Prims.of_int (4))
                                (Prims.of_int (2784)) (Prims.of_int (11)))))
                       (Obj.magic uu___)
                       (fun uu___1 ->
                          (fun q' ->
                             let uu___1 =
                               FStarC_Tactics_V2_Builtins.term_eq_old k key in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2782))
                                           (Prims.of_int (7))
                                           (Prims.of_int (2782))
                                           (Prims.of_int (26)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2782))
                                           (Prims.of_int (4))
                                           (Prims.of_int (2784))
                                           (Prims.of_int (11)))))
                                  (Obj.magic uu___1)
                                  (fun uu___2 ->
                                     FStar_Tactics_Effect.lift_div_tac
                                       (fun uu___3 ->
                                          if uu___2 then v :: q' else q'))))
                            uu___1)))) uu___1 uu___
let (solve_or_delay :
  (FStar_Tactics_NamedView.term *
    (unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)) Prims.list ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun dict ->
    let uu___ = FStarC_Tactics_V2_Builtins.norm [] in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2789)) (Prims.of_int (2)) (Prims.of_int (2789))
               (Prims.of_int (9)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2789)) (Prims.of_int (10))
               (Prims.of_int (2824)) (Prims.of_int (14))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            let uu___2 =
              let uu___3 = FStar_Tactics_V2_Derived.cur_goal () in
              FStar_Tactics_Effect.tac_bind
                (FStar_Sealed.seal
                   (Obj.magic
                      (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                         (Prims.of_int (2790)) (Prims.of_int (27))
                         (Prims.of_int (2790)) (Prims.of_int (40)))))
                (FStar_Sealed.seal
                   (Obj.magic
                      (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                         (Prims.of_int (2790)) (Prims.of_int (10))
                         (Prims.of_int (2790)) (Prims.of_int (40)))))
                (Obj.magic uu___3)
                (fun uu___4 ->
                   (fun uu___4 ->
                      Obj.magic
                        (FStar_Reflection_V2_Formula.term_as_formula' uu___4))
                     uu___4) in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2790)) (Prims.of_int (10))
                          (Prims.of_int (2790)) (Prims.of_int (40)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2791)) (Prims.of_int (2))
                          (Prims.of_int (2824)) (Prims.of_int (14)))))
                 (Obj.magic uu___2)
                 (fun uu___3 ->
                    (fun f ->
                       match f with
                       | FStar_Reflection_V2_Formula.App (hd0, t) ->
                           Obj.magic
                             (Obj.repr
                                (if
                                   FStar_Reflection_V2_Derived.is_fvar hd0
                                     "Prims.squash"
                                 then
                                   Obj.repr
                                     (let uu___3 =
                                        FStar_Tactics_V2_SyntaxHelpers.collect_app
                                          t in
                                      FStar_Tactics_Effect.tac_bind
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (2795))
                                                 (Prims.of_int (21))
                                                 (Prims.of_int (2795))
                                                 (Prims.of_int (34)))))
                                        (FStar_Sealed.seal
                                           (Obj.magic
                                              (FStar_Range.mk_range
                                                 "Steel.Effect.Common.fsti"
                                                 (Prims.of_int (2794))
                                                 (Prims.of_int (8))
                                                 (Prims.of_int (2815))
                                                 (Prims.of_int (11)))))
                                        (Obj.magic uu___3)
                                        (fun uu___4 ->
                                           (fun uu___4 ->
                                              match uu___4 with
                                              | (hd, args) ->
                                                  if
                                                    FStar_Reflection_V2_Derived.is_fvar
                                                      hd
                                                      "Steel.Effect.Common.can_be_split"
                                                  then
                                                    Obj.magic
                                                      (solve_can_be_split
                                                         args)
                                                  else
                                                    if
                                                      FStar_Reflection_V2_Derived.is_fvar
                                                        hd
                                                        "Steel.Effect.Common.can_be_split_forall"
                                                    then
                                                      Obj.magic
                                                        (solve_can_be_split_forall
                                                           args)
                                                    else
                                                      if
                                                        FStar_Reflection_V2_Derived.is_fvar
                                                          hd
                                                          "Steel.Effect.Common.equiv_forall"
                                                      then
                                                        Obj.magic
                                                          (solve_equiv_forall
                                                             args)
                                                      else
                                                        if
                                                          FStar_Reflection_V2_Derived.is_fvar
                                                            hd
                                                            "Steel.Effect.Common.can_be_split_post"
                                                        then
                                                          Obj.magic
                                                            (solve_can_be_split_post
                                                               args)
                                                        else
                                                          if
                                                            FStar_Reflection_V2_Derived.is_fvar
                                                              hd
                                                              "Steel.Effect.Common.equiv"
                                                          then
                                                            Obj.magic
                                                              (solve_equiv
                                                                 args)
                                                          else
                                                            if
                                                              FStar_Reflection_V2_Derived.is_fvar
                                                                hd
                                                                "Steel.Effect.Common.can_be_split_dep"
                                                            then
                                                              Obj.magic
                                                                (solve_can_be_split_dep
                                                                   args)
                                                            else
                                                              if
                                                                FStar_Reflection_V2_Derived.is_fvar
                                                                  hd
                                                                  "Steel.Effect.Common.can_be_split_forall_dep"
                                                              then
                                                                Obj.magic
                                                                  (solve_can_be_split_forall_dep
                                                                    args)
                                                              else
                                                                (let uu___12
                                                                   =
                                                                   term_dict_assoc
                                                                    hd dict in
                                                                 Obj.magic
                                                                   (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2804))
                                                                    (Prims.of_int (25))
                                                                    (Prims.of_int (2804))
                                                                    (Prims.of_int (48)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2804))
                                                                    (Prims.of_int (51))
                                                                    (Prims.of_int (2815))
                                                                    (Prims.of_int (11)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun
                                                                    candidates
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    fun tac
                                                                    ->
                                                                    fun
                                                                    uu___15
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.focus
                                                                    tac)) in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2806))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2806))
                                                                    (Prims.of_int (19)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2808))
                                                                    (Prims.of_int (14))
                                                                    (Prims.of_int (2814))
                                                                    (Prims.of_int (20)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    run_tac
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.try_with
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    match ()
                                                                    with
                                                                    | 
                                                                    () ->
                                                                    FStar_Tactics_V2_Derived.first
                                                                    (FStar_List_Tot_Base.map
                                                                    run_tac
                                                                    candidates))
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    let uu___16
                                                                    =
                                                                    let uu___17
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.free_uvars
                                                                    t in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (29))
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (43)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    ->
                                                                    FStar_List_Tot_Base.length
                                                                    uu___18)) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (43)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (47)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    uu___17 =
                                                                    Prims.int_zero)) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (47)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2812))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (2814))
                                                                    (Prims.of_int (20)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    if
                                                                    uu___16
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Derived.smt
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2813))
                                                                    (Prims.of_int (16))
                                                                    (Prims.of_int (2813))
                                                                    (Prims.of_int (22)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2813))
                                                                    (Prims.of_int (24))
                                                                    (Prims.of_int (2813))
                                                                    (Prims.of_int (28)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___19
                                                                    -> true))))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___18
                                                                    -> false))))
                                                                    uu___16))))
                                                                    uu___14)))
                                                                    uu___13))))
                                             uu___4))
                                 else
                                   Obj.repr
                                     (FStar_Tactics_Effect.lift_div_tac
                                        (fun uu___4 -> false))))
                       | FStar_Reflection_V2_Formula.Comp
                           (FStar_Reflection_V2_Formula.Eq uu___3, l, r) ->
                           Obj.magic
                             (Obj.repr
                                (let uu___4 =
                                   let uu___5 =
                                     FStarC_Tactics_V2_Builtins.free_uvars l in
                                   FStar_Tactics_Effect.tac_bind
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (2820))
                                              (Prims.of_int (31))
                                              (Prims.of_int (2820))
                                              (Prims.of_int (45)))))
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (2820))
                                              (Prims.of_int (15))
                                              (Prims.of_int (2820))
                                              (Prims.of_int (45)))))
                                     (Obj.magic uu___5)
                                     (fun uu___6 ->
                                        FStar_Tactics_Effect.lift_div_tac
                                          (fun uu___7 ->
                                             FStar_List_Tot_Base.length
                                               uu___6)) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2820))
                                            (Prims.of_int (15))
                                            (Prims.of_int (2820))
                                            (Prims.of_int (45)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2820))
                                            (Prims.of_int (48))
                                            (Prims.of_int (2823))
                                            (Prims.of_int (60)))))
                                   (Obj.magic uu___4)
                                   (fun uu___5 ->
                                      (fun lnbr ->
                                         let uu___5 =
                                           let uu___6 =
                                             FStarC_Tactics_V2_Builtins.free_uvars
                                               r in
                                           FStar_Tactics_Effect.tac_bind
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2821))
                                                      (Prims.of_int (31))
                                                      (Prims.of_int (2821))
                                                      (Prims.of_int (45)))))
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2821))
                                                      (Prims.of_int (15))
                                                      (Prims.of_int (2821))
                                                      (Prims.of_int (45)))))
                                             (Obj.magic uu___6)
                                             (fun uu___7 ->
                                                FStar_Tactics_Effect.lift_div_tac
                                                  (fun uu___8 ->
                                                     FStar_List_Tot_Base.length
                                                       uu___7)) in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2821))
                                                       (Prims.of_int (15))
                                                       (Prims.of_int (2821))
                                                       (Prims.of_int (45)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2823))
                                                       (Prims.of_int (4))
                                                       (Prims.of_int (2823))
                                                       (Prims.of_int (60)))))
                                              (Obj.magic uu___5)
                                              (fun uu___6 ->
                                                 (fun rnbr ->
                                                    if
                                                      (lnbr = Prims.int_zero)
                                                        ||
                                                        (rnbr =
                                                           Prims.int_zero)
                                                    then
                                                      Obj.magic
                                                        (Obj.repr
                                                           (let uu___6 =
                                                              FStar_Tactics_V2_Derived.trefl
                                                                () in
                                                            FStar_Tactics_Effect.tac_bind
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2823))
                                                                    (Prims.of_int (34))
                                                                    (Prims.of_int (2823))
                                                                    (Prims.of_int (42)))))
                                                              (FStar_Sealed.seal
                                                                 (Obj.magic
                                                                    (
                                                                    FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2823))
                                                                    (Prims.of_int (44))
                                                                    (Prims.of_int (2823))
                                                                    (Prims.of_int (48)))))
                                                              (Obj.magic
                                                                 uu___6)
                                                              (fun uu___7 ->
                                                                 FStar_Tactics_Effect.lift_div_tac
                                                                   (fun
                                                                    uu___8 ->
                                                                    true))))
                                                    else
                                                      Obj.magic
                                                        (Obj.repr
                                                           (FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___7 ->
                                                                 false))))
                                                   uu___6))) uu___5)))
                       | uu___3 ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___4 -> false)))) uu___3))) uu___1)
let rec (vprop_term_uvars :
  FStar_Tactics_NamedView.term ->
    (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.inspect_unascribe t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2831)) (Prims.of_int (8)) (Prims.of_int (2831))
               (Prims.of_int (27)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2831)) (Prims.of_int (2)) (Prims.of_int (2841))
               (Prims.of_int (11))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | FStar_Tactics_NamedView.Tv_Uvar (i', uu___2) ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> [i'])))
            | FStar_Tactics_NamedView.Tv_App (uu___2, uu___3) ->
                Obj.magic
                  (Obj.repr
                     (let uu___4 =
                        FStar_Tactics_V2_SyntaxHelpers.collect_app t in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2834)) (Prims.of_int (19))
                                 (Prims.of_int (2834)) (Prims.of_int (32)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2833)) (Prims.of_int (17))
                                 (Prims.of_int (2839)) (Prims.of_int (25)))))
                        (Obj.magic uu___4)
                        (fun uu___5 ->
                           (fun uu___5 ->
                              match uu___5 with
                              | (hd, args) ->
                                  if is_star_or_unit hd
                                  then Obj.magic (argv_uvars args)
                                  else Obj.magic (vprop_term_uvars hd))
                             uu___5)))
            | FStar_Tactics_NamedView.Tv_Abs (uu___2, t1) ->
                Obj.magic (Obj.repr (vprop_term_uvars t1))
            | uu___2 ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> []))))
           uu___1)
and (argv_uvars :
  FStarC_Reflection_V2_Data.argv Prims.list ->
    (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun args ->
    let uu___ =
      FStar_Tactics_Util.fold_left
        (fun uu___2 ->
           fun uu___1 ->
             (fun n ->
                fun uu___1 ->
                  Obj.magic
                    (FStar_Tactics_Effect.lift_div_tac
                       (fun uu___2 ->
                          match uu___1 with
                          | (x, uu___3) ->
                              (fun uu___4 ->
                                 let uu___5 = n () in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2847))
                                            (Prims.of_int (17))
                                            (Prims.of_int (2847))
                                            (Prims.of_int (21)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2847))
                                            (Prims.of_int (24))
                                            (Prims.of_int (2849))
                                            (Prims.of_int (31)))))
                                   (Obj.magic uu___5)
                                   (fun uu___6 ->
                                      (fun l1 ->
                                         let uu___6 = vprop_term_uvars x in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2848))
                                                       (Prims.of_int (17))
                                                       (Prims.of_int (2848))
                                                       (Prims.of_int (35)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2849))
                                                       (Prims.of_int (8))
                                                       (Prims.of_int (2849))
                                                       (Prims.of_int (31)))))
                                              (Obj.magic uu___6)
                                              (fun l2 ->
                                                 FStar_Tactics_Effect.lift_div_tac
                                                   (fun uu___7 ->
                                                      FStar_List_Tot_Base.append
                                                        l1 l2)))) uu___6)))))
               uu___2 uu___1)
        (fun uu___1 ->
           (fun uu___1 ->
              Obj.magic
                (FStar_Tactics_Effect.lift_div_tac (fun uu___2 -> [])))
             uu___1) args in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2845)) (Prims.of_int (4)) (Prims.of_int (2854))
               (Prims.of_int (8)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2856)) (Prims.of_int (2)) (Prims.of_int (2856))
               (Prims.of_int (6))))) (Obj.magic uu___)
      (fun uu___1 -> (fun t -> Obj.magic (t ())) uu___1)
let rec remove_dups_from_sorted : 't . 't Prims.list -> 't Prims.list =
  fun l ->
    match l with
    | [] -> l
    | uu___::[] -> l
    | a1::a2::q ->
        if a1 = a2
        then remove_dups_from_sorted (a2 :: q)
        else a1 :: (remove_dups_from_sorted (a2 :: q))
let (simplify_list : Prims.int Prims.list -> Prims.int Prims.list) =
  fun l ->
    remove_dups_from_sorted
      (FStar_List_Tot_Base.sortWith (FStar_List_Tot_Base.compare_of_bool (<))
         l)
let (goal_term_uvars :
  FStar_Tactics_NamedView.term ->
    (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2866)) (Prims.of_int (15))
               (Prims.of_int (2866)) (Prims.of_int (28)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2865)) (Prims.of_int (48))
               (Prims.of_int (2875)) (Prims.of_int (6))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | (hd, tl) ->
                if FStar_Reflection_V2_Derived.is_fvar hd "Prims.squash"
                then
                  Obj.magic
                    (Obj.repr
                       (match tl with
                        | (tl0, FStarC_Reflection_V2_Data.Q_Explicit)::[] ->
                            let uu___2 =
                              FStar_Tactics_V2_SyntaxHelpers.collect_app tl0 in
                            FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2871))
                                       (Prims.of_int (19))
                                       (Prims.of_int (2871))
                                       (Prims.of_int (34)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2870))
                                       (Prims.of_int (26))
                                       (Prims.of_int (2872))
                                       (Prims.of_int (36)))))
                              (Obj.magic uu___2)
                              (fun uu___3 ->
                                 (fun uu___3 ->
                                    match uu___3 with
                                    | (uu___4, tl1) ->
                                        let uu___5 = argv_uvars tl1 in
                                        Obj.magic
                                          (FStar_Tactics_Effect.tac_bind
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2872))
                                                      (Prims.of_int (20))
                                                      (Prims.of_int (2872))
                                                      (Prims.of_int (36)))))
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2872))
                                                      (Prims.of_int (6))
                                                      (Prims.of_int (2872))
                                                      (Prims.of_int (36)))))
                                             (Obj.magic uu___5)
                                             (fun uu___6 ->
                                                FStar_Tactics_Effect.lift_div_tac
                                                  (fun uu___7 ->
                                                     simplify_list uu___6))))
                                   uu___3)
                        | uu___2 ->
                            let uu___3 =
                              FStarC_Tactics_V2_Builtins.dump
                                "ill-formed squash" in
                            FStar_Tactics_Effect.tac_bind
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2873))
                                       (Prims.of_int (11))
                                       (Prims.of_int (2873))
                                       (Prims.of_int (35)))))
                              (FStar_Sealed.seal
                                 (Obj.magic
                                    (FStar_Range.mk_range
                                       "Steel.Effect.Common.fsti"
                                       (Prims.of_int (2873))
                                       (Prims.of_int (37))
                                       (Prims.of_int (2873))
                                       (Prims.of_int (39)))))
                              (Obj.magic uu___3)
                              (fun uu___4 ->
                                 FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___5 -> []))))
                else
                  Obj.magic
                    (Obj.repr
                       (FStar_Tactics_Effect.lift_div_tac (fun uu___3 -> []))))
           uu___1)
let rec (merge_sorted :
  Prims.int Prims.list -> Prims.int Prims.list -> Prims.int Prims.list) =
  fun l1 ->
    fun l2 ->
      match l1 with
      | [] -> l2
      | a1::q1 ->
          (match l2 with
           | [] -> l1
           | a2::q2 ->
               if a1 < a2
               then a1 :: (merge_sorted q1 l2)
               else
                 if a2 < a1
                 then a2 :: (merge_sorted l1 q2)
                 else a1 :: (merge_sorted q1 q2))
let rec (sorted_lists_intersect :
  Prims.int Prims.list -> Prims.int Prims.list -> Prims.bool) =
  fun l1 ->
    fun l2 ->
      match l1 with
      | [] -> false
      | a1::q1 ->
          (match l2 with
           | [] -> false
           | a2::q2 ->
               if a1 = a2
               then true
               else
                 if a1 < a2
                 then sorted_lists_intersect q1 l2
                 else sorted_lists_intersect l1 q2)
let rec (compute_guarded_uvars1 :
  Prims.int Prims.list ->
    FStarC_Tactics_Types.goal Prims.list ->
      (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun accu ->
         fun g ->
           match g with
           | [] ->
               Obj.magic
                 (Obj.repr
                    (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> accu)))
           | a::q ->
               Obj.magic
                 (Obj.repr
                    (let uu___ =
                       Obj.magic
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___1 -> FStarC_Tactics_Types.goal_type a)) in
                     FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2913)) (Prims.of_int (12))
                                (Prims.of_int (2913)) (Prims.of_int (23)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2913)) (Prims.of_int (26))
                                (Prims.of_int (2919)) (Prims.of_int (34)))))
                       (Obj.magic uu___)
                       (fun uu___1 ->
                          (fun t ->
                             let uu___1 =
                               let uu___2 = all_guards_solved t in
                               FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (2915))
                                          (Prims.of_int (9))
                                          (Prims.of_int (2915))
                                          (Prims.of_int (28)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (2915))
                                          (Prims.of_int (6))
                                          (Prims.of_int (2917))
                                          (Prims.of_int (48)))))
                                 (Obj.magic uu___2)
                                 (fun uu___3 ->
                                    (fun uu___3 ->
                                       if uu___3
                                       then
                                         Obj.magic
                                           (Obj.repr
                                              (FStar_Tactics_Effect.lift_div_tac
                                                 (fun uu___4 -> accu)))
                                       else
                                         Obj.magic
                                           (Obj.repr
                                              (let uu___5 = goal_term_uvars t in
                                               FStar_Tactics_Effect.tac_bind
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (2917))
                                                          (Prims.of_int (29))
                                                          (Prims.of_int (2917))
                                                          (Prims.of_int (48)))))
                                                 (FStar_Sealed.seal
                                                    (Obj.magic
                                                       (FStar_Range.mk_range
                                                          "Steel.Effect.Common.fsti"
                                                          (Prims.of_int (2917))
                                                          (Prims.of_int (11))
                                                          (Prims.of_int (2917))
                                                          (Prims.of_int (48)))))
                                                 (Obj.magic uu___5)
                                                 (fun uu___6 ->
                                                    FStar_Tactics_Effect.lift_div_tac
                                                      (fun uu___7 ->
                                                         merge_sorted accu
                                                           uu___6))))) uu___3) in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2915))
                                           (Prims.of_int (6))
                                           (Prims.of_int (2917))
                                           (Prims.of_int (48)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2919))
                                           (Prims.of_int (4))
                                           (Prims.of_int (2919))
                                           (Prims.of_int (34)))))
                                  (Obj.magic uu___1)
                                  (fun uu___2 ->
                                     (fun accu' ->
                                        Obj.magic
                                          (compute_guarded_uvars1 accu' q))
                                       uu___2))) uu___1)))) uu___1 uu___
let rec (compute_guarded_uvars2 :
  Prims.int Prims.list ->
    FStarC_Tactics_Types.goal Prims.list ->
      (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun accu ->
         fun g ->
           match g with
           | [] ->
               Obj.magic
                 (Obj.repr
                    (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> accu)))
           | a::q ->
               Obj.magic
                 (Obj.repr
                    (let uu___ =
                       Obj.magic
                         (FStar_Tactics_Effect.lift_div_tac
                            (fun uu___1 -> FStarC_Tactics_Types.goal_type a)) in
                     FStar_Tactics_Effect.tac_bind
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2926)) (Prims.of_int (12))
                                (Prims.of_int (2926)) (Prims.of_int (23)))))
                       (FStar_Sealed.seal
                          (Obj.magic
                             (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                                (Prims.of_int (2926)) (Prims.of_int (26))
                                (Prims.of_int (2933)) (Prims.of_int (34)))))
                       (Obj.magic uu___)
                       (fun uu___1 ->
                          (fun t ->
                             let uu___1 = goal_term_uvars t in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2927))
                                           (Prims.of_int (12))
                                           (Prims.of_int (2927))
                                           (Prims.of_int (29)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (2927))
                                           (Prims.of_int (32))
                                           (Prims.of_int (2933))
                                           (Prims.of_int (34)))))
                                  (Obj.magic uu___1)
                                  (fun uu___2 ->
                                     (fun l ->
                                        let uu___2 =
                                          Obj.magic
                                            (FStar_Tactics_Effect.lift_div_tac
                                               (fun uu___3 ->
                                                  if
                                                    sorted_lists_intersect
                                                      accu l
                                                  then merge_sorted accu l
                                                  else accu)) in
                                        Obj.magic
                                          (FStar_Tactics_Effect.tac_bind
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2929))
                                                      (Prims.of_int (6))
                                                      (Prims.of_int (2931))
                                                      (Prims.of_int (15)))))
                                             (FStar_Sealed.seal
                                                (Obj.magic
                                                   (FStar_Range.mk_range
                                                      "Steel.Effect.Common.fsti"
                                                      (Prims.of_int (2933))
                                                      (Prims.of_int (4))
                                                      (Prims.of_int (2933))
                                                      (Prims.of_int (34)))))
                                             (Obj.magic uu___2)
                                             (fun uu___3 ->
                                                (fun accu' ->
                                                   Obj.magic
                                                     (compute_guarded_uvars2
                                                        accu' q)) uu___3)))
                                       uu___2))) uu___1)))) uu___1 uu___
let rec (compute_guarded_uvars3 :
  Prims.int Prims.list ->
    FStarC_Tactics_Types.goal Prims.list ->
      (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun accu ->
    fun g ->
      let uu___ = compute_guarded_uvars2 accu g in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2936)) (Prims.of_int (14))
                 (Prims.of_int (2936)) (Prims.of_int (43)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (2937)) (Prims.of_int (2))
                 (Prims.of_int (2939)) (Prims.of_int (37)))))
        (Obj.magic uu___)
        (fun uu___1 ->
           (fun accu' ->
              if accu = accu'
              then
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___1 -> accu)))
              else Obj.magic (Obj.repr (compute_guarded_uvars3 accu' g)))
             uu___1)
let (compute_guarded_uvars :
  unit -> (Prims.int Prims.list, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 = FStar_Tactics_V2_Derived.goals () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2942)) (Prims.of_int (10))
               (Prims.of_int (2942)) (Prims.of_int (18)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2942)) (Prims.of_int (21))
               (Prims.of_int (2944)) (Prims.of_int (31)))))
      (Obj.magic uu___1)
      (fun uu___2 ->
         (fun g ->
            let uu___2 = compute_guarded_uvars1 [] g in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2943)) (Prims.of_int (13))
                          (Prims.of_int (2943)) (Prims.of_int (40)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (2944)) (Prims.of_int (2))
                          (Prims.of_int (2944)) (Prims.of_int (31)))))
                 (Obj.magic uu___2)
                 (fun uu___3 ->
                    (fun accu -> Obj.magic (compute_guarded_uvars3 accu g))
                      uu___3))) uu___2)
let rec (pick_next :
  Prims.int Prims.list ->
    (FStar_Tactics_NamedView.term *
      (unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)) Prims.list
      -> Prims.nat -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___2 ->
    fun uu___1 ->
      fun uu___ ->
        (fun guarded_uvars ->
           fun dict ->
             fun fuel ->
               if fuel = Prims.int_zero
               then
                 Obj.magic
                   (Obj.repr
                      (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> false)))
               else
                 Obj.magic
                   (Obj.repr
                      (let uu___1 = FStar_Tactics_V2_Derived.goals () in
                       FStar_Tactics_Effect.tac_bind
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (2949)) (Prims.of_int (13))
                                  (Prims.of_int (2949)) (Prims.of_int (21)))))
                         (FStar_Sealed.seal
                            (Obj.magic
                               (FStar_Range.mk_range
                                  "Steel.Effect.Common.fsti"
                                  (Prims.of_int (2949)) (Prims.of_int (7))
                                  (Prims.of_int (2962)) (Prims.of_int (16)))))
                         (Obj.magic uu___1)
                         (fun uu___2 ->
                            (fun uu___2 ->
                               match uu___2 with
                               | [] ->
                                   Obj.magic
                                     (Obj.repr
                                        (FStar_Tactics_Effect.lift_div_tac
                                           (fun uu___3 -> true)))
                               | a::uu___3 ->
                                   Obj.magic
                                     (Obj.repr
                                        (let uu___4 =
                                           Obj.magic
                                             (FStar_Tactics_Effect.lift_div_tac
                                                (fun uu___5 ->
                                                   FStarC_Tactics_Types.goal_type
                                                     a)) in
                                         FStar_Tactics_Effect.tac_bind
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (2952))
                                                    (Prims.of_int (12))
                                                    (Prims.of_int (2952))
                                                    (Prims.of_int (23)))))
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (2952))
                                                    (Prims.of_int (26))
                                                    (Prims.of_int (2962))
                                                    (Prims.of_int (16)))))
                                           (Obj.magic uu___4)
                                           (fun uu___5 ->
                                              (fun t ->
                                                 let uu___5 =
                                                   goal_term_uvars t in
                                                 Obj.magic
                                                   (FStar_Tactics_Effect.tac_bind
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (2953))
                                                               (Prims.of_int (12))
                                                               (Prims.of_int (2953))
                                                               (Prims.of_int (29)))))
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (2953))
                                                               (Prims.of_int (32))
                                                               (Prims.of_int (2962))
                                                               (Prims.of_int (16)))))
                                                      (Obj.magic uu___5)
                                                      (fun uu___6 ->
                                                         (fun l ->
                                                            let uu___6 =
                                                              Obj.magic
                                                                (FStar_Tactics_Effect.lift_div_tac
                                                                   (fun
                                                                    uu___7 ->
                                                                    fun
                                                                    uu___8 ->
                                                                    let uu___9
                                                                    =
                                                                    FStar_Tactics_V2_Derived.later
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2955))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2955))
                                                                    (Prims.of_int (14)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2956))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2956))
                                                                    (Prims.of_int (45)))))
                                                                    (Obj.magic
                                                                    uu___9)
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    (fun
                                                                    uu___10
                                                                    ->
                                                                    Obj.magic
                                                                    (pick_next
                                                                    guarded_uvars
                                                                    dict
                                                                    (fuel -
                                                                    Prims.int_one)))
                                                                    uu___10))) in
                                                            Obj.magic
                                                              (FStar_Tactics_Effect.tac_bind
                                                                 (FStar_Sealed.seal
                                                                    (
                                                                    Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2955))
                                                                    (Prims.of_int (6))
                                                                    (Prims.of_int (2956))
                                                                    (Prims.of_int (45)))))
                                                                 (FStar_Sealed.seal
                                                                    (
                                                                    Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2958))
                                                                    (Prims.of_int (4))
                                                                    (Prims.of_int (2962))
                                                                    (Prims.of_int (16)))))
                                                                 (Obj.magic
                                                                    uu___6)
                                                                 (fun uu___7
                                                                    ->
                                                                    (fun next
                                                                    ->
                                                                    if
                                                                    sorted_lists_intersect
                                                                    guarded_uvars
                                                                    l
                                                                    then
                                                                    Obj.magic
                                                                    (next ())
                                                                    else
                                                                    (let uu___8
                                                                    =
                                                                    solve_or_delay
                                                                    dict in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2960))
                                                                    (Prims.of_int (12))
                                                                    (Prims.of_int (2960))
                                                                    (Prims.of_int (31)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (2960))
                                                                    (Prims.of_int (9))
                                                                    (Prims.of_int (2962))
                                                                    (Prims.of_int (16)))))
                                                                    (Obj.magic
                                                                    uu___8)
                                                                    (fun
                                                                    uu___9 ->
                                                                    (fun
                                                                    uu___9 ->
                                                                    if uu___9
                                                                    then
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___10
                                                                    -> true)))
                                                                    else
                                                                    Obj.magic
                                                                    (Obj.repr
                                                                    (next ())))
                                                                    uu___9))))
                                                                    uu___7)))
                                                           uu___6))) uu___5))))
                              uu___2)))) uu___2 uu___1 uu___
let rec (resolve_tac :
  (FStar_Tactics_NamedView.term *
    (unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)) Prims.list ->
    (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun dict ->
    let uu___ = FStar_Tactics_V2_Derived.goals () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2967)) (Prims.of_int (8)) (Prims.of_int (2967))
               (Prims.of_int (16)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2967)) (Prims.of_int (2)) (Prims.of_int (2974))
               (Prims.of_int (63))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | [] ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___2 -> ())))
            | g ->
                Obj.magic
                  (Obj.repr
                     (let uu___2 = FStarC_Tactics_V2_Builtins.norm [] in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2970)) (Prims.of_int (4))
                                 (Prims.of_int (2970)) (Prims.of_int (11)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2970)) (Prims.of_int (12))
                                 (Prims.of_int (2974)) (Prims.of_int (63)))))
                        (Obj.magic uu___2)
                        (fun uu___3 ->
                           (fun uu___3 ->
                              let uu___4 = compute_guarded_uvars () in
                              Obj.magic
                                (FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2971))
                                            (Prims.of_int (24))
                                            (Prims.of_int (2971))
                                            (Prims.of_int (48)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2973))
                                            (Prims.of_int (4))
                                            (Prims.of_int (2974))
                                            (Prims.of_int (63)))))
                                   (Obj.magic uu___4)
                                   (fun uu___5 ->
                                      (fun guarded_uvars ->
                                         let uu___5 =
                                           pick_next guarded_uvars dict
                                             (FStar_List_Tot_Base.length g) in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2973))
                                                       (Prims.of_int (7))
                                                       (Prims.of_int (2973))
                                                       (Prims.of_int (55)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (2973))
                                                       (Prims.of_int (4))
                                                       (Prims.of_int (2974))
                                                       (Prims.of_int (63)))))
                                              (Obj.magic uu___5)
                                              (fun uu___6 ->
                                                 (fun uu___6 ->
                                                    if uu___6
                                                    then
                                                      Obj.magic
                                                        (Obj.repr
                                                           (resolve_tac dict))
                                                    else
                                                      Obj.magic
                                                        (Obj.repr
                                                           (FStar_Tactics_V2_Derived.fail
                                                              "Could not make progress, no solvable goal found")))
                                                   uu___6))) uu___5))) uu___3))))
           uu___1)
let rec (pick_next_logical :
  (FStar_Tactics_NamedView.term *
    (unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)) Prims.list ->
    Prims.nat -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___1 ->
    fun uu___ ->
      (fun dict ->
         fun fuel ->
           if fuel = Prims.int_zero
           then
             Obj.magic
               (Obj.repr
                  (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> false)))
           else
             Obj.magic
               (Obj.repr
                  (let uu___1 = FStar_Tactics_V2_Derived.goals () in
                   FStar_Tactics_Effect.tac_bind
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (2979)) (Prims.of_int (13))
                              (Prims.of_int (2979)) (Prims.of_int (21)))))
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (2979)) (Prims.of_int (7))
                              (Prims.of_int (2981)) (Prims.of_int (95)))))
                     (Obj.magic uu___1)
                     (fun uu___2 ->
                        (fun uu___2 ->
                           match uu___2 with
                           | [] ->
                               Obj.magic
                                 (Obj.repr
                                    (FStar_Tactics_Effect.lift_div_tac
                                       (fun uu___3 -> true)))
                           | uu___3::uu___4 ->
                               Obj.magic
                                 (Obj.repr
                                    (let uu___5 = solve_or_delay dict in
                                     FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (2981))
                                                (Prims.of_int (15))
                                                (Prims.of_int (2981))
                                                (Prims.of_int (34)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (2981))
                                                (Prims.of_int (12))
                                                (Prims.of_int (2981))
                                                (Prims.of_int (95)))))
                                       (Obj.magic uu___5)
                                       (fun uu___6 ->
                                          (fun uu___6 ->
                                             if uu___6
                                             then
                                               Obj.magic
                                                 (Obj.repr
                                                    (FStar_Tactics_Effect.lift_div_tac
                                                       (fun uu___7 -> true)))
                                             else
                                               Obj.magic
                                                 (Obj.repr
                                                    (let uu___8 =
                                                       FStar_Tactics_V2_Derived.later
                                                         () in
                                                     FStar_Tactics_Effect.tac_bind
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (2981))
                                                                (Prims.of_int (51))
                                                                (Prims.of_int (2981))
                                                                (Prims.of_int (59)))))
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (2981))
                                                                (Prims.of_int (61))
                                                                (Prims.of_int (2981))
                                                                (Prims.of_int (94)))))
                                                       (Obj.magic uu___8)
                                                       (fun uu___9 ->
                                                          (fun uu___9 ->
                                                             Obj.magic
                                                               (pick_next_logical
                                                                  dict
                                                                  (fuel -
                                                                    Prims.int_one)))
                                                            uu___9)))) uu___6))))
                          uu___2)))) uu___1 uu___
let rec (resolve_tac_logical :
  (FStar_Tactics_NamedView.term *
    (unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)) Prims.list ->
    (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun dict ->
    let uu___ = FStar_Tactics_V2_Derived.goals () in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2985)) (Prims.of_int (8)) (Prims.of_int (2985))
               (Prims.of_int (16)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2985)) (Prims.of_int (2)) (Prims.of_int (2995))
               (Prims.of_int (24))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | [] ->
                Obj.magic
                  (Obj.repr
                     (FStar_Tactics_Effect.lift_div_tac (fun uu___2 -> ())))
            | g ->
                Obj.magic
                  (Obj.repr
                     (let uu___2 =
                        Obj.magic
                          (FStar_Tactics_Effect.lift_div_tac
                             (fun uu___3 -> FStar_List_Tot_Base.length g)) in
                      FStar_Tactics_Effect.tac_bind
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2988)) (Prims.of_int (15))
                                 (Prims.of_int (2988)) (Prims.of_int (32)))))
                        (FStar_Sealed.seal
                           (Obj.magic
                              (FStar_Range.mk_range
                                 "Steel.Effect.Common.fsti"
                                 (Prims.of_int (2989)) (Prims.of_int (4))
                                 (Prims.of_int (2995)) (Prims.of_int (24)))))
                        (Obj.magic uu___2)
                        (fun uu___3 ->
                           (fun fuel ->
                              let uu___3 = pick_next_logical dict fuel in
                              Obj.magic
                                (FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2989))
                                            (Prims.of_int (7))
                                            (Prims.of_int (2989))
                                            (Prims.of_int (34)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (2989))
                                            (Prims.of_int (4))
                                            (Prims.of_int (2995))
                                            (Prims.of_int (24)))))
                                   (Obj.magic uu___3)
                                   (fun uu___4 ->
                                      (fun uu___4 ->
                                         if uu___4
                                         then
                                           Obj.magic
                                             (resolve_tac_logical dict)
                                         else Obj.magic (solve_all_eqs fuel))
                                        uu___4))) uu___3)))) uu___1)
let (typ_contains_req_ens :
  FStar_Tactics_NamedView.term ->
    (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    let uu___ = FStar_Tactics_V2_SyntaxHelpers.collect_app t in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2999)) (Prims.of_int (16))
               (Prims.of_int (2999)) (Prims.of_int (29)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (2998)) (Prims.of_int (46))
               (Prims.of_int (3000)) (Prims.of_int (73))))) (Obj.magic uu___)
      (fun uu___1 ->
         FStar_Tactics_Effect.lift_div_tac
           (fun uu___2 ->
              match uu___1 with
              | (name, uu___3) ->
                  FStar_Reflection_V2_Derived.is_any_fvar name
                    ["Steel.Effect.Common.req_t";
                    "Steel.Effect.Common.ens_t";
                    "Prims.pure_wp";
                    "Prims.pure_pre";
                    "Prims.pure_post"]))
let rec (filter_goals :
  FStarC_Tactics_Types.goal Prims.list ->
    ((FStarC_Tactics_Types.goal Prims.list * FStarC_Tactics_Types.goal
       Prims.list),
      unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    (fun l ->
       match l with
       | [] ->
           Obj.magic
             (Obj.repr
                (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ([], []))))
       | hd::tl ->
           Obj.magic
             (Obj.repr
                (let uu___ = filter_goals tl in
                 FStar_Tactics_Effect.tac_bind
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (3007)) (Prims.of_int (30))
                            (Prims.of_int (3007)) (Prims.of_int (45)))))
                   (FStar_Sealed.seal
                      (Obj.magic
                         (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                            (Prims.of_int (3006)) (Prims.of_int (13))
                            (Prims.of_int (3022)) (Prims.of_int (30)))))
                   (Obj.magic uu___)
                   (fun uu___1 ->
                      (fun uu___1 ->
                         match uu___1 with
                         | (slgoals, loggoals) ->
                             let uu___2 =
                               FStar_Reflection_V2_Formula.term_as_formula'
                                 (FStarC_Tactics_Types.goal_type hd) in
                             Obj.magic
                               (FStar_Tactics_Effect.tac_bind
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (3008))
                                           (Prims.of_int (12))
                                           (Prims.of_int (3008))
                                           (Prims.of_int (43)))))
                                  (FStar_Sealed.seal
                                     (Obj.magic
                                        (FStar_Range.mk_range
                                           "Steel.Effect.Common.fsti"
                                           (Prims.of_int (3008))
                                           (Prims.of_int (6))
                                           (Prims.of_int (3022))
                                           (Prims.of_int (30)))))
                                  (Obj.magic uu___2)
                                  (fun uu___3 ->
                                     (fun uu___3 ->
                                        match uu___3 with
                                        | FStar_Reflection_V2_Formula.Comp
                                            (FStar_Reflection_V2_Formula.Eq
                                             t, uu___4, uu___5)
                                            ->
                                            Obj.magic
                                              (Obj.repr
                                                 (if
                                                    FStar_Pervasives_Native.uu___is_Some
                                                      t
                                                  then
                                                    Obj.repr
                                                      (let uu___6 =
                                                         typ_contains_req_ens
                                                           (FStar_Pervasives_Native.__proj__Some__item__v
                                                              t) in
                                                       FStar_Tactics_Effect.tac_bind
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (3011))
                                                                  (Prims.of_int (18))
                                                                  (Prims.of_int (3011))
                                                                  (Prims.of_int (50)))))
                                                         (FStar_Sealed.seal
                                                            (Obj.magic
                                                               (FStar_Range.mk_range
                                                                  "Steel.Effect.Common.fsti"
                                                                  (Prims.of_int (3012))
                                                                  (Prims.of_int (10))
                                                                  (Prims.of_int (3017))
                                                                  (Prims.of_int (11)))))
                                                         (Obj.magic uu___6)
                                                         (fun b ->
                                                            FStar_Tactics_Effect.lift_div_tac
                                                              (fun uu___7 ->
                                                                 if b
                                                                 then
                                                                   (slgoals,
                                                                    (hd ::
                                                                    loggoals))
                                                                 else
                                                                   ((hd ::
                                                                    slgoals),
                                                                    loggoals))))
                                                  else
                                                    Obj.repr
                                                      (FStar_Tactics_Effect.lift_div_tac
                                                         (fun uu___7 ->
                                                            ((hd :: slgoals),
                                                              loggoals)))))
                                        | FStar_Reflection_V2_Formula.App
                                            (t, uu___4) ->
                                            Obj.magic
                                              (Obj.repr
                                                 (FStar_Tactics_Effect.lift_div_tac
                                                    (fun uu___5 ->
                                                       if
                                                         FStar_Reflection_V2_Derived.is_fvar
                                                           t "Prims.squash"
                                                       then
                                                         ((hd :: slgoals),
                                                           loggoals)
                                                       else
                                                         (slgoals, loggoals))))
                                        | uu___4 ->
                                            Obj.magic
                                              (Obj.repr
                                                 (FStar_Tactics_Effect.lift_div_tac
                                                    (fun uu___5 ->
                                                       (slgoals, loggoals)))))
                                       uu___3))) uu___1)))) uu___
let (is_true :
  FStar_Tactics_NamedView.term ->
    unit -> (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun t ->
    fun uu___ ->
      let uu___1 = FStar_Reflection_V2_Formula.term_as_formula t in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (3025)) (Prims.of_int (8))
                 (Prims.of_int (3025)) (Prims.of_int (25)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (3025)) (Prims.of_int (2))
                 (Prims.of_int (3027)) (Prims.of_int (31)))))
        (Obj.magic uu___1)
        (fun uu___2 ->
           (fun uu___2 ->
              match uu___2 with
              | FStar_Reflection_V2_Formula.True_ ->
                  Obj.magic
                    (Obj.repr
                       (FStar_Tactics_V2_Derived.exact
                          (FStarC_Reflection_V2_Builtins.pack_ln
                             (FStarC_Reflection_V2_Data.Tv_Const
                                FStarC_Reflection_V2_Data.C_Unit))))
              | uu___3 ->
                  Obj.magic
                    (Obj.repr
                       (FStar_Tactics_Effect.raise
                          FStar_Tactics_V2_Derived.Goal_not_trivial))) uu___2)
let rec (solve_maybe_emps :
  Prims.nat -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    (fun fuel ->
       if fuel = Prims.int_zero
       then
         Obj.magic
           (Obj.repr (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ())))
       else
         Obj.magic
           (Obj.repr
              (let uu___1 = FStar_Tactics_V2_Derived.goals () in
               FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (3035)) (Prims.of_int (13))
                          (Prims.of_int (3035)) (Prims.of_int (21)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (3035)) (Prims.of_int (7))
                          (Prims.of_int (3056)) (Prims.of_int (31)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    (fun uu___2 ->
                       match uu___2 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___3 -> ())))
                       | uu___3::uu___4 ->
                           Obj.magic
                             (Obj.repr
                                (let uu___5 =
                                   let uu___6 =
                                     FStar_Tactics_V2_Derived.cur_goal () in
                                   FStar_Tactics_Effect.tac_bind
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (3038))
                                              (Prims.of_int (29))
                                              (Prims.of_int (3038))
                                              (Prims.of_int (42)))))
                                     (FStar_Sealed.seal
                                        (Obj.magic
                                           (FStar_Range.mk_range
                                              "Steel.Effect.Common.fsti"
                                              (Prims.of_int (3038))
                                              (Prims.of_int (12))
                                              (Prims.of_int (3038))
                                              (Prims.of_int (42)))))
                                     (Obj.magic uu___6)
                                     (fun uu___7 ->
                                        (fun uu___7 ->
                                           Obj.magic
                                             (FStar_Reflection_V2_Formula.term_as_formula'
                                                uu___7)) uu___7) in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (3038))
                                            (Prims.of_int (12))
                                            (Prims.of_int (3038))
                                            (Prims.of_int (42)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (3038))
                                            (Prims.of_int (46))
                                            (Prims.of_int (3056))
                                            (Prims.of_int (31)))))
                                   (Obj.magic uu___5)
                                   (fun uu___6 ->
                                      (fun f ->
                                         let uu___6 =
                                           match f with
                                           | FStar_Reflection_V2_Formula.App
                                               (hd0, t) ->
                                               if
                                                 Prims.op_Negation
                                                   (FStar_Reflection_V2_Derived.is_fvar
                                                      hd0 "Prims.squash")
                                               then
                                                 FStar_Tactics_V2_Derived.later
                                                   ()
                                               else
                                                 (let uu___8 =
                                                    FStar_Tactics_V2_SyntaxHelpers.collect_app
                                                      t in
                                                  FStar_Tactics_Effect.tac_bind
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (3044))
                                                             (Prims.of_int (23))
                                                             (Prims.of_int (3044))
                                                             (Prims.of_int (36)))))
                                                    (FStar_Sealed.seal
                                                       (Obj.magic
                                                          (FStar_Range.mk_range
                                                             "Steel.Effect.Common.fsti"
                                                             (Prims.of_int (3043))
                                                             (Prims.of_int (10))
                                                             (Prims.of_int (3053))
                                                             (Prims.of_int (20)))))
                                                    (Obj.magic uu___8)
                                                    (fun uu___9 ->
                                                       (fun uu___9 ->
                                                          match uu___9 with
                                                          | (hd, args) ->
                                                              if
                                                                FStar_Reflection_V2_Derived.is_fvar
                                                                  hd
                                                                  "Steel.Effect.Common.maybe_emp"
                                                              then
                                                                let uu___10 =
                                                                  FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["Steel.Effect.Common.maybe_emp"];
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta;
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.simplify] in
                                                                Obj.magic
                                                                  (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3046))
                                                                    (Prims.of_int (11))
                                                                    (Prims.of_int (3046))
                                                                    (Prims.of_int (73)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3046))
                                                                    (Prims.of_int (74))
                                                                    (Prims.of_int (3048))
                                                                    (Prims.of_int (35)))))
                                                                    (Obj.magic
                                                                    uu___10)
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    let uu___12
                                                                    =
                                                                    FStar_Tactics_V2_Derived.cur_goal
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3047))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (3047))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3048))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (3048))
                                                                    (Prims.of_int (35)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun g ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (is_true
                                                                    g)
                                                                    FStar_Tactics_V2_Derived.trefl))
                                                                    uu___13)))
                                                                    uu___11))
                                                              else
                                                                if
                                                                  FStar_Reflection_V2_Derived.is_fvar
                                                                    hd
                                                                    "Steel.Effect.Common.maybe_emp_dep"
                                                                then
                                                                  (let uu___11
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [
                                                                    FStar_Pervasives.delta_only
                                                                    ["Steel.Effect.Common.maybe_emp_dep"];
                                                                    FStar_Pervasives.iota;
                                                                    FStar_Pervasives.zeta;
                                                                    FStar_Pervasives.primops;
                                                                    FStar_Pervasives.simplify] in
                                                                   Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3050))
                                                                    (Prims.of_int (11))
                                                                    (Prims.of_int (3050))
                                                                    (Prims.of_int (77)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3050))
                                                                    (Prims.of_int (78))
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (75)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    FStar_Tactics_V2_Derived.cur_goal
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3051))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (3051))
                                                                    (Prims.of_int (29)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (10))
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (75)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun g ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.or_else
                                                                    (is_true
                                                                    g)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    let uu___16
                                                                    =
                                                                    FStar_Tactics_V2_Logic.forall_intro
                                                                    () in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (47))
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (64)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (40))
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (64)))))
                                                                    (Obj.magic
                                                                    uu___16)
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___18
                                                                    -> ())) in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (40))
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (64)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (66))
                                                                    (Prims.of_int (3052))
                                                                    (Prims.of_int (74)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.trefl
                                                                    ()))
                                                                    uu___16))))
                                                                    uu___14)))
                                                                    uu___12)))
                                                                else
                                                                  Obj.magic
                                                                    (
                                                                    FStar_Tactics_V2_Derived.later
                                                                    ()))
                                                         uu___9))
                                           | uu___7 ->
                                               FStar_Tactics_V2_Derived.later
                                                 () in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (3038))
                                                       (Prims.of_int (46))
                                                       (Prims.of_int (3055))
                                                       (Prims.of_int (5)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (3056))
                                                       (Prims.of_int (4))
                                                       (Prims.of_int (3056))
                                                       (Prims.of_int (31)))))
                                              (Obj.magic uu___6)
                                              (fun uu___7 ->
                                                 (fun uu___7 ->
                                                    Obj.magic
                                                      (solve_maybe_emps
                                                         (fuel -
                                                            Prims.int_one)))
                                                   uu___7))) uu___6))))
                      uu___2)))) uu___
let rec (norm_return_pre :
  Prims.nat -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    (fun fuel ->
       if fuel = Prims.int_zero
       then
         Obj.magic
           (Obj.repr (FStar_Tactics_Effect.lift_div_tac (fun uu___ -> ())))
       else
         Obj.magic
           (Obj.repr
              (let uu___1 = FStar_Tactics_V2_Derived.goals () in
               FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (3062)) (Prims.of_int (13))
                          (Prims.of_int (3062)) (Prims.of_int (21)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (3062)) (Prims.of_int (7))
                          (Prims.of_int (3064)) (Prims.of_int (81)))))
                 (Obj.magic uu___1)
                 (fun uu___2 ->
                    (fun uu___2 ->
                       match uu___2 with
                       | [] ->
                           Obj.magic
                             (Obj.repr
                                (FStar_Tactics_Effect.lift_div_tac
                                   (fun uu___3 -> ())))
                       | uu___3::uu___4 ->
                           Obj.magic
                             (Obj.repr
                                (let uu___5 =
                                   FStarC_Tactics_V2_Builtins.norm
                                     [FStar_Pervasives.delta_only
                                        ["Steel.Effect.Common.return_pre"]] in
                                 FStar_Tactics_Effect.tac_bind
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (3064))
                                            (Prims.of_int (12))
                                            (Prims.of_int (3064))
                                            (Prims.of_int (44)))))
                                   (FStar_Sealed.seal
                                      (Obj.magic
                                         (FStar_Range.mk_range
                                            "Steel.Effect.Common.fsti"
                                            (Prims.of_int (3064))
                                            (Prims.of_int (46))
                                            (Prims.of_int (3064))
                                            (Prims.of_int (81)))))
                                   (Obj.magic uu___5)
                                   (fun uu___6 ->
                                      (fun uu___6 ->
                                         let uu___7 =
                                           FStar_Tactics_V2_Derived.later () in
                                         Obj.magic
                                           (FStar_Tactics_Effect.tac_bind
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (3064))
                                                       (Prims.of_int (46))
                                                       (Prims.of_int (3064))
                                                       (Prims.of_int (53)))))
                                              (FStar_Sealed.seal
                                                 (Obj.magic
                                                    (FStar_Range.mk_range
                                                       "Steel.Effect.Common.fsti"
                                                       (Prims.of_int (3064))
                                                       (Prims.of_int (55))
                                                       (Prims.of_int (3064))
                                                       (Prims.of_int (81)))))
                                              (Obj.magic uu___7)
                                              (fun uu___8 ->
                                                 (fun uu___8 ->
                                                    Obj.magic
                                                      (norm_return_pre
                                                         (fuel -
                                                            Prims.int_one)))
                                                   uu___8))) uu___6))))
                      uu___2)))) uu___
let (print_goal :
  FStarC_Tactics_Types.goal ->
    (Prims.string, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun g ->
    let uu___ =
      Obj.magic
        (FStar_Tactics_Effect.lift_div_tac
           (fun uu___1 -> FStarC_Tactics_Types.goal_type g)) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3067)) (Prims.of_int (10))
               (Prims.of_int (3067)) (Prims.of_int (21)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3068)) (Prims.of_int (2)) (Prims.of_int (3068))
               (Prims.of_int (18))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun t -> Obj.magic (FStarC_Tactics_V2_Builtins.term_to_string t))
           uu___1)
let (print_goals :
  FStarC_Tactics_Types.goal Prims.list ->
    (Prims.string, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun g ->
    let uu___ = FStar_Tactics_Util.map print_goal g in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3071)) (Prims.of_int (13))
               (Prims.of_int (3071)) (Prims.of_int (29)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3072)) (Prims.of_int (2)) (Prims.of_int (3072))
               (Prims.of_int (25))))) (Obj.magic uu___)
      (fun strs ->
         FStar_Tactics_Effect.lift_div_tac
           (fun uu___1 -> FStar_String.concat "\n" strs))
let (init_resolve_tac' :
  (FStar_Tactics_NamedView.term *
    (unit -> (Prims.bool, unit) FStar_Tactics_Effect.tac_repr)) Prims.list ->
    (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun dict ->
    let uu___ =
      let uu___1 = FStar_Tactics_V2_Derived.goals () in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (3082)) (Prims.of_int (33))
                 (Prims.of_int (3082)) (Prims.of_int (42)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (3082)) (Prims.of_int (20))
                 (Prims.of_int (3082)) (Prims.of_int (42)))))
        (Obj.magic uu___1)
        (fun uu___2 -> (fun uu___2 -> Obj.magic (filter_goals uu___2)) uu___2) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3082)) (Prims.of_int (20))
               (Prims.of_int (3082)) (Prims.of_int (42)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3079)) (Prims.of_int (44))
               (Prims.of_int (3115)) (Prims.of_int (26))))) (Obj.magic uu___)
      (fun uu___1 ->
         (fun uu___1 ->
            match uu___1 with
            | (slgs, loggs) ->
                let uu___2 = FStarC_Tactics_V2_Builtins.set_goals slgs in
                Obj.magic
                  (FStar_Tactics_Effect.tac_bind
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (3086)) (Prims.of_int (2))
                              (Prims.of_int (3086)) (Prims.of_int (16)))))
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (3089)) (Prims.of_int (2))
                              (Prims.of_int (3115)) (Prims.of_int (26)))))
                     (Obj.magic uu___2)
                     (fun uu___3 ->
                        (fun uu___3 ->
                           let uu___4 =
                             let uu___5 =
                               let uu___6 = FStar_Tactics_V2_Derived.goals () in
                               FStar_Tactics_Effect.tac_bind
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (3089))
                                          (Prims.of_int (36))
                                          (Prims.of_int (3089))
                                          (Prims.of_int (46)))))
                                 (FStar_Sealed.seal
                                    (Obj.magic
                                       (FStar_Range.mk_range
                                          "Steel.Effect.Common.fsti"
                                          (Prims.of_int (3089))
                                          (Prims.of_int (19))
                                          (Prims.of_int (3089))
                                          (Prims.of_int (47)))))
                                 (Obj.magic uu___6)
                                 (fun uu___7 ->
                                    FStar_Tactics_Effect.lift_div_tac
                                      (fun uu___8 ->
                                         FStar_List_Tot_Base.length uu___7)) in
                             FStar_Tactics_Effect.tac_bind
                               (FStar_Sealed.seal
                                  (Obj.magic
                                     (FStar_Range.mk_range
                                        "Steel.Effect.Common.fsti"
                                        (Prims.of_int (3089))
                                        (Prims.of_int (19))
                                        (Prims.of_int (3089))
                                        (Prims.of_int (47)))))
                               (FStar_Sealed.seal
                                  (Obj.magic
                                     (FStar_Range.mk_range
                                        "Steel.Effect.Common.fsti"
                                        (Prims.of_int (3089))
                                        (Prims.of_int (2))
                                        (Prims.of_int (3089))
                                        (Prims.of_int (47)))))
                               (Obj.magic uu___5)
                               (fun uu___6 ->
                                  (fun uu___6 ->
                                     Obj.magic (solve_maybe_emps uu___6))
                                    uu___6) in
                           Obj.magic
                             (FStar_Tactics_Effect.tac_bind
                                (FStar_Sealed.seal
                                   (Obj.magic
                                      (FStar_Range.mk_range
                                         "Steel.Effect.Common.fsti"
                                         (Prims.of_int (3089))
                                         (Prims.of_int (2))
                                         (Prims.of_int (3089))
                                         (Prims.of_int (47)))))
                                (FStar_Sealed.seal
                                   (Obj.magic
                                      (FStar_Range.mk_range
                                         "Steel.Effect.Common.fsti"
                                         (Prims.of_int (3094))
                                         (Prims.of_int (2))
                                         (Prims.of_int (3115))
                                         (Prims.of_int (26)))))
                                (Obj.magic uu___4)
                                (fun uu___5 ->
                                   (fun uu___5 ->
                                      let uu___6 =
                                        let uu___7 =
                                          let uu___8 =
                                            FStar_Tactics_V2_Derived.goals () in
                                          FStar_Tactics_Effect.tac_bind
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (3094))
                                                     (Prims.of_int (41))
                                                     (Prims.of_int (3094))
                                                     (Prims.of_int (50)))))
                                            (FStar_Sealed.seal
                                               (Obj.magic
                                                  (FStar_Range.mk_range
                                                     "Steel.Effect.Common.fsti"
                                                     (Prims.of_int (3094))
                                                     (Prims.of_int (24))
                                                     (Prims.of_int (3094))
                                                     (Prims.of_int (51)))))
                                            (Obj.magic uu___8)
                                            (fun uu___9 ->
                                               FStar_Tactics_Effect.lift_div_tac
                                                 (fun uu___10 ->
                                                    FStar_List_Tot_Base.length
                                                      uu___9)) in
                                        FStar_Tactics_Effect.tac_bind
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (3094))
                                                   (Prims.of_int (24))
                                                   (Prims.of_int (3094))
                                                   (Prims.of_int (51)))))
                                          (FStar_Sealed.seal
                                             (Obj.magic
                                                (FStar_Range.mk_range
                                                   "Steel.Effect.Common.fsti"
                                                   (Prims.of_int (3094))
                                                   (Prims.of_int (2))
                                                   (Prims.of_int (3094))
                                                   (Prims.of_int (51)))))
                                          (Obj.magic uu___7)
                                          (fun uu___8 ->
                                             (fun uu___8 ->
                                                Obj.magic
                                                  (solve_indirection_eqs
                                                     uu___8)) uu___8) in
                                      Obj.magic
                                        (FStar_Tactics_Effect.tac_bind
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (3094))
                                                    (Prims.of_int (2))
                                                    (Prims.of_int (3094))
                                                    (Prims.of_int (51)))))
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (3100))
                                                    (Prims.of_int (2))
                                                    (Prims.of_int (3115))
                                                    (Prims.of_int (26)))))
                                           (Obj.magic uu___6)
                                           (fun uu___7 ->
                                              (fun uu___7 ->
                                                 let uu___8 =
                                                   let uu___9 =
                                                     let uu___10 =
                                                       FStar_Tactics_V2_Derived.goals
                                                         () in
                                                     FStar_Tactics_Effect.tac_bind
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (3100))
                                                                (Prims.of_int (36))
                                                                (Prims.of_int (3100))
                                                                (Prims.of_int (45)))))
                                                       (FStar_Sealed.seal
                                                          (Obj.magic
                                                             (FStar_Range.mk_range
                                                                "Steel.Effect.Common.fsti"
                                                                (Prims.of_int (3100))
                                                                (Prims.of_int (19))
                                                                (Prims.of_int (3100))
                                                                (Prims.of_int (46)))))
                                                       (Obj.magic uu___10)
                                                       (fun uu___11 ->
                                                          FStar_Tactics_Effect.lift_div_tac
                                                            (fun uu___12 ->
                                                               FStar_List_Tot_Base.length
                                                                 uu___11)) in
                                                   FStar_Tactics_Effect.tac_bind
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (3100))
                                                              (Prims.of_int (19))
                                                              (Prims.of_int (3100))
                                                              (Prims.of_int (46)))))
                                                     (FStar_Sealed.seal
                                                        (Obj.magic
                                                           (FStar_Range.mk_range
                                                              "Steel.Effect.Common.fsti"
                                                              (Prims.of_int (3100))
                                                              (Prims.of_int (2))
                                                              (Prims.of_int (3100))
                                                              (Prims.of_int (46)))))
                                                     (Obj.magic uu___9)
                                                     (fun uu___10 ->
                                                        (fun uu___10 ->
                                                           Obj.magic
                                                             (solve_return_eqs
                                                                uu___10))
                                                          uu___10) in
                                                 Obj.magic
                                                   (FStar_Tactics_Effect.tac_bind
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (3100))
                                                               (Prims.of_int (2))
                                                               (Prims.of_int (3100))
                                                               (Prims.of_int (46)))))
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (3106))
                                                               (Prims.of_int (2))
                                                               (Prims.of_int (3115))
                                                               (Prims.of_int (26)))))
                                                      (Obj.magic uu___8)
                                                      (fun uu___9 ->
                                                         (fun uu___9 ->
                                                            let uu___10 =
                                                              let uu___11 =
                                                                let uu___12 =
                                                                  FStar_Tactics_V2_Derived.goals
                                                                    () in
                                                                FStar_Tactics_Effect.tac_bind
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (35))
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (44)))))
                                                                  (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (45)))))
                                                                  (Obj.magic
                                                                    uu___12)
                                                                  (fun
                                                                    uu___13
                                                                    ->
                                                                    FStar_Tactics_Effect.lift_div_tac
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    FStar_List_Tot_Base.length
                                                                    uu___13)) in
                                                              FStar_Tactics_Effect.tac_bind
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (18))
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (45)))))
                                                                (FStar_Sealed.seal
                                                                   (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (45)))))
                                                                (Obj.magic
                                                                   uu___11)
                                                                (fun uu___12
                                                                   ->
                                                                   (fun
                                                                    uu___12
                                                                    ->
                                                                    Obj.magic
                                                                    (norm_return_pre
                                                                    uu___12))
                                                                    uu___12) in
                                                            Obj.magic
                                                              (FStar_Tactics_Effect.tac_bind
                                                                 (FStar_Sealed.seal
                                                                    (
                                                                    Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3106))
                                                                    (Prims.of_int (45)))))
                                                                 (FStar_Sealed.seal
                                                                    (
                                                                    Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3109))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3115))
                                                                    (Prims.of_int (26)))))
                                                                 (Obj.magic
                                                                    uu___10)
                                                                 (fun uu___11
                                                                    ->
                                                                    (fun
                                                                    uu___11
                                                                    ->
                                                                    let uu___12
                                                                    =
                                                                    resolve_tac
                                                                    dict in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3109))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3109))
                                                                    (Prims.of_int (18)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3113))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3115))
                                                                    (Prims.of_int (26)))))
                                                                    (Obj.magic
                                                                    uu___12)
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    (fun
                                                                    uu___13
                                                                    ->
                                                                    let uu___14
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.set_goals
                                                                    loggs in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3113))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3113))
                                                                    (Prims.of_int (17)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3115))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3115))
                                                                    (Prims.of_int (26)))))
                                                                    (Obj.magic
                                                                    uu___14)
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    (fun
                                                                    uu___15
                                                                    ->
                                                                    Obj.magic
                                                                    (resolve_tac_logical
                                                                    dict))
                                                                    uu___15)))
                                                                    uu___13)))
                                                                    uu___11)))
                                                           uu___9))) uu___7)))
                                     uu___5))) uu___3))) uu___1)
let (init_resolve_tac : unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ -> init_resolve_tac' []
let _ =
  FStarC_Tactics_Native.register_tactic
    "Steel.Effect.Common.init_resolve_tac" (Prims.of_int (2))
    (fun psc ->
       fun ncb ->
         fun us ->
           fun args ->
             FStarC_Tactics_InterpFuns.mk_tactic_interpretation_1
               "Steel.Effect.Common.init_resolve_tac (plugin)"
               (FStarC_Tactics_Native.from_tactic_1 init_resolve_tac)
               FStarC_Syntax_Embeddings.e_unit
               FStarC_Syntax_Embeddings.e_unit psc ncb us args)

let (selector_tactic : unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    let uu___1 =
      FStar_Tactics_V2_Derived.apply
        (FStarC_Reflection_V2_Builtins.pack_ln
           (FStarC_Reflection_V2_Data.Tv_FVar
              (FStarC_Reflection_V2_Builtins.pack_fv
                 ["Steel"; "Effect"; "Common"; "squash_and"]))) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3128)) (Prims.of_int (2)) (Prims.of_int (3128))
               (Prims.of_int (21)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3129)) (Prims.of_int (2)) (Prims.of_int (3139))
               (Prims.of_int (34))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun uu___2 ->
            let uu___3 =
              FStar_Tactics_V2_Derived.apply_lemma
                (FStarC_Reflection_V2_Builtins.pack_ln
                   (FStarC_Reflection_V2_Data.Tv_FVar
                      (FStarC_Reflection_V2_Builtins.pack_fv
                         ["Steel";
                         "Effect";
                         "Common";
                         "intro_can_be_split_frame"]))) in
            Obj.magic
              (FStar_Tactics_Effect.tac_bind
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (3129)) (Prims.of_int (2))
                          (Prims.of_int (3129)) (Prims.of_int (41)))))
                 (FStar_Sealed.seal
                    (Obj.magic
                       (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                          (Prims.of_int (3130)) (Prims.of_int (2))
                          (Prims.of_int (3139)) (Prims.of_int (34)))))
                 (Obj.magic uu___3)
                 (fun uu___4 ->
                    (fun uu___4 ->
                       let uu___5 = FStar_Tactics_V2_Derived.flip () in
                       Obj.magic
                         (FStar_Tactics_Effect.tac_bind
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (3130)) (Prims.of_int (2))
                                     (Prims.of_int (3130)) (Prims.of_int (9)))))
                            (FStar_Sealed.seal
                               (Obj.magic
                                  (FStar_Range.mk_range
                                     "Steel.Effect.Common.fsti"
                                     (Prims.of_int (3131)) (Prims.of_int (2))
                                     (Prims.of_int (3139))
                                     (Prims.of_int (34)))))
                            (Obj.magic uu___5)
                            (fun uu___6 ->
                               (fun uu___6 ->
                                  let uu___7 =
                                    FStarC_Tactics_V2_Builtins.norm
                                      [FStar_Pervasives.delta_only
                                         ["FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit";
                                         "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
                                         "Steel.Effect.Common.rm";
                                         "FStar.Pervasives.Native.__proj__Mktuple2__item___1";
                                         "FStar.Pervasives.Native.__proj__Mktuple2__item___2";
                                         "FStar.Pervasives.Native.fst";
                                         "FStar.Pervasives.Native.snd"];
                                      FStar_Pervasives.delta_attr
                                        ["Steel.Effect.Common.__reduce__"];
                                      FStar_Pervasives.primops;
                                      FStar_Pervasives.iota;
                                      FStar_Pervasives.zeta] in
                                  Obj.magic
                                    (FStar_Tactics_Effect.tac_bind
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (3131))
                                                (Prims.of_int (2))
                                                (Prims.of_int (3138))
                                                (Prims.of_int (27)))))
                                       (FStar_Sealed.seal
                                          (Obj.magic
                                             (FStar_Range.mk_range
                                                "Steel.Effect.Common.fsti"
                                                (Prims.of_int (3139))
                                                (Prims.of_int (2))
                                                (Prims.of_int (3139))
                                                (Prims.of_int (34)))))
                                       (Obj.magic uu___7)
                                       (fun uu___8 ->
                                          (fun uu___8 ->
                                             Obj.magic
                                               (canon' false
                                                  (FStarC_Reflection_V2_Builtins.pack_ln
                                                     (FStarC_Reflection_V2_Data.Tv_FVar
                                                        (FStarC_Reflection_V2_Builtins.pack_fv
                                                           ["Steel";
                                                           "Effect";
                                                           "Common";
                                                           "true_p"])))
                                                  (FStarC_Reflection_V2_Builtins.pack_ln
                                                     (FStarC_Reflection_V2_Data.Tv_FVar
                                                        (FStarC_Reflection_V2_Builtins.pack_fv
                                                           ["Steel";
                                                           "Effect";
                                                           "Common";
                                                           "true_p"])))))
                                            uu___8))) uu___6))) uu___4)))
           uu___2)
let _ =
  FStarC_Tactics_Native.register_tactic "Steel.Effect.Common.selector_tactic"
    (Prims.of_int (2))
    (fun psc ->
       fun ncb ->
         fun us ->
           fun args ->
             FStarC_Tactics_InterpFuns.mk_tactic_interpretation_1
               "Steel.Effect.Common.selector_tactic (plugin)"
               (FStarC_Tactics_Native.from_tactic_1 selector_tactic)
               FStarC_Syntax_Embeddings.e_unit
               FStarC_Syntax_Embeddings.e_unit psc ncb us args)
let (ite_soundness_tac : unit -> (unit, unit) FStar_Tactics_Effect.tac_repr)
  =
  fun uu___ ->
    let uu___1 =
      let uu___2 = FStar_Tactics_V2_Derived.goals () in
      FStar_Tactics_Effect.tac_bind
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (3146)) (Prims.of_int (36))
                 (Prims.of_int (3146)) (Prims.of_int (46)))))
        (FStar_Sealed.seal
           (Obj.magic
              (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                 (Prims.of_int (3146)) (Prims.of_int (23))
                 (Prims.of_int (3146)) (Prims.of_int (46)))))
        (Obj.magic uu___2)
        (fun uu___3 -> (fun uu___3 -> Obj.magic (filter_goals uu___3)) uu___3) in
    FStar_Tactics_Effect.tac_bind
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3146)) (Prims.of_int (23))
               (Prims.of_int (3146)) (Prims.of_int (46)))))
      (FStar_Sealed.seal
         (Obj.magic
            (FStar_Range.mk_range "Steel.Effect.Common.fsti"
               (Prims.of_int (3145)) (Prims.of_int (37))
               (Prims.of_int (3170)) (Prims.of_int (8))))) (Obj.magic uu___1)
      (fun uu___2 ->
         (fun uu___2 ->
            match uu___2 with
            | (slgs, loggoals) ->
                let uu___3 = FStarC_Tactics_V2_Builtins.set_goals slgs in
                Obj.magic
                  (FStar_Tactics_Effect.tac_bind
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (3147)) (Prims.of_int (2))
                              (Prims.of_int (3147)) (Prims.of_int (16)))))
                     (FStar_Sealed.seal
                        (Obj.magic
                           (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                              (Prims.of_int (3148)) (Prims.of_int (2))
                              (Prims.of_int (3170)) (Prims.of_int (8)))))
                     (Obj.magic uu___3)
                     (fun uu___4 ->
                        (fun uu___4 ->
                           let uu___5 =
                             solve_indirection_eqs
                               (FStar_List_Tot_Base.length slgs) in
                           Obj.magic
                             (FStar_Tactics_Effect.tac_bind
                                (FStar_Sealed.seal
                                   (Obj.magic
                                      (FStar_Range.mk_range
                                         "Steel.Effect.Common.fsti"
                                         (Prims.of_int (3148))
                                         (Prims.of_int (2))
                                         (Prims.of_int (3148))
                                         (Prims.of_int (46)))))
                                (FStar_Sealed.seal
                                   (Obj.magic
                                      (FStar_Range.mk_range
                                         "Steel.Effect.Common.fsti"
                                         (Prims.of_int (3148))
                                         (Prims.of_int (47))
                                         (Prims.of_int (3170))
                                         (Prims.of_int (8)))))
                                (Obj.magic uu___5)
                                (fun uu___6 ->
                                   (fun uu___6 ->
                                      let uu___7 =
                                        FStar_Tactics_V2_Derived._cur_goal () in
                                      Obj.magic
                                        (FStar_Tactics_Effect.tac_bind
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (3151))
                                                    (Prims.of_int (21))
                                                    (Prims.of_int (3151))
                                                    (Prims.of_int (33)))))
                                           (FStar_Sealed.seal
                                              (Obj.magic
                                                 (FStar_Range.mk_range
                                                    "Steel.Effect.Common.fsti"
                                                    (Prims.of_int (3152))
                                                    (Prims.of_int (2))
                                                    (Prims.of_int (3170))
                                                    (Prims.of_int (8)))))
                                           (Obj.magic uu___7)
                                           (fun uu___8 ->
                                              (fun subcomp_goal ->
                                                 let uu___8 =
                                                   FStar_Tactics_V2_Derived.goals
                                                     () in
                                                 Obj.magic
                                                   (FStar_Tactics_Effect.tac_bind
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (3152))
                                                               (Prims.of_int (8))
                                                               (Prims.of_int (3152))
                                                               (Prims.of_int (16)))))
                                                      (FStar_Sealed.seal
                                                         (Obj.magic
                                                            (FStar_Range.mk_range
                                                               "Steel.Effect.Common.fsti"
                                                               (Prims.of_int (3152))
                                                               (Prims.of_int (2))
                                                               (Prims.of_int (3170))
                                                               (Prims.of_int (8)))))
                                                      (Obj.magic uu___8)
                                                      (fun uu___9 ->
                                                         (fun uu___9 ->
                                                            match uu___9 with
                                                            | [] ->
                                                                Obj.magic
                                                                  (Obj.repr
                                                                    (FStar_Tactics_V2_Derived.fail
                                                                    "should not happen"))
                                                            | uu___10::tl ->
                                                                Obj.magic
                                                                  (Obj.repr
                                                                    (let uu___11
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.set_goals
                                                                    tl in
                                                                    FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3154))
                                                                    (Prims.of_int (13))
                                                                    (Prims.of_int (3154))
                                                                    (Prims.of_int (25)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3156))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___11)
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    (fun
                                                                    uu___12
                                                                    ->
                                                                    let uu___13
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "equiv_forall_refl"]))))
                                                                    FStar_Tactics_V2_Derived.assumption in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3156))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3156))
                                                                    (Prims.of_int (64)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3157))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___13)
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    (fun
                                                                    uu___14
                                                                    ->
                                                                    let uu___15
                                                                    =
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.or_else
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "can_be_split_dep_refl"]))))
                                                                    (fun
                                                                    uu___17
                                                                    ->
                                                                    FStar_Tactics_V2_Derived.apply_lemma
                                                                    (FStarC_Reflection_V2_Builtins.pack_ln
                                                                    (FStarC_Reflection_V2_Data.Tv_FVar
                                                                    (FStarC_Reflection_V2_Builtins.pack_fv
                                                                    ["Steel";
                                                                    "Effect";
                                                                    "Common";
                                                                    "can_be_split_refl"])))))
                                                                    FStar_Tactics_V2_Derived.assumption in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3157))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3160))
                                                                    (Prims.of_int (16)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3163))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___15)
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    (fun
                                                                    uu___16
                                                                    ->
                                                                    let uu___17
                                                                    =
                                                                    FStar_Tactics_V2_Derived.smt
                                                                    () in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3163))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3163))
                                                                    (Prims.of_int (8)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3165))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___17)
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    (fun
                                                                    uu___18
                                                                    ->
                                                                    let uu___19
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.set_goals
                                                                    loggoals in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3165))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3165))
                                                                    (Prims.of_int (20)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3166))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___19)
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    (fun
                                                                    uu___20
                                                                    ->
                                                                    let uu___21
                                                                    =
                                                                    resolve_tac_logical
                                                                    [] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3166))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3166))
                                                                    (Prims.of_int (24)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3168))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___21)
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    (fun
                                                                    uu___22
                                                                    ->
                                                                    let uu___23
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.set_goals
                                                                    [subcomp_goal] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3168))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3168))
                                                                    (Prims.of_int (26)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3169))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___23)
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    (fun
                                                                    uu___24
                                                                    ->
                                                                    let uu___25
                                                                    =
                                                                    FStarC_Tactics_V2_Builtins.norm
                                                                    [] in
                                                                    Obj.magic
                                                                    (FStar_Tactics_Effect.tac_bind
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3169))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3169))
                                                                    (Prims.of_int (9)))))
                                                                    (FStar_Sealed.seal
                                                                    (Obj.magic
                                                                    (FStar_Range.mk_range
                                                                    "Steel.Effect.Common.fsti"
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (2))
                                                                    (Prims.of_int (3170))
                                                                    (Prims.of_int (8)))))
                                                                    (Obj.magic
                                                                    uu___25)
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    (fun
                                                                    uu___26
                                                                    ->
                                                                    Obj.magic
                                                                    (FStar_Tactics_V2_Derived.smt
                                                                    ()))
                                                                    uu___26)))
                                                                    uu___24)))
                                                                    uu___22)))
                                                                    uu___20)))
                                                                    uu___18)))
                                                                    uu___16)))
                                                                    uu___14)))
                                                                    uu___12))))
                                                           uu___9))) uu___8)))
                                     uu___6))) uu___4))) uu___2)
let (vc_norm : unit -> (unit, unit) FStar_Tactics_Effect.tac_repr) =
  fun uu___ ->
    FStarC_Tactics_V2_Builtins.with_compat_pre_core Prims.int_zero
      (fun uu___1 ->
         let uu___2 =
           FStarC_Tactics_V2_Builtins.norm
             [FStar_Pervasives.delta_attr
                ["Steel.Effect.Common.__steel_reduce__";
                "Steel.Effect.Common.__inner_steel_reduce__"];
             FStar_Pervasives.delta_only
               ["Steel.Effect.Common.__proj__Mkvprop'__item__t";
               "Steel.Effect.Common.__proj__Mkvprop'__item__hp";
               "Steel.Effect.Common.__proj__Mkvprop'__item__sel";
               "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__mult";
               "FStar.Algebra.CommMonoid.Equiv.__proj__CM__item__unit"];
             FStar_Pervasives.delta_qualifier ["unfold"];
             FStar_Pervasives.iota;
             FStar_Pervasives.zeta;
             FStar_Pervasives.primops;
             FStar_Pervasives.simplify] in
         FStar_Tactics_Effect.tac_bind
           (FStar_Sealed.seal
              (Obj.magic
                 (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                    (Prims.of_int (3176)) (Prims.of_int (61))
                    (Prims.of_int (3176)) (Prims.of_int (78)))))
           (FStar_Sealed.seal
              (Obj.magic
                 (FStar_Range.mk_range "Steel.Effect.Common.fsti"
                    (Prims.of_int (3176)) (Prims.of_int (80))
                    (Prims.of_int (3176)) (Prims.of_int (87)))))
           (Obj.magic uu___2)
           (fun uu___3 ->
              (fun uu___3 -> Obj.magic (FStar_Tactics_V2_Derived.trefl ()))
                uu___3))
type observability =
  | Observable 
  | Unobservable 
let (uu___is_Observable : observability -> Prims.bool) =
  fun projectee -> match projectee with | Observable -> true | uu___ -> false
let (uu___is_Unobservable : observability -> Prims.bool) =
  fun projectee ->
    match projectee with | Unobservable -> true | uu___ -> false
let (obs_at_most_one : observability -> observability -> Prims.bool) =
  fun o1 -> fun o2 -> (o1 = Unobservable) || (o2 = Unobservable)
let (join_obs : observability -> observability -> observability) =
  fun o1 ->
    fun o2 ->
      if (o1 = Observable) || (o2 = Observable)
      then Observable
      else Unobservable
type 'p inv = unit